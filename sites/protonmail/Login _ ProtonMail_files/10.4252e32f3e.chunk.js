(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+2F5":function(t,e){var a=window.angular,n="templates/message/encryptionStatus.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=encryptionStatus-container> <a class="fa locks fa-lock" href=https://protonmail.com/support/knowledge-base/what-is-encrypted/ target=_blank ng-if="!displaySignatureStatus() && !message.isPGPEncrypted()" ng-class="{\n            \'text-purple\': message.isInternal() || message.isSentEncrypted() || message.isDraft() || message.isAuto(),\n        }"> </a> <a class="fa locks fa-lock pgp" href=https://protonmail.com/support/knowledge-base/how-to-use-pgp target=_blank ng-if="!displaySignatureStatus() && message.isPGPEncrypted()"> </a> <a href=https://protonmail.com/support/knowledge-base/digital-signature/ target=_blank ng-if=displaySignatureStatus()> <svg class=signed-lock width=18 viewBox="0 0 374.8 337.1" ng-class="{\n                \'valid-sig\': message.verified === 1,\n                \'invalid-sig\': message.verified !== 1,\n                \'internal\': message.isInternal() || message.isSentEncrypted() || message.isDraft() || message.isAuto(),\n                \'pgp\': message.isPGPEncrypted(),\n            }"> <use ng-if="message.verified === 1" xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-lock-signed></use> <use ng-if="message.verified !== 1" xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-lock-warning></use> </svg> </a> </div> ')}])}t.exports=n},"+AtJ":function(t,e){var a=window.angular,n="templates/directives/ui/readUnread.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<span class="pm_buttons readUnread-container" data-ng-class="{ disabled: isDisabled(), \'readUnread-container-ur\': messageButtons === 1 }"> <a href=# role=button class="fa fa-eye readUnread-btn-read" data-action=read pt-tooltip-translate="Mark as read" pt-tooltip-translate-context=Action> <span class=sr-only translate-context=Action translate>Mark as read</span> </a> <a href=# role=button class="fa fa-eye-slash readUnread-btn-unread" data-action=unread pt-tooltip-translate="Mark as unread" pt-tooltip-translate-context=Action> <span class=sr-only translate-context=Action translate>Mark as unread</span> </a> </span> ')}])}t.exports=n},"+HTY":function(t,e){var a=window.angular,n="templates/directives/ui/protonLoader.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_loading class=protonLoader> <div class=protonLoaderIcon> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1 width=12px height=16px> <g xmlns=http://www.w3.org/2000/svg> <path fill=#9397cd d="M5.642,0.23c0,0-4.677-0.154-5.642,5.035v3.534c0,0,0.04,0.378,1.104,1.146   c1.064,0.768,3.817,2.931,4.538,2.931s3.475-2.163,4.538-2.931c1.064-0.768,1.104-1.146,1.104-1.146V5.264   C10.319,0.076,5.642,0.23,5.642,0.23z M8.845,7.191H5.642H2.439V5.264c0.65-2.577,3.203-2.612,3.203-2.612s2.553,0.035,3.203,2.612   V7.191z"/> <path fill=#9397cd d="M5.642,13.672c0,0-0.725-0.071-1.292-0.465C3.783,12.813,0,10.11,0,10.11v5.35c0,0,0.032,0.622,0.718,0.622   s4.925,0,4.925,0s4.239,0,4.925,0s0.718-0.622,0.718-0.622v-5.35c0,0-3.783,2.703-4.35,3.097   C6.367,13.601,5.642,13.672,5.642,13.672z"/> </g> </svg> </div> </div> ')}])}t.exports=n},"+O85":function(t,e){var a=window.angular,n="templates/squire/squireModalListener.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div> <input class=addFile-fileInput type=file accept=image/jpeg,image/gif,image/png> </div> ")}])}t.exports=n},"+Y4x":function(t,e){var a=window.angular,n="templates/dashboard/plusColumn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=plusColumn-container> <header class=plusColumn-header> <div class=isCurrent translate-context="Dashboard plan title" translate>Current Plan</div> <h1>Plus</h1> <plan-price data-plan=plus></plan-price> </header> <div class=plusColumn-user translate-context="Dashboard plan information" translate>1 User</div> <div class=plusColumn-space> <addon-row data-addon=space data-plan=plus></addon-row> </div> <div class=plusColumn-address> <addon-row data-addon=address data-plan=plus></addon-row> <i class="fa fa-info-circle" pt-tooltip-translate="Add additional addresses to your account like <u>username2@protonmail.com</u>" pt-tooltip-translate-context="Dashboard plan detail" pt-html=true></i> </div> <div class=plusColumn-domain> <addon-row data-addon=domain data-plan=plus></addon-row> <i class="fa fa-info-circle" pt-tooltip-translate="Allows you to host emails for your own domain(s) at ProtonMail, e.g. <u>john.smith@example.com</u>" pt-tooltip-translate-context="Dashboard plan detail" pt-html=true></i> </div> <div class=plusColumn-sending translate-context="Dashboard plan information" translate>1000 Messages per day</div> <div class=plusColumn-labels translate-context="Dashboard plan information" translate>200 Folders / 200 Labels</div> <div class=plusColumn-support translate-context="Dashboard plan information" translate>Support</div> <div class=plusColumn-filters translate-context="Dashboard plan information" translate>Custom Filters</div> <div class=plusColumn-autoresponder translate-context="Dashboard plan information" translate>Autoresponder</div> <div class="plusColumn-catch-all disabled"><s translate-context="Dashboard plan information" translate>Catch-all email</s></div> <div class="plusColumn-members disabled"><s translate-context="Dashboard plan information" translate>Multi-User Support</s></div> <vpn-row data-plan=plus class=plusColumn-vpn></vpn-row> <total-rows data-plan=plus></total-rows> <footer class=plusColumn-footer> <select-plan data-plan=plus></select-plan> </footer> </div> ')}])}t.exports=n},"+hKR":function(t,e){var a=window.angular,n="templates/filter/spamLists.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=row> <div class="setting pm_form full"> <header-block class=settingsLabels-header-spam> <h2 class=settingsLabels-title-spam translate translate-context=Title>Spam Filters</h2> </header-block> <p class="alert alert-info"> <span translate translate-context=Info>Sender specific spam rules can be applied here. Allow list addresses always go to Inbox while Block list addresses always go to Spam. Marking a message as spam adds the address to the Block list. Marking a message as not spam adds the address to the Allow list.</span> <a href=https://protonmail.com/support/knowledge-base/spam-filtering/ target=_blank translate translate-context=Link>Learn More</a> </p> <spam-list-search></spam-list-search> <div class=pm_grid> <div class=col-1-2> <email-block-list id=whitelist data-list-type=whitelist data-switch-to=blacklist></email-block-list> </div> <div class=col-1-2> <email-block-list id=blacklist data-list-type=blacklist data-switch-to=whitelist></email-block-list> </div> </div> </div> </div> ')}])}t.exports=n},"+iZh":function(t,e){var a=window.angular,n="templates/ui/navigation/navigationReport.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<li class=navigationReport> <a class="navigation-link pm_trigger" dropdown href=# id=tour-support> <span class=navigation-icons> <i class="fa fa-life-ring"></i> <i class="fa fa-angle-down"></i> </span> <span class=navigation-title translate translate-context=Action>Report bug</span> </a> <span class="pm_dropdown navigationReport-dropdown wide right"> <a href=https://protonmail.com/support target=_blank class=navigationReport-help> <i class="fa fa-question-circle"></i> <span translate translate-context=Action>I have a question</span> </a> <new-bug-report class=navigationReport-help id=reportBugBtn></new-bug-report> </span> </li> ')}])}t.exports=n},"/0db":function(t,e){var a=window.angular,n="templates/user/addressesSelector.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<span class="pm_select addressesSelector-container"> <select class=addressesSelector-select></select> <i class="addressesSelector-icon fa fa-angle-down"></i> </span> ')}])}t.exports=n},"/6fV":function(t,e){var a=window.angular,n="templates/contact/contactGroupsOverview.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<ul class="contactGroupsOverview-container pm_labels"></ul> ')}])}t.exports=n},"/AKp":function(t,e){var a=window.angular,n="templates/autoresponder/autoresponderTimeSection.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class="pm_form col-1-2"> <div class=clearfix> <div class=col-1-4> <label for=enable translate-context=Label translate>Enable</label> </div> <div class=col-3-4> <toggle ng-disabled=mock name=autoresponder.toggle data-id=enable status=model.IsEnabled ng-if=!mock></toggle> </div> </div> <div class=clearfix ng-if=model.IsEnabled> <div class=col-1-4> <label for=select-duration translate-context=Label translate>Duration</label> </div> <div class=col-3-4> <div class="pm_grid no-padding no-margin"> <div class=col-1-2> <div class=pm_select> <durationselect data-repeat="{{ ::model.Repeat }}" data-disable-input="{{ ::mock }}"></durationselect> <i class="fa fa-angle-down"></i> </div> </div> </div> <p class=help ng-if="model.Repeat === constants.FOREVER"> <i class="fa fa-info-circle ng-scope"></i> <span translate-context="Auto-reply duration description" translate>Auto-reply is active until you turn it off.</span> </p> <p class=help ng-if="model.Repeat === constants.FIXED_INTERVAL"> <i class="fa fa-info-circle ng-scope"></i> <span translate-context="Auto-reply duration description" translate>Auto-reply is active from the start time to the end time.</span> </p> <p class=help ng-if="model.Repeat === constants.DAILY"> <i class="fa fa-info-circle ng-scope"></i> <span translate-context="Auto-reply duration description" translate>Auto-reply is always active on the days of the week you select, between the selected hours.</span> </p> <p class=help ng-if="model.Repeat === constants.WEEKLY"> <i class="fa fa-info-circle ng-scope"></i> <span translate-context="Auto-reply duration description" translate>Auto-reply is active each week between the selected start and end time.</span> </p> <p class=help ng-if="model.Repeat === constants.MONTHLY"> <i class="fa fa-info-circle ng-scope"></i> <span translate-context="Auto-reply duration description" translate>Auto-reply is active each month between the selected start and end time.</span> </p> </div> </div> <div class=clearfix ng-if="model.Repeat === constants.DAILY && model.IsEnabled"> <div class=col-1-4> <label translate-context=Label translate>Days</label> </div> <div class=col-3-4> <multiselect name=autoresponder.DaysSelected id=enabledDays data-options=days data-selected=model.DaysSelected data-disabled="{{ ::mock }}"></multiselect> </div> </div> <div class=clearfix ng-if="model.Repeat !== constants.FOREVER && model.IsEnabled"> <div class=col-1-4> <label translate-context=Label translate for=startTime>Start time</label> </div> <autoresponder-time-picker data-date-picker-key=datetimepickerStartTime id=datetimepickerStartTime data-label-id=StartTime data-repeat="{{ ::model.Repeat }}" data-zone="{{ ::model.Zone }}" data-timestamp="{{ ::model.StartTime }}" data-disable-input="{{ ::mock }}" data-form=form></autoresponder-time-picker> </div> <div class=clearfix ng-if="model.Repeat !== constants.FOREVER && model.IsEnabled"> <div class=col-1-4> <label translate-context=Label translate for=endTime>End time</label> </div> <autoresponder-time-picker data-date-picker-key=datetimepickerEndTime id=datetimepickerEndTime data-label-id=EndTime data-repeat="{{ ::model.Repeat }}" data-zone="{{ ::model.Zone }}" data-timestamp="{{ ::model.EndTime }}" data-disable-input="{{ ::mock }}" data-form=form></autoresponder-time-picker> </div> <div class=clearfix ng-if="model.Repeat !== constants.FOREVER && model.IsEnabled"> <div class=col-1-4> <label for=time-zone translate-context=Label translate>Time zone</label> </div> <div class=col-3-4> <div class="pm_grid no-padding no-margin"> <div class=col-1-2> <div class=pm_select> <zoneselect data-zone="{{ ::model.Zone }}" data-disable-input="{{ ::mock }}"></zoneselect> <i class="fa fa-angle-down"></i> </div> </div> </div> </div> </div> <div class="clearfix desktopOnly"> </div> </section> ')}])}t.exports=n},"/Bn5":function(t,e,a){"use strict";e.a=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=-1;return t.replace(/\n(\s+)/g,(function(t,a){return e<0&&(e=a.replace(/\t/g,"    ").length),"\n"+a.slice(Math.min(a.length,e))}))}if("string"==typeof t)return o(t);if("function"==typeof t)return function(){return o(t.apply(void 0,arguments))};var r=t.slice(0,a.length+1).map((function(t,e){return(0===e?"":a[e-1])+t})).join("");return o(r)}},"/TQ7":function(t,e){var a=window.angular,n="templates/modals/switchPasswordMode.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <form class=modal-dialog name=switchPasswordModeForm ng-submit=ctrl.save() novalidate> <button type=button ng-click=ctrl.cancel() title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h3 ng-show="ctrl.currentPasswordMode === 1" class=modal-title translate-context=Title translate>Switch to Two-Password Mode</h3> <h3 ng-show="ctrl.currentPasswordMode === 2" class=modal-title translate-context=Title translate>Switch to One-Password Mode</h3> </div> <div class="modal-body pm_form" ng-show="ctrl.currentPasswordMode === 2"> <p class="alert alert-info" translate-context=Info translate>ProtonMail can also be used with a single password which replaces both the login and mailbox password. To switch to single password mode, enter the single password you would like to use and click Save.</p> <div class=pm_grid> <div class=col-1-3> <label for="" translate-context=Label translate>Password</label> </div> <div class=col-2-3> <input type=password ng-model=ctrl.password /> </div> </div> <div class=pm_grid> <div class=col-1-3> <label for="" translate-context=Label translate>Confirm password</label> </div> <div class=col-2-3> <input type=password ng-model=ctrl.confirmPassword /> </div> </div> </div> <div class="modal-body pm_form" ng-show="ctrl.currentPasswordMode === 1"> <p class="alert alert-info" translate-context=Info translate>Two-password mode uses separate passwords for login and mailbox decryption. This provides a minor security benefit in some situations, however we recommend one-password mode for most users. To switch to two password mode, enter the login and mailbox password you would like to use and click Save.</p> <div class=pm_grid> <div class=col-1-3> <label for="" translate-context=Title translate>Login password</label> </div> <div class=col-2-3> <input type=password ng-model=ctrl.loginPassword /> </div> </div> <div class=pm_grid> <div class=col-1-3> <label for="" translate-context=Title translate>Confirm login password</label> </div> <div class=col-2-3> <input type=password ng-model=ctrl.confirmLoginPassword /> </div> </div> <div class=pm_grid> <div class=col-1-3> <label for="" translate-context=Title translate>Mailbox password</label> </div> <div class=col-2-3> <input type=password ng-model=ctrl.mailboxPassword /> </div> </div> <div class=pm_grid> <div class=col-1-3> <label for="" translate-context=Title translate>Confirm mailbox password</label> </div> <div class=col-2-3> <input type=password ng-model=ctrl.confirmMailboxPassword /> </div> </div> <div class="alert alert-danger"> <ul> <li translate-context=Info translate>We recommend using different login and mailbox passwords.</li> <li translate-context=Info translate>Do NOT forget your mailbox password. If you forget it, you will not be able to decrypt your messages.</li> <li translate-context=Info translate>Save your passwords somewhere safe. Click on <i class="fa fa-eye"></i> icon to confirm you that have typed your password correctly.</li> <li translate-context=Info translate>We recommend adding a recovery email address first. Otherwise, you cannot recover your account if something goes wrong.</li> </ul> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button disabled-if-network-activity" translate translate-context=Action>Submit</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"/WHQ":function(t,e){var a=window.angular,n="templates/modals/addAddress.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <form class=modal-dialog name=addressForm ng-submit=ctrl.submit() novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Create Address</h4> </div> <div class="modal-body pm_form"> <div class=pm_grid ng-if="\'secured.members\' | includedByState"> <div class=col-3-8> <span class=label translate-context=Label translate>User</span> </div> <div class=col-5-8> <strong class=label>{{ ctrl.members[0].Name }}</strong> </div> </div> <div class=pm_grid ng-if="\'secured.domains\' | includedByState"> <div class=col-3-8> <label translate-context=Label translate>Choose the user who will own this address</label> </div> <div class=col-5-8> <div class=col-1-2> <span class=pm_select> <select ng-model=ctrl.member ng-options="member.Name for member in ctrl.members"></select> <i class="fa fa-angle-down"></i> </span> </div> <div class=col-1-2 ng-show=ctrl.showAddMember> <button type=button ng-click=ctrl.addMember() class=pm_button translate-context=Action translate-comment=button translate>Add user</button> </div> </div> </div> <div class=pm_grid> <div class=col-3-8> <label translate-context=Label translate>Enter address</label> </div> <div class=col-5-8> <div class=col-1-2> <input autofocus type=text ng-model=ctrl.address placeholder-translate-context="Example user" placeholder-translate=thomas.anderson required/> </div> <div class=col-1-2 ng-show="ctrl.domains.length === 1"> <label class=bold><span class=ellipsis title="@{{ ctrl.domain.DomainName }}">@{{ ctrl.domain.DomainName }}</span></label> </div> <div class=col-1-2 ng-show="ctrl.domains.length > 1"> <span class=pm_select> <select ng-model=ctrl.domain ng-options="\'@\'+domain.DomainName for domain in ctrl.domains"></select> <i class="fa fa-angle-down"></i> </span> </div> </div> </div> <p ng-hide=ctrl.domain.ID class="alert alert-info" translate translate-context=Info>ProtonMail addresses can never be deleted (only disabled). ProtonMail addresses will always count towards your address limit whether enabled or not. <a href=https://protonmail.com/support/knowledge-base/addresses-and-aliases/ target=_blank>Learn more</a></p> <h3 translate-context="Title in the address modal" translate>Name / Signature</h3> <display-name-signature data-model=ctrl.model></display-name-signature> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button class="pm_button primary modal-footer-button disabled-if-network-activity" translate translate-context=Action>Save</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"/kRT":function(t,e){var a=window.angular,n="templates/authentication/modals/oldPasswordModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <form class=modal-dialog ng-submit="passwordModalForm.$valid && ctrl.submit()" name=passwordModalForm novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context=Title translate>Key password</h4> </div> <div class="modal-body pm_form"> <div class=multi-line-label> <label ng-if="ctrl.passwordMode === 1" for=password translate translate-context="Label in the modal which ask the user to enter his password or mailbox password">Enter your previous mailbox password from before your account was reset:</label> <label ng-if="ctrl.passwordMode === 2" for=password translate translate-context="Label in the modal which ask the user to enter his password or mailbox password">Enter your previous password from before your account was reset:</label> </div> <input type=password autofocus ng-model=ctrl.password id=password placeholder-translate-context=Placeholder placeholder-translate=Password name=password required> <div ng-messages=passwordModalForm.password.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate-context=Action translate>Cancel</button> <button class="pm_button primary modal-footer-button" translate-context=Action translate>Submit</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"/xA7":function(t,e){var a=window.angular,n="templates/contact/contactMerger.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactMergerList-table> <div ng-repeat="(key, contacts) in groups track by key" data-as-sortable=dragControlListener data-ng-model=contacts data-email="{{ ::key }}" class=contactMergerList-group> <div ng-repeat="contact in contacts track by contact.id" ng-class="{\n                deleted: contact.deleted,\n                included: contact.included\n            }" data-as-sortable-item data-email="{{ ::key }}" data-i="{{ $index }}" class="contactMergerList-item as-sortable-item"> <div class=contactMergerList-priority> <span class=value>{{ $index + 1 }}</span> </div> <div data-as-sortable-item-handle class=contactMergerList-name ng-class="{ \'as-sortable-item-handle\': contact.included}"> <custom-checkbox class=checkbox data-custom-ng-model=contact.selected data-custom-name=select></custom-checkbox> <span class=contactMergerList-name-span>{{ ::contact.name }}</span> </div> <div class=contactMergerList-emails>{{ ::contact.email }}</div> <div class=contactMergerList-actions> <button name=details type=button class=details pt-tooltip-translate="Contact details" pt-tooltip-translate-context=Action> <i class="fa fa-vcard-o"></i> </button> <button type=button class=delete name=delete pt-tooltip-translate=Delete pt-tooltip-translate-context=Action> <i class="fa fa-trash-o"></i> </button> <button type=button class=undelete name=undelete pt-tooltip-translate=Undo pt-tooltip-translate-context=Action> <i class="fa fa-undo"></i> </button> </div> </div> <div class=contactMergerList-group-footer> <button name=preview class="pm_button contactMergerList-group-preview" ng-disabled=!willMerge(key) translate-context=Contact translate>Preview Contact</button> </div> </div> </div> ')}])}t.exports=n},"085u":function(t,e){var a=window.angular,n="templates/modals/generate.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal important {{ctrl.class}} generateModal-container" ng-class="{ \'generateModal-process\': ctrl.process }" role=dialog> <form method=post class=modal-dialog ng-submit=ctrl.submit() novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title>{{ ::ctrl.title }}</h4> </div> <div class="modal-body pm_form"> <p ng-show=ctrl.message class=generateModal-key-about>{{ ::ctrl.message }}</p> <div class=pm_grid ng-if=ctrl.askPassword> <div class=col-1-2> <label for=password translate translate-context=Title>Password</label> </div> <div class=col-1-2> <input id=password type=password ng-model=ctrl.password /> </div> </div> <div class=generateModal-key-config> <label class=checkbox> <custom-radio data-custom-ng-model=ctrl.encryptionConfigName data-custom-value=RSA2048></custom-radio> <strong translate translate-context=Title translate-comment="form option heading">High security</strong> <i translate translate-context=info translate-comment="form option comment">RSA 2048-bit (Older but faster)</i> </label> <label class=checkbox> <custom-radio data-custom-ng-model=ctrl.encryptionConfigName data-custom-value=RSA4096></custom-radio> <strong translate translate-context=Title translate-comment="form option heading">Highest security</strong> <i translate translate-context=info translate-comment="form option comment">RSA 4096-bit (Secure but slow)</i> </label> <label class=checkbox> <custom-radio data-custom-ng-model=ctrl.encryptionConfigName data-custom-value=X25519></custom-radio> <strong translate translate-context=Title translate-comment="form option heading">State-of-the-art</strong> <i translate translate-context=info translate-comment="form option comment">X25519 (Modern, fastest, secure)</i> </label> </div> <p class="alert alert-info generateModal-key-about" ng-if="ctrl.encryptionConfigName === \'RSA4096\'" translate-context=Info translate>Generating RSA 4096-bit encryption keys may crash or freeze your browser. RSA 4096-bit keys are only recommended for high performance computers - not recommended for tablet and mobile devices.</p> <p class=generateModal-process-about translate-context=Info translate>We are now generating encryption keys for your address, this may take several minutes and temporarily freeze your browser.</p> <div class=pm_table> <table> <thead> <tr> <th scope=col translate translate-context=Title translate-comment="table heading">Address</th> <th scope=col style=width:6rem class="text-right generate-status" translate translate-context=Title translate-comment="table heading">Status</th> </tr> </thead> <tbody> <tr class=generateModal-row data-state={{address.state}} ng-repeat="address in ctrl.addresses | orderBy: \'Order\' track by address.ID"> <td>{{ ::address.Email }}</td> <td class="generate-status text-right"> <span class="pm_badge generateModal-state-queued" translate translate-context="key generation progrss">Queued</span> <span class="generateModal-state-generating pm_badge"><i class="fa fa-spinner fa-spin"></i> <span translate translate-context="key generation progrss">Generating</span></span> <span class="generateModal-state-done pm_badge success" translate translate-context="key generation progrss">Done</span> <span class="generateModal-state-saved pm_badge success" translate translate-context="key generation progrss">Saved</span> <span class="generateModal-state-error pm_badge error" translate translate-context=Error translate-comment="key generation progrss">Error</span> </td> </tr> </tbody> </table> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() ng-disabled="ctrl.process === true" translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button" ng-disabled="ctrl.process === true" translate translate-context=Action>Generate Keys</button> <button ng-if=ctrl.import type=submit class="pm_button link modal-footer-button" ng-disabled="ctrl.process === true" translate translate-context=Action ng-click=ctrl.import()>Import</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"0DtK":function(t,e){var a=window.angular,n="templates/ui/weekdayTimePicker.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_grid no-padding no-margin datetimepicker"> <div class=col-4-8> <div class=pm_select> <select class="week-day-selector always-show-ng-invalid" ng-model=model.weekday ng-options="day for day in days track by day" ng-disabled=disableInput name={{::datePickerKey}} required> <option value="" disabled=disabled translate-context="Label select weekday" translate>Select weekday</option> </select> <i class="fa fa-angle-down"></i> </div> </div> <div class="col-4-8 timepicker-container"> <time-picker class=timepicker ng-model=model.time data-event-key="{{ ::timePickerKey }}"></time-picker> </div> <div class="col-1-1 text-red" ng-messages=combineErrors()> <p ng-message=time_required translate-context="Error input" translate>Please enter a valid time.</p> <p ng-message=date_required translate-context="Error input" translate>Please enter a valid day in the week.</p> <p ng-message=both_required translate-context="Error input" translate>Please enter a valid day in the week and time.</p> </div> </div> ')}])}t.exports=n},"0GlB":function(t,e){var a=window.angular,n="templates/directives/composer/composerSelectFrom.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=composerSelectFrom-container> <label translate translate-context=Title for=fromMessage{{::message.ID}}>From</label> <select class=flex id=fromMessage{{::message.ID}} name=fromMessage{{::message.ID}} ng-model=message.From ng-options="address.Email for address in addresses track by address.Email"></select> <button class="pm_button link"> <i class="fa fa-angle-down"></i> </button> </div> ')}])}t.exports=n},"0JHt":function(t,e){var a=window.angular,n="templates/views/domains.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class=settings> <p class="alert alert-info" ng-if=mobileMode translate translate-context=Info translate-comment="responsiveness info">This page is only available on larger resolution devices. If you are on a phone, try landscape mode, or visit on a computer instead.</p> <restore-administrator-panel ng-if="keyStatus === 2"></restore-administrator-panel> <div class=row ng-show="isFree === true"> <section class="setting pm_form full"> <header-block class=settingsDomains-header-free> <h2 class=settingsDomains-title-free translate translate-context=Title>Domains</h2> </header-block> <p class="alert alert-info" translate-context=Domains translate>Use your own domain with ProtonMail and use your own email address, e.g. yourname@yourdomain.com. To enable this feature, <a ui-sref="secured.dashboard({scroll: true})">upgrade to ProtonMail Plus</a>.</p> </section> </div> <div class=row id=settingsDomains ng-show="isAdmin === true"> <section class="setting pm_form full"> <header-block class=settingsDomains-header-domain> <h2 class=settingsDomains-title-domain translate translate-context=Title>Domains</h2> <small class=settingsDomains-details-domain ng-if=isAdmin> {{ organization.UsedDomains }} / {{ organization.MaxDomains }} <span translate-context="how many domains are in use" translate>domains used.</span> <a class=settingsDomains-link-domain ui-sref="secured.dashboard({scroll: true})" data-hide-upgrade=domain translate-context=Action translate-comment="link to dashboard page" translate>Upgrade your plan</a> </small> </header-block> <p class="alert alert-info" ng-show="organization.UsedDomains === organization.MaxDomains" translate-context="Domains information" translate>You have reached your custom domain limit. <a ui-sref=secured.dashboard>Click here</a> to upgrade your plan to add more.</p> <div class=margin> <button ng-hide="organization.UsedDomains === organization.MaxDomains" type=button class="pm_button primary" ng-click=addDomain() translate-context=Action translate-comment="button to add custom domains" translate>Add custom domain</button> <button type=button class=pm_button ng-click=refreshStatus() translate-context=Action translate>Refresh domain status</button> </div> <div class=pm_table> <table class="bordered domains" ng-show="domains.length > 0" id=domainsTable> <thead> <tr> <th scope=col style=width:10rem class=domain translate-context=Title translate>Domain</th> <th scope=col style=width:30rem class=status translate-context=Title translate>Current status</th> <th scope=col style=width:6rem class="text-right actions" translate-context=Title translate>Actions</th> </tr> </thead> <tbody ng-repeat="domain in domains"> <tr ng-class="{ \'error\': domain.State === 0 || domain.State === 2 }"> <td class=domain> <strong> <i class=fa ng-class="{\n                                            \'fa-check text-green\': domain.State === 1 && domain.Addresses.length > 0 && domain.MxState === 3,\n                                            \'fa-exclamation-triangle text-red\': domain.State === 0 || domain.State === 2 || domain.Addresses.length === 0 || domain.MxState === 1 || domain.MxState === 2\n                                        }"></i> {{ domain.DomainName }} </strong> </td> <td class=status> <button type=button class="progress pm_button" ng-click=verification(domain) ng-class="{\n                                        \'success\': domain.VerifyState === 2,\n                                        \'error\': domain.VerifyState === 1\n                                    }"> <i class="fa fa-warning" ng-show="(domain.VerifyState === 1)"></i> <span translate-context="domain status" translate>Verification</span> </button> <button type=button class="progress pm_button" ng-click=addAddresses(domain) ng-disabled="domain.State === 0" ng-class="{\'success\': domain.State === 1 && domain.Addresses.length > 0}"> <span ng-show="domain.Addresses.length > 0">{{ domain.Addresses.length }}</span> <span translate translate-context=Action>Addresses</span> </button> <button type=button class="progress pm_button" ng-click=mx(domain) ng-disabled="domain.State === 0" ng-class="{\n                                        \'success\': domain.MxState === 3,\n                                        \'error\': domain.MxState === 2 || domain.MxState === 1\n                                    }"> <i class=fa ng-hide="(domain.MxState === 0)" ng-class="{\n                                            \'fa-check\': (domain.MxState === 3),\n                                            \'fa-warning\': (domain.MxState === 1 || domain.MxState === 2)\n                                        }"></i> MX </button> <button type=button class="progress pm_button" ng-disabled="domain.State === 0" ng-click=spf(domain) ng-class="{\n                                        \'success\': domain.SpfState === 3,\n                                        \'error\': domain.SpfState === 2 || domain.SpfState === 1\n                                    }"> <i class=fa ng-hide="(domain.SpfState === 0)" ng-class="{\n                                            \'fa-check\': (domain.SpfState === 3),\n                                            \'fa-warning\': (domain.SpfState === 1 || domain.SpfState === 2)\n                                        }"></i> SPF </button> <button type=button class="progress pm_button" ng-disabled="domain.State === 0" ng-click=dkim(domain) ng-class="{\n                                        \'success\': domain.DKIM.State === 4,\n                                        \'error\': domain.DKIM.State === 3,\n                                        \'warning\': domain.DKIM.State === 6\n                                    }"> <i class=fa ng-hide="(domain.DKIM.State === 0)" ng-class="{\n                                            \'fa-check\': (domain.DKIM.State === 4),\n                                            \'fa-warning\': (domain.DKIM.State === 6),\n                                            \'fa-minus-circle\': (domain.DKIM.State === 3)\n                                        }"></i> DKIM </button> <button type=button class="progress pm_button" ng-click=dmarc(domain) ng-disabled="domain.State === 0" ng-class="{\n                                        \'success\': domain.DmarcState === 3,\n                                        \'error\': domain.DmarcState === 2 || domain.DmarcState === 1\n                                    }"> <i class=fa ng-hide="(domain.DmarcState === 0)" ng-class="{\n                                            \'fa-check\': (domain.DmarcState === 3),\n                                            \'fa-warning\': (domain.DmarcState === 1 || domain.DmarcState === 2)\n                                        }"></i> DMARC </button> </td> <td class=text-right> <button type=button class="pm_button round" ng-hide=goodSetup(domain) ng-click=wizard(domain) pt-tooltip-translate-context="button to configure the domain" pt-tooltip-translate=Wizard> <i class="fa fa-magic"></i> </button> <button type=button class="remove pm_button round" ng-click=deleteDomain(domain) pt-tooltip-translate=Delete pt-tooltip-translate-context=Action> <i class="fa fa-trash-o"></i> </button> </td> </tr> <tr ng-if="domain.State === 2"> <td colspan=2> <p class="alert alert-warning" translate-context="Domain status" translate>Check your DNS settings.</p> </td> <td></td> </tr> <tr ng-if="domain.State === 0"> <td colspan=2> <p class="alert alert-warning"> <span translate-comment="Setup Error: Please run the [setup wizard] to correct configuration errors" translate-context="domains list" translate>Setup Error: Please run the</span> <a class="pm_button link" href=# ng-click=wizard(domain)> <i class="fa fa-magic"></i> <span translate translate-context=Action>Setup Wizard</span></a> <span translate-comment="Setup Error: Please run the [setup wizard] to correct configuration errors" translate-context="domains list" translate>to correct configuration errors.</span> </p> </td> <td></td> </tr> </tbody> </table> </div> <div class="alert alert-info" ng-show="domains.length === 0"> <p> <strong translate-context="domains list" translate>No custom domain found</strong> </p> <p translate-context="domains list" translate>Click on \'ADD CUSTOM DOMAIN\' button to add a domain.</p> </div> </section> <p>&nbsp;</p> <section class="setting pm_form full"> <header-block class=settingsDomains-header-custom> <h2 class=settingsDomains-title-custom translate translate-context=Title>Custom Domain Addresses</h2> <small class=settingsDomains-details-custom ng-if=isAdmin> {{ organization.UsedAddresses }} / {{ organization.MaxAddresses }} <span translate-comment="how many addresses are in use" translate-context=Info translate>addresses used.</span> <a class=settingsDomains-link-custom ui-sref="secured.dashboard({scroll: true})" data-hide-upgrade=domain translate-context=Action translate-comment="link to dashboard page" translate>Upgrade your plan</a> </small> </header-block> <div class=margin-bottom ng-repeat="domain in domains"> <p> <i class=fa ng-class="{\'fa-check-circle-o text-green\': domain.State === 1, \'fa-exclamation-triangle text-red\': domain.State === 0 || domain.State === 2}"></i> <strong>{{ domain.DomainName }}</strong> </p> <p> <address-btn-actions data-model=domain data-action=add class="pm_button primary"></address-btn-actions> </p> <p class="alert alert-info" ng-show="domain.Addresses.length > 0" translate-context="Domains information" translate>Addresses must be disabled before they can be deleted. Addresses can only be deleted if all messages associated with that address are deleted.</p> <div class=pm_table> <table class="pm_form bordered" ng-show="domain.Addresses.length > 0"> <thead> <tr> <th scope=col translate-context=Title translate-comment="table heading for the domains page table listing of addresses" translate>Name</th> <th scope=col translate-context=Title translate-comment="table heading for the domains page table listing of addresses" translate>Address</th> <th scope=col translate-context=Title translate-comment="table heading for the domains page table listing of addresses" translate>Status</th> <th scope=col> <span translate-context=Title translate-comment="table heading for the domains page table listing of addresses" translate>Catch-All</span> <a href=https://protonmail.com/support/knowledge-base/catch-all/ target=_blank> <i class="fa fa-info-circle" pt-tooltip-translate="Set a catch-all address for your domain." pt-tooltip-translate-context=Info></i> </a> </th> <th scope=col class="text-right actions" translate-context=Title translate>Actions</th> </tr> </thead> <tbody> <tr ng-repeat="address in domain.Addresses | orderBy: \'Order\'" ng-class="{\'disabled\': address.Status === 0}"> <td> <a ui-sref="secured.members({action: \'edit\', id: address.MemberID})" ng-bind=member(address.MemberID).Name class=text-purple></a> </td> <td ng-bind=address.Email></td> <td> <span class="pm_badge success" ng-show="address.Status === 1 && address.Receive === 1" translate translate-comment="address state badge" translate-context="Address state badge">Enabled</span> <span class="pm_badge error" ng-show="address.Status === 0" translate translate-comment="address state badge" translate-context="Address state badge">Disabled</span> <span class="pm_badge warning" ng-show="address.HasKeys === 0" translate translate-comment="address state badge" translate-context="Address state badge">Missing keys</span> </td> <td class=domains-catchAll-container> <custom-checkbox class=domains-catchAll-input data-custom-ng-model=address.catchall data-custom-ng-change="changeCatchall(address, domain)" data-custom-ng-init="address.catchall = !!address.CatchAll"></custom-checkbox> </td> <td class=text-right> <address-btn-actions data-model=address data-action=enable ng-if="address.Status === 0 && address.Type !== 1 && address.Type !== 4" class="pm_button link"></address-btn-actions> <address-btn-actions data-model=address data-action=disable ng-if="address.Status === 1 && address.Type !== 1 && address.Type !== 4" class="pm_button link"></address-btn-actions> <address-btn-actions data-model=address data-action=remove ng-if="address.Status === 0 && address.Type === 3" class="pm_button link"></address-btn-actions> </td> </tr> </tbody> </table> </div> </div> <div class="alert alert-info" ng-show="domains.length === 0"> <p> <strong translate-context="List domains" translate>No custom domain addresses found</strong> </p> <p translate-context="List domains" translate>Please add a custom domain before configuring addresses.</p> </div> </section> </div> </div> </div> ')}])}t.exports=n},"0L42":function(t,e){var a=window.angular,n="templates/filter/spamListSearch.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=pm_grid> <form class=col-1-1> <input type=search class="search ng-pristine ng-untouched ng-valid ng-empty" placeholder-translate-context="Spam filtering" placeholder-translate="Search Allow list and Block list"> </form> </div> ')}])}t.exports=n},"0kgz":function(t,e){var a=window.angular,n="templates/modals/support.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Contact us</h4> </div> <div class=modal-body> <p translate translate-context=Info>For a custom solution, contact our entreprise sales team for a quote.</p> <p><strong>contact@protonmail.com</strong></p> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Close</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"0muV":function(t,e){var a=window.angular,n="templates/dashboard/vpnColumns.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=vpnColumns-container> <div class=vpnColumns-col> <label class=vpnColumns-label translate-context="Label for the vpn columns" translate>Speed</label> <label class=vpnColumns-label translate-context="Label for the vpn columns" translate>Connections/Devices</label> <label class=vpnColumns-label>Tor VPN <i class="fa fa-info-circle" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Send all your traffic through the Tor network with a single click"></i></label> <label class=vpnColumns-label>Secure Core <i class="fa fa-info-circle" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Provides additional protection against VPN server compromise by routing connections through our Secure Core network"></i></label> </div> <label for=AddProtonVPNBasic role=presentation class="vpnColumns-col vpnColumns-vpnbasic-col"> <header class=vpnColumns-header> <span class=vpnColumns-selected translate-context=Info translate>Selected plan</span> <span class=vpnColumns-vpnbasic-title>ProtonVPN Basic</span> <span class=vpnColumns-vpnbasic-amount>{{ ::vpnbasicAmount }}</span> </header> <div> <strong translate-context="Info for the vpn columns" translate>High</strong> </div> <div> <strong>2</strong> </div> <div> <i class="fa fa-times"></i> </div> <div> <i class="fa fa-times"></i> </div> <footer class=vpnColumns-footer> <button type=button id=AddProtonVPNBasic data-action=vpnbasic translate-context="Action for the vpn columns" translate>Add ProtonVPN Basic</button> <button type=button disabled=disabled translate-context="Action for the vpn columns" translate>ProtonVPN Basic Selected</button> </footer> </label> <label for=AddProtonVPNPlus role=presentation class="vpnColumns-col vpnColumns-vpnplus-col"> <header class=vpnColumns-header> <span class=vpnColumns-selected translate-context=Info translate>Selected plan</span> <span class=vpnColumns-vpnplus-title>ProtonVPN Plus</span> <span class=vpnColumns-vpnplus-amount>{{ ::vpnplusAmount }}</span> </header> <div> <strong translate-context="Info for the vpn columns" translate>Highest</strong> </div> <div> <strong>5</strong> </div> <div> <i class="fa fa-check"></i> </div> <div> <i class="fa fa-check"></i> </div> <footer class=vpnColumns-footer> <button type=button id=AddProtonVPNPlus data-action=vpnplus translate-context="Action for the vpn columns" translate>Add ProtonVPN Plus</button> <button type=button disabled=disabled translate-context="Action for the vpn columns" translate>ProtonVPN Plus Selected</button> </footer> </label> </div> ')}])}t.exports=n},1:function(t,e){},"17cw":function(t,e){var a=window.angular,n="templates/directives/composer/composerSubject.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=composerSubject-container> <input title-translate=Subject title-translate-context=info class="flex subject no-outline" placeholder-translate=Subject placeholder-translate-context=Placeholder ng-model=message.Subject required> </div> ')}])}t.exports=n},"1YYv":function(t,e){var a=window.angular,n="templates/partials/safari.warning.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="modal fade" id=safariModal tabindex=-1 role=dialog> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <button type=button class=close data-dismiss=modal> <i aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times"></i> <span class=sr-only translate translate-context=Action>Close</span> </button> <h4 class=modal-title translate translate-context=Title>Downloading</h4> </div> <div class=modal-body> <p class="alert alert-info" translate translate-context=Info>Safari does not fully support downloading encrypted attachments.</p> <p translate translate-context=Info>Your attachments are secure and encrypted, but to download them requires extra work. We recommend using a different web browser such as Chrome or Firefox for a better user experience.</p> <p><strong translate translate-context=Info>To download attachments in Safari:</strong></p> <ol> <li translate translate-comment="safari attachment instructions" translate-context=Info>Click your attachment once to decrypt it. Once decryption finishes you will see a download arrow icon appear.</li> <li translate translate-comment="safari attachment instructions" translate-context=Info>Right-click on your attachment and choose \'Download linked file as...\'</li> <li translate translate-comment="safari attachment instructions" translate-context=Info>You will be prompted to save the attachment.</li> <li translate translate-comment="safari attachment instructions" translate-context=Info>Name your attachment from \'unknown\' to the correct name, including the file extension.</li> </ol> <p translate translate-context=Info>For more help please contact us directly: support@protonmail.com</p> </div> <div class=modal-footer> <button type=button data-dismiss=modal class="btn btn-default modal-footer-button" translate translate-context=Action>Close</button> </div> </div> </div> </div> ')}])}t.exports=n},"1aFG":function(t,e){var a=window.angular,n="templates/security/sessionLogsTable.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="sessionLogsTable-container pm_table"> <table id=accessLog class=bordered> <thead> <tr> <th scope=col style=width:10rem translate-context=Title translate>Event</th> <th scope=col style=width:10rem ng-if="model.doLogging == 2" class=text-right>IP</th> <th scope=col style=width:14rem class=text-right translate-context=Title translate>Time</th> </tr> </thead> <tbody> <tr class=sessionLogsTable-row ng-repeat="log in model.list track by $id(log)" data-logevent={{::log.Event}}> <td scope=row> <span data-if=0 ng-show="{{ log.Event === 0 }}"><i class="fa fa-times-circle text-red"></i> <span translate-context=Info translate-comment="authentication log record" translate translate-context="auth log entry">Login failure (password)</span> </span> <span data-if=1><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Login success</span> </span> <span data-if=2><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Logout</span> </span> <span data-if=3><i class="fa fa-times-circle text-red"></i> <span translate translate-context="auth log entry">Login failure (two-factor)</span> </span> <span data-if=4><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Login success (two-factor)</span> </span> <span data-if=5><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Login success (forbidden)</span> </span> <span data-if=10><i class="fa fa-times-circle text-red"></i> <span translate translate-context="auth log entry">Authentication failure (wrong password)</span> </span> <span data-if=11><i class="fa fa-times-circle text-red"></i> <span translate translate-context="auth log entry">Authentication failure (second factor failed)</span> </span> <span data-if=12><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Authentication success</span> </span> <span data-if=20><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Account password change</span> </span> <span data-if=21><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Mailbox password change</span> </span> <span data-if=22><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Password reset</span> </span> <span data-if=30><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Two password mode enabled</span> </span> <span data-if=31><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Two password mode disabled</span> </span> <span data-if=32><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Second factor enabled (authenticator app)</span> </span> <span data-if=33><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Second factor disabled (authenticator app)</span> </span> <span data-if=34><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Second factor enabled (security key)</span> </span> <span data-if=35><i class="fa fa-check"></i> <span translate translate-context="auth log entry">Second factor disabled (security key)</span> </span> </td> <td ng-if="model.doLogging == 2" class=text-right> <kbd>{{ ::log.IP || \'--\' }}</kbd> </td> <td class=text-right>{{ ::log.Time * 1000 | date : \'medium\' }}</td> </tr> </tbody> </table> </div> ')}])}t.exports=n},"1ect":function(t,e){var a=window.angular,n="templates/elements/advancedFilterElement.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_buttons advancedFilterElement-container" ng-class="{\n    \'advancedFilterElement-state-drafts\': (\'secured.drafts.**\' | includedByState),\n    \'advancedFilterElement-state-all-drafts\': (\'secured.allDrafts.**\' | includedByState),\n    \'advancedFilterElement-state-spam\': (\'secured.spam.**\' | includedByState),\n    \'advancedFilterElement-state-trash\': (\'secured.trash.**\' | includedByState)\n}"> <a tabindex=0 role=button class="pm_trigger advancedFilterElement-btn-dropdown" dropdown> <small translate-context=Action translate>More</small> <i class="fa fa-angle-down"></i> </a> <div class="pm_dropdown widest noPadding advancedFilterElement-content"> <button class=advancedFilterElement-btn-drafts data-action=empty data-action-arg=drafts> <div> <i class="fa fa-times-circle-o"></i> <span translate translate-context=Action>Empty drafts</span> </div> </button> <button class=advancedFilterElement-btn-all-drafts data-action=empty data-action-arg=allDrafts> <div> <i class="fa fa-times-circle-o"></i> <span translate translate-context=Action>Empty drafts</span> </div> </button> <button class=advancedFilterElement-btn-spam data-action=empty data-action-arg=spam> <div> <i class="fa fa-times-circle-o"></i> <span translate translate-context=Action>Empty spam</span> </div> </button> <button class=advancedFilterElement-btn-trash data-action=empty data-action-arg=trash> <div> <i class="fa fa-times-circle-o"></i> <span translate translate-context=Action>Empty trash</span> </div> </button> <button class=advancedFilterElement-btn-folder data-action=empty data-action-arg=folder> <div> <i class="fa fa-times-circle-o"></i> <span translate translate-context=Action>Empty folder</span> </div> </button> <button class=advancedFilterElement-btn-label data-action=empty data-action-arg=label> <div> <i class="fa fa-times-circle-o"></i> <span translate translate-context=Action>Empty label</span> </div> </button> <button class=advancedFilterElement-btn-small-to-large data-action=orderBy data-action-arg=size> <div> <i class="fa fa-sort-amount-asc"></i> <span translate translate-context=Action>Size: Small to large</span> </div> </button> <button class=advancedFilterElement-btn-large-to-small data-action=orderBy data-action-arg=-size> <div> <i class="fa fa-sort-amount-desc"></i> <span translate translate-context=Action>Size: Large to small</span> </div> </button> <button class=advancedFilterElement-btn-new-to-old data-action=orderBy data-action-arg=-date> <div> <i class="fa fa-clock-o"></i> <span translate translate-context=Action>Date: New to old</span> </div> </button> <button class=advancedFilterElement-btn-old-to-new data-action=orderBy data-action-arg=date> <div> <i class="fa fa-history"></i> <span translate translate-context=Action>Date: Old to new</span> </div> </button> <button class=advancedFilterElement-btn-show-all data-action=clearFilter> <div> <i class="fa fa-list"></i> <span translate translate-context=Action>Show all</span> </div> </button> <button class=advancedFilterElement-btn-unread data-action=filterBy data-action-arg=unread> <div> <i class="fa fa-eye-slash"></i> <span translate translate-context=Action>Show unread</span> </div> </button> <button class=advancedFilterElement-btn-read data-action=filterBy data-action-arg=read> <div> <i class="fa fa-eye"></i> <span translate translate-context=Action>Show read</span> </div> </button> <moved-button class=advancedFilterElement-btn-moved ng-if="\n            (\'secured.drafts.**\' | includedByState) ||\n            (\'secured.allDrafts.**\' | includedByState) ||\n            (\'secured.sent.**\' | includedByState) ||\n            (\'secured.allSent.**\' | includedByState)\n        "></moved-button> </div> </div> ')}])}t.exports=n},"1haq":function(t,e){var a=window.angular,n="templates/modals/trustPublicKey.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal trust-public-key {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate-context=Action class="fa fa-times close ng-scope" title=Close></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Trust Public Key (Address Verification)</h4> </div> <div class="modal-body pm_form"> <p> <span translate translate-context="Modal message">Clicking "Trust Key" will associate this public key with this sender and emails from this address will be automatically cryptographically verified.</span> <a href=https://protonmail.com/support/knowledge-base/address-verification/ target=_blank class="pm_button link" translate-context=Action translate>Learn more</a> </p> <h5> <span translate translate-context=Header>Public Key Information:</span> <span class=header-email-address>{{ ::ctrl.addresses[0].adr }}</span> </h5> <trust-public-key-info data-key-info=ctrl.keyInfo></trust-public-key-info> <h5 translate translate-context=Title ng-if=!ctrl.isInternal>Associated addresses:</h5> <trust-public-key-table ng-if=!ctrl.isInternal data-addresses=ctrl.addresses></trust-public-key-table> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=button class="pm_button primary modal-footer-button" ng-click=ctrl.submit()> <span translate translate translate-context=Action>Trust Key</span> </button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"1iN5":function(t,e){var a=window.angular,n="templates/payment/cardPanel.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=cardPanel> <div class=cardPanel-issuer> <img class=cardPanel-issuer-visa src=/assets/img/icons/cc_visa.svg> <img class=cardPanel-issuer-mastercard src=/assets/img/icons/cc_mastercard.svg> <img class=cardPanel-issuer-amex src=/assets/img/icons/cc_amex.svg> </div> <div class=cardPanel-number>{{ card.number }}</div> <div class=cardPanel-country> <label class=cardPanel-label translate translate-context=Label>zip - country </label> <span>{{ card.zip }} - {{ card.country }}</span> </div> <div class=cardPanel-holder> <label class=cardPanel-label translate translate-context=Label>Card holder </label> <span>{{ card.fullname }}</span> </div> <div class=cardPanel-expires> <label class=cardPanel-label translate translate-context=Label>Expires</label> <span>{{ card.month }} / {{ card.year }}</span> </div> </div> ")}])}t.exports=n},"1ogP":function(t,e){var a=window.angular,n="templates/modals/exportPrivateKeyModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit="passwordModalForm.$valid && ctrl.submit()" name=passwordModalForm novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Export private key</h4> </div> <div class="modal-body pm_form"> <p class="alert alert-danger" translate-context=Error translate>IMPORTANT: Downloading your private keys and sending them over or storing them on insecure media can jeopardise the security of your account!</p> <div class=multi-line-label> <label for=password translate translate-context="Label in the modal which ask the user to enter a new password">Please enter a password to encrypt your private key with before exporting.</label> </div> <input type=password autofocus ng-model=ctrl.password id=password placeholder-translate=Password name=password placeholder-translate-context=Placeholder required/> <div ng-messages=passwordModalForm.password.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> </div> <div ng-hide="(passwordModalForm.password.$touched || passwordModalForm.$submitted) && passwordModalForm.password.$invalid"> <p>&nbsp;</p> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button" translate translate-context=Action>Export</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"1urt":function(t,e){var a=window.angular,n="templates/ui/emailEncryptionIcon.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=autocompleteEmailsItem-icon> <i class="fa encryptionIcon" ng-show="!(email.encrypt && email.isPinned && !email.isEO)\n          && (email.encrypt || email.loadCryptInfo || email.isEO)" ng-class="{\n            \'encryptionIcon fa-lock\': email.encrypt || email.isEO,\n            \'encryptionIcon fa-pencil\': !email.encrypt && email.sign,\n            \'encryptionIcon fa-spinner fa-pulse\': email.loadCryptInfo,\n            \'pgp-encryption-icon\': email.isPgp\n        }"></i> <svg width=18 viewBox="0 0 374.8 337.1" ng-if="email.encrypt && email.isPinned && !email.isEO" class=encryptionIcon ng-class="{\n            \'pgp-encryption-icon\': email.isPgp\n        }"> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-lock-signed></use> </svg> <svg width=18 viewBox="0 0 374.8 337.1" ng-if="!email.encrypt && email.sign" class="encryptionIcon big-encryption-icon" ng-class="{\n            \'pgp-encryption-icon\': email.isPgp\n        }"> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-unlocked-signed></use> </svg> </div> ')}])}t.exports=n},"1yF2":function(t,e){var a=window.angular,n="templates/autoresponder/autoresponderMessage.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=autoresponderMessageContainer ng-class="{\n    autoresponderHalfFull: message.length > halfMessageLength,\n    autoresponderFull: message.length >= maxMessageLength,\n    autoresponderEmpty: isEmpty(message)\n    }"> <div class=autoresponderMessageDisabler ng-if=disabled></div> <squire id=autoresponderMessage class="form-control no-resize error_tooltip" ng-class="message.length >= maxMessageLength ? \'pm_invalid\': \'\'" allow-data-uri=true data-value=message data-type-content=OOF-Message></squire> <div class=autoresponderEmptyMessage translate translate-context="Autoresponder empty">The auto reply message cannot be empty.</div> <div class="autoresponderCharacters autoresponderLengthWarning"> <span class=autoresponderCharacterCount>{{message.length}}</span>/{{maxMessageLength - 1}} <span translate-context="Settings autoresponder, how many bites inside the message" translate>bytes used</span> </div> <div class="autoresponderCharacters autoresponderMessageTooLong"> <span translate-context="The message contains too many bytes, only xxx allowed (you are using xxx characters). Part 1/3" translate>The message contains too many bytes, only </span> {{maxMessageLength - 1}} <span translate-context="The message contains too many bytes, only xxx allowed (you are using xxx characters). Part 2/3" translate> allowed (you are using </span> <span class=autoresponderCharacterCount> {{message.length}} </span><span translate-context="The message contains too many bytes, only xxx allowed (you are using xxx characters). Part 3/3" translate> bytes).</span> </div> </div> ')}])}t.exports=n},2:function(t,e){},"25VP":function(t,e){var a=window.angular,n="templates/vpn/vpnView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings class=vpn-container> <div class=settings> <div ng-if="vpnStatus !== 1" class=row> <section class=pm_form> <header-block class=settingsVpn-header-about> <h2 class=settingsVpn-title-about translate translate-context=Title>ProtonVPN</h2> </header-block> <p ng-if=!hasPaidVpn class="alert alert-info alert-flex"> <span translate-context=Info translate>You are using ProtonVPN Free. Upgrade to ProtonVPN Plus to get faster speeds and better privacy.</span> <a ui-sref="secured.dashboard({scroll: true})" class="pm_button primary" translate-context=Action translate>Upgrade plan now</a> </p> <p ng-if="vpnStatus === 0" class="alert alert-info" translate-context=Info translate>Your account is currently not eligible for ProtonVPN access. If you are part of an Organization, please contact your account administrator.</p> <p ng-if="vpnStatus === 2" class="alert alert-info" translate-context=Info translate>Your VPN account has not yet been activated, go to <a href=https://account.protonvpn.com/signup target=_blank>https://account.protonvpn.com/signup</a> to sign up and activate your account.</p> <p ng-if="vpnStatus === 3" class="alert alert-info" translate-context=Info translate>Your ProtonVPN account request has been received. You\'re already on the waitlist, we\'ll contact you once capacity becomes available.</p> </section> </div> <div ng-if="vpnStatus === 1"> <section class=vpn-ressourcesSection-container> <header-block> <h2 class=vpn-ressourcesSection-title translate-context=Title translate>Getting started with ProtonVPN</h2> </header-block> <p class="alert alert-info" translate-context="Select your type of OS" translate>Select your client below to get started with ProtonVPN</p> <vpn-ressources></vpn-ressources> </section> <div class="row pm_grid"> <section class="pm_form col-1-2"> <header-block class=settingsVpn-header-login> <h2 class=settingsVpn-title-login translate translate-context=Title>ProtonVPN</h2> </header-block> <p class="alert alert-info" translate-context=Info translate>Use the following credentials to log into the <a href=https://protonvpn.com/download target=_blank>ProtonVPN native clients</a>.</p> <div class=clearfix> <div class=col-4-8> <label translate-context=Label translate>Proton Username</label> </div> <div class=col-4-8> <label class=bold>{{ VPNLogin }}</label> </div> </div> <div class=clearfix> <div class=col-4-8> <label translate-context=Label translate>Password</label> </div> <div class=col-4-8> <label class=bold translate-context=Info translate>Same as ProtonMail login password</label> </div> </div> </section> <open-vpn-section></open-vpn-section> </div> <div class="row pm_grid"> <section class="pm_form col-1-2"> <header-block class=settingsVpn-header-resources> <h2 class=settingsVpn-title-resources translate translate-context=Title>ProtonVPN Resources</h2> </header-block> <div class=clearfix> <div class=col-4-8> <label translate-context=Label translate>Download ProtonVPN</label> </div> <div class=col-4-8> <a href=https://protonvpn.com/download target=_blank class="pm_button link" translate-context=Link translate>Download Page</a> </div> </div> <div class=clearfix> <div class=col-4-8> <label translate-context=Label translate>ProtonVPN Homepage</label> </div> <div class=col-4-8> <a href=https://protonvpn.com target=_blank class="pm_button link" translate-context=Link translate>Homepage</a> </div> </div> <div class=clearfix> <div class=col-4-8> <label translate-context=Label translate>Get Support for ProtonVPN</label> </div> <div class=col-4-8> <a href=https://protonvpn.com/support target=_blank class="pm_button link" translate-context=Link translate>Support Page</a> </div> </div> </section> <section class=col-1-2></section> </div> </div> </div> </div> ')}])}t.exports=n},"28mQ":function(t,e){var a=window.angular,n="templates/views/outside.unlock.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form method=post id=pm_login name=unlockForm class="pm_panel pm_panel-outsideunlock alt pm_form" novalidate ng-keypress=keypress($event) role=form autocomplete=on ng-submit=unlock() ng-if="tokenError !== true"> <img src=assets/img/logo.png height=20 alt=ProtonMail class=logo /> <h4 class=text-center> <span class="fa fa-envelope title-icon"></span> <span translate-context=Title translate>Decrypt message</span> </h4> <p></p> <div class="alert alert-danger" id=error521 ng-if=error>{{ error.message }}</div> <label for=MessagePassword class=sr-only translate-context=Label translate>Message password</label> <password class="margin unlock-input-password" data-id=MessagePassword data-name=MessagePassword data-autofocus=true data-form=unlockForm data-value=params.MessagePassword placeholder-translate-context=Tooltip placeholder-translate="Message password"></password> <p></p> <div class=loginForm-actions> <div class=loginForm-actions-column> <button type=submit class="loginForm-actions-main pm_button primary primary-white pull-right disabled-if-network-activity" translate-context=Action translate>Decrypt</button> <a href=https://protonmail.com/support target=_blank class="login-support pm_button link pull-left" translate-context=Action translate-comment="link to support portal" translate>Need help?</a> </div> </div> </form> <form method=post id=pm_login class="pm_panel alt pm_form error" ng-if="tokenError === true"> <h1 class=text-center translate-context=Title translate>Error</h1> <p translate-context=Error translate>Sorry, this message does not exist or has already expired</p> </form> ')}])}t.exports=n},"29vb":function(t,e){var a=window.angular,n="templates/contact/contactMergerModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button name=cancel ng-click=ctrl.onClickClose() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title>{{ ::ctrl.title }}</h4> </div> <div class=modal-body> <div class="alert alert-info" translate translate-context=Info> <p><i class="fa fa-info-circle"></i> Use Drag and Drop to rank merging priority between contacts.</p> <p>Uncheck contacts you do <b>not</b> want to merge.</p> </div> <contact-merger details=ctrl.onClickDetails preview=ctrl.onClickPreview groups=ctrl.duplicates></contact-merger> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.onClickClose() name=cancel translate-context=Action translate>Cancel</button> <button class="pm_button primary modal-footer-button" ng-click=ctrl.onClickMerge() tabindex=1 name=merge translate-context=Action translate>Merge</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"2Igw":function(t,e){var a=window.angular,n="templates/layout/secured.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<header-secured></header-secured> <div id=ptSidebar ui-view=sidebar></div> <div id=pm_main ui-view=content data-mailto-handler></div> <composer-message></composer-message> <wizard></wizard> <link-handler></link-handler> <command-palette></command-palette> <detect-time-width></detect-time-width> ")}])}t.exports=n},"2U6m":function(t,e){var a=window.angular,n="templates/user/storageWarningView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=storageWarning-container> <div class="pull-left storageWarning-icon"> <i class="fa fa-inbox"></i> </div> <div class=storageWarning-text> <span translate translate-context="Storage warning">Storage limit reached. Unable to send or receive emails.</span> <a class=link translate translate-context=Link>Learn more</a>. </div> </div> ')}])}t.exports=n},"2VAr":function(t,e){var a=window.angular,n="templates/ui/header/headerNoAuth.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<header class="pm_opensans headerNoAuth-container"> <ul class=headerNoAuth-list> <li class=headerNoAuth-item-back> <a class=headerNoAuth-item-noAuth href=https://protonmail.com target=_self> <span translate translate-context=Action>Back to protonmail.com</span> </a> <a class=headerNoAuth-item-auth ui-sref=login ui-sref-opts="{reload: true, notify: true}" translate-title=Login translate-title-context=Action> <span translate translate-context=Action>Back to login</span> </a> </li> <li class=headerNoAuth-item-report> <new-bug-report class=headerNoAuth-item-report-button></new-bug-report> </li> <li class="headerNoAuth-item-noAuth headerNoAuth-signup"> <link-website data-key=forFree class="headerNoAuth-item-signup-button pm_button primary" class=loginForm-link-signup data-link=signup></link-website> </li> <li class=headerNoAuth-item-auth> <a class="headerNoAuth-item-logout-button pm_button primary" ui-sref=login ui-sref-opts="{reload: true, notify: true}" translate translate-context=Action>Log out</a> </li> </ul> </header> ')}])}t.exports=n},"2Vr+":function(t,e){var a=window.angular,n="templates/payment/featuresList.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<ul class=featuresList-container> <li class=featuresList-autoresponder> <button class=featuresList-button type=button data-route=secured.autoresponder> <div class=featuresList-button-wrapper> <img class=featuresList-logo src=assets/img/autoresponder.svg /> <span class=featuresList-text translate-context=Action translate>Add auto-reply</span> </div> </button> </li> <li class=featuresList-domains> <button class=featuresList-button type=button data-route=secured.domains> <div class=featuresList-button-wrapper> <img class=featuresList-logo src=assets/img/custom-domains.svg /> <span class=featuresList-text translate-context=Action translate>Add your domain</span> </div> </button> </li> <li class=featuresList-filters> <button class=featuresList-button type=button data-route=secured.filters> <div class=featuresList-button-wrapper> <img class=featuresList-logo src=assets/img/custom-filters.svg /> <span class=featuresList-text translate-context=Action translate>Add filters</span> </div> </button> </li> <li class=featuresList-members> <button class=featuresList-button type=button data-route=secured.members> <div class=featuresList-button-wrapper> <img class=featuresList-logo src=assets/img/members.svg /> <span class=featuresList-text translate-context=Action translate>Add new users</span> </div> </button> </li> <li class=featuresList-vpn> <button class=featuresList-button type=button data-route=secured.vpn> <div class=featuresList-button-wrapper> <img class=featuresList-logo src=assets/img/vpn.svg /> <span class=featuresList-text translate-context=Action translate>Activate ProtonVPN</span> </div> </button> </li> <li class=featuresList-contacts> <button class=featuresList-button type=button data-route=secured.contacts> <div class=featuresList-button-wrapper> <img class=featuresList-logo src=assets/img/agenda.svg /> <span class=featuresList-text translate-context=Action translate>Encrypted contacts</span> </div> </button> </li> </ul> ")}])}t.exports=n},"2wqA":function(t,e){var a=window.angular,n="templates/modals/generateOrganization.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit="generateOrganizationForm.$valid && ctrl.submit()" name=generateOrganizationForm novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Change Organization Keys</h4> </div> <div class="modal-body pm_form"> <div class=pm_grid> <div class=col-1-2> <label class=checkbox> <custom-radio data-custom-ng-model=ctrl.size data-custom-value=RSA2048></custom-radio> <span class=flex-grid-column> <strong translate translate-context=Title translate-comment="form option heading">High security</strong> <small>(2048-bit)</small> </span> </label> </div> <div class=col-1-2> <label class=checkbox> <custom-radio data-custom-ng-model=ctrl.size data-custom-value=RSA4096></custom-radio> <span class=flex-grid-column> <strong translate translate-context=Title translate-comment="form option heading">Highest security</strong> <small>(4096-bit)</small> </span> </label> </div> </div> <p class="alert alert-info" ng-show="ctrl.size === 4096" translate translate-context=Info>Generating 4096-bit encryption keys may crash or freeze your browser. 4096-bit keys are only recommended for high performance computers - not recommended for tablet and mobile devices.</p> <label for=newRecoveryPassword translate-context=Title translate>Key recovery password</label> <password data-id=newRecoveryPassword data-name=newRecoveryPassword data-value=ctrl.newRecoveryPassword form=generateOrganizationForm></password> <label for=confirmRecoveryPassword translate-context=Title translate>Confirm recovery Password</label> <password data-id=confirmRecoveryPassword data-name=confirmRecoveryPassword data-value=ctrl.confirmRecoveryPassword form=generateOrganizationForm compare=ctrl.newRecoveryPassword></password> <p class="alert alert-warning" ng-show=ctrl.otherAdmins translate translate-context=Info>Other administrators exist in your organization. You must communicate the new key recovery password to them in order for them to reactivate their full administrator privileges.</p> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button disabled-if-network-activity" translate translate-context=Action>Generate Keys</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},3:function(t,e){},"30ln":function(t,e){var a=window.angular,n="templates/contact/contactGroupModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal contactGroupModal-container" role=dialog> <form class="modal-dialog contactGroupModal-form" name=groupForm novalidate ng-submit=ctrl.create(groupForm)> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h4 class=modal-title translate-context=Title translate>Group details</h4> </header> <div class="modal-body pm_form pm_grid"> <div class=row> <label for=name class=col-1-4 translate translate-context=Label>Name</label> <label-name-input class=col-3-4 data-form=groupForm data-model=ctrl.model></label-name-input> </div> <div class=row> <label class=col-1-4 translate translate-context=Label>Color</label> <div class=col-3-4> <label-color-selector data-color=ctrl.model.color></label-color-selector> </div> </div> <div class=row> <label class=col-1-4 translate translate-context=Label>Add email address</label> <div class="col-3-4 contactGroupModal-addContact"> <autocomplete-contacts class=contactGroupModal-autocomplete data-form=groupForm data-list=ctrl.model.contacts></autocomplete-contacts> </div> </div> <div class="pm_table contactGroupModal-contacts"> <p class="contactGroupModal-no-contacts text-center" ng-if=!ctrl.model.contacts.length> <i translate-context=Info translate>No contacts added yet</i> </p> <table class="contactGroupModal-table fixedLayout" ng-if=ctrl.model.contacts.length> <thead class=contactGroupModal-thead> <th class=contactGroupModal-th-name translate-context=Title translate-comment="table heading" translate>Name</th> <th class=contactGroupModal-th-email translate-context=Title translate-comment="table heading" translate>Address</th> </thead> <tbody class=contactGroupModal-tbody> <tr ng-repeat="contact in ctrl.model.contacts track by contact.ID" class=contactGroupModal-row> <td class=contactGroupModal-td-name>{{::contact.Name}}</td> <td class=contactGroupModal-td-email> <span class=contactGroupModal-email>{{::contact.Email}}</span> <action-contact-group class=contactGroupModal-btn-remove data-action=remove.contact data-contact=contact data-group=ctrl.model pt-tooltip-translate=Remove pt-tooltip-translate-context=Action> </action-contact-group> </td> </tr> </tbody> </table> </div> </div> </div> <footer class=modal-footer> <button class="pm_button modal-footer-buttont" ng-click=ctrl.cancel() ng-disabled=ctrl.networkActivity translate-context=Action translate>Cancel</button> <button class="pm_button primary modal-footer-button" ng-disabled=ctrl.networkActivity translate-context=Action translate>Save</button> </footer> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"39ph":function(t,e){var a=window.angular,n="templates/labels/actionLabelBtn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button class="pm_button link actionLabelBtn-container" type=button></button> ')}])}t.exports=n},"3B0g":function(t,e){var a=window.angular,n="templates/autoresponder/autoresponderTimePicker.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=col-3-4> <date-time-picker ng-if="repeat === constants.FIXED_INTERVAL" data-date-picker-key="{{ ::datePickerKey }}" data-label-id="{{ ::labelId }}" data-timestamp="{{ ::timestamp }}" data-zone="{{ ::zone }}" data-disable-input="{{ ::disableInput }}" data-form=form></date-time-picker> <div class="pm_grid no-padding no-margin datetimepicker" ng-if="repeat === constants.DAILY"> <div class=col-1-2> <time-picker data-event-key="{{ ::datePickerKey }}" ng-model=timestamp></time-picker> </div> <div class="col-1-1 text-red" ng-messages=form[datePickerKey].$error> <p ng-message=required translate-context="Error input" translate>Please enter a valid time.</p> </div> </div> <weekday-time-picker ng-if="repeat === constants.WEEKLY" data-date-picker-key="{{ ::datePickerKey }}" data-label-id="{{ ::labelId }}" data-timestamp="{{ ::timestamp }}" data-disable-input="{{ ::disableInput }}" data-form=form></weekday-time-picker> <monthday-time-picker ng-if="repeat === constants.MONTHLY" data-date-picker-key="{{ ::datePickerKey }}" data-label-id="{{ ::labelId }}" data-timestamp="{{ ::timestamp }}" data-disable-input="{{ ::disableInput }}" data-form=form></monthday-time-picker> </div> ')}])}t.exports=n},"3GxN":function(t,e){var a=window.angular,n="templates/modals/twofactor/twoFAIntroModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context="Modal setup 2FA" translate>Set Up Two Factor Authentication</h4> </div> <div class="modal-body pm_form"> <div class="alert alert-info"> <p translate-context="Modal setup 2FA" translate>This wizard will enable Two Factor Authentication (2FA) on your ProtonMail account. 2FA will make your ProtonMail account more secure so we recommend enabling it. </p> <p class=bold translate-context="Modal setup 2FA" translate>If you have never used 2FA before, we strongly recommend you reading our 2FA Guide first.</p> </div> <p class=text-center> <a href=https://protonmail.com/support/knowledge-base/two-factor-authentication/ target=_blank class="pm_button large" translate-context="Modal setup 2FA" translate>2FA Guide</a> </p> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button tabindex=1 type=button class="pm_button primary modal-footer-button" ng-click=ctrl.next() translate translate-context=Action>Next</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"3HTr":function(t,e){var a=window.angular,n="templates/message/readReceiptPanel.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=readReceiptPanel-container> <div class=readReceiptPanel-notice> <span class=readReceiptPanel-notice-text translate-context="Info display in the read receipt panel (message view)" translate>The sender has requested a read receipt</span> </div> <button type=button class="readReceiptPanel-button disabled-if-network-activity pm_button" translate-context=Action translate>Send receipt</button> </div>')}])}t.exports=n},"3c8R":function(t,e){var a=window.angular,n="templates/contact/contactAddressInput.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactAddressInput-container> <textarea name=default ng-model=model.default class="contactAddressInput-default contactItem-input-with-icon" placeholder-translate=Address placeholder-translate-context=Placeholder></textarea> <label for=postBox class="contactAddressInput-label contactAddressInput-post-box-label" translate-context="Label for address input in contact details" translate>Post office box</label> <input type=text name=postBox id=postBox ng-model=model.postBox class="contactAddressInput-field contactAddressInput-post-box" placeholder-translate="Post office box" placeholder-translate-context=Placeholder> <label for=extended class="contactAddressInput-label contactAddressInput-extended-label" translate-context="Label for address input in contact details" translate>Extended address (apartment or suite number)</label> <input type=text name=extended id=extended ng-model=model.extended class="contactAddressInput-field contactAddressInput-extended" placeholder-translate-context=Placeholder placeholder-translate="Extended address (apartment or suite number)"> <label for=street class=contactAddressInput-label translate-context="Label for address input in contact details" translate>Street address</label> <textarea name=street id=street placeholder-translate-context=Placeholder ng-model=model.street class="contactAddressInput-field contactAddressInput-street" placeholder-translate="Street address"></textarea> <label for=locality class=contactAddressInput-label translate-context="Label for address input in contact details" translate>City</label> <input type=text name=locality id=locality ng-model=model.locality class="contactAddressInput-field contactAddressInput-locality" placeholder-translate-context=Placeholder placeholder-translate=City> <div class=contactAddressInput-grid> <div class=contactAddressInput-col> <label for=region class=contactAddressInput-label translate-context="Label for address input in contact details" translate>State/Region</label> <input type=text name=region id=region ng-model=model.region placeholder-translate-context=Placeholder class="contactAddressInput-field contactAddressInput-region" placeholder-translate=State/Region> </div> <div class=contactAddressInput-col> <label for=postalCode class=contactAddressInput-label translate-context="Label for address input in contact details" translate>Postal code</label> <input type=text placeholder-translate-context=Placeholder name=postalCode id=postalCode ng-model=model.postalCode class="contactAddressInput-field contactAddressInput-postal-code" placeholder-translate="Postal code"> </div> </div> <label for=country class=contactAddressInput-label translate-context="Label for address input in contact details" translate>Country</label> <input type=text placeholder-translate-context=Placeholder name=country id=country ng-model=model.country class="contactAddressInput-field contactAddressInput-country" placeholder-translate=Country> </div> ')}])}t.exports=n},4:function(t,e){},"41+J":function(t,e){var a=window.angular,n="templates/directives/outside/composer.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=composer-outside-container> <div class="composeEditor fill"> <composer-ask-embedded class="askEmbedding composer-askEmbedding" data-action=outside></composer-ask-embedded> <div class="dropzone composer-dropzone fill" data-composer-dropzone data-action=outside ng-show=message.focussed></div> <squire data-action=outside data-message=message allow-embedded=true class="composer-editor composer-outside-editor"></squire> </div> </div> ')}])}t.exports=n},"4GI9":function(t,e){var a=window.angular,n="templates/squire/moreToggle.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=moreToggle-container> <div class="squireToolbar-select-view squireToolbar-action-mode" data-squire-actions=moreToggle data-squire-actions-type=click pt-tooltip-translate-context=Action pt-tooltip-translate=More> <button type=button class="squireDropdown-item-label squireToolbar-action-modeEditor"></button> <i class="fa fa-caret-down"></i> </div> <ul class="squireToolbar-select-list squireToolbar-editor-mode"> <li class=squireToolbar-select-item data-squire-actions=setTextDirectionLTR> <i class="fa fa-check"></i> <span translate-context=Option translate>Left to Right</span> </li> <li class=squireToolbar-select-item data-squire-actions=setTextDirectionRTL> <i class="fa fa-check"></i> <span translate-context=Option translate>Right to Left</span> </li> <li class=squireToolbar-dropdown-divider></li> <li class=squireToolbar-select-item data-squire-actions=setEditorMode data-value=text/html> <i class="fa fa-check"></i> <span translate-context="Composer Mode" translate>Normal</span> </li> <li class=squireToolbar-select-item data-squire-actions=setEditorMode data-value=text/plain> <i class="fa fa-check"></i> <span translate-context="Composer Mode" translate>Plain Text</span> </li> <li class=squireToolbar-dropdown-divider></li> <li class=squireToolbar-select-item data-squire-actions=sign> <i class="fa fa-check"></i> <span translate-context="More Toggles" translate>Sign message</span> </li> <li class=squireToolbar-dropdown-divider></li> <li class=squireToolbar-select-item data-squire-actions=addKey> <i class="fa fa-check"></i> <span translate-context="More Toggles" translate>Attach Public Key</span> </li> <li class=squireToolbar-dropdown-divider></li> <li class=squireToolbar-select-item data-squire-actions=requestReadReceipt> <i class="fa fa-check"></i> <span translate-context="More Toggles" translate>Request Read Receipt</span> </li> </ul> </div> ')}])}t.exports=n},"4JMp":function(t,e){var a=window.angular,n="templates/message/pgpModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} pgpModal-container" role=dialog> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h4 class=modal-title translate-context="Title for the PGP modal" translate>Message headers</h4> </header> <div class=modal-body> <button class=pm_button ng-click=ctrl.download() translate-context=Action translate>Download</button> <pre ng-bind=::ctrl.content></pre> </div> </div> <footer class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate-context=Action translate>Close</button> <button class="pm_button modal-footer-button" tabindex=1 ng-click=ctrl.download() translate-context=Action translate>Download</button> </footer> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"4OmW":function(t,e){var a=window.angular,n="templates/squire/plainTextArea.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<textarea class=plaintext-editor ng-model=message.DecryptedBody ng-trim=false dir=auto></textarea> ")}])}t.exports=n},"4WLl":function(t,e){var a=window.angular,n="templates/user/identitySection.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=identitySection-container> <div class=pm_grid> <div class=col-3-8> <label class=identitySection-multiple-label translate-context=Label translate>Select an address</label> <label class=identitySection-single-label translate-context=Label translate>Address</label> </div> <div class=col-5-8> <addresses-selector></addresses-selector> </div> </div> <form class=identitySection-form name=identityForm novalidate> <display-name-signature data-model=address></display-name-signature> <div class=pm_grid> <div class=col-3-8>&nbsp;</div> <div class=col-5-8> <button class="pm_button primary" translate-context=Action translate translate-comment="Save button for updating default identity on account page">Save</button> <a href=#addressesPrioritySection class="pm_button identitySection-priority-link" translate-context=Action translate>Change address priority</a> </div> </div> </form> <div class=pm_grid> <div class=col-3-8> <label class=flex-space-top for=changePMSignature translate-context=Label translate>ProtonMail Signature</label> </div> <div class=col-5-8> <pm-signature-toggle></pm-signature-toggle> </div> </div> </div> ')}])}t.exports=n},"4tPE":function(t,e){var a=window.angular,n="templates/directives/squire.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="angular-squire fill squire-container"> <div class=squire-drozone-continer> <div class=squire-dropzone> <span translate-context=Info translate>Drop an image here to insert</span> </div> </div> <div class="editor-container fill"> <div ng-if=isLoaded> <squire-modal-listener data-allow-embedded=allowEmbedded data-allow-data-uri=allowDataUri message=message></squire-modal-listener> <squire-toolbar class=squire-toolbar></squire-toolbar> </div> <plain-text-area></plain-text-area> <div class="angular-squire-wrapper fill"> <iframe frameborder=0 border=0 marginwidth=0 marginheight=0 class=squireIframe></iframe> </div> </div> </div> ')}])}t.exports=n},5:function(t,e){},"50w3":function(t,e){var a=window.angular,n="templates/directives/core/accountLoadError.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_login class="pm_panel alt pm_form"> <div class=text-center> <img src=/assets/img/logo.png height=20 alt=ProtonMail class=logo /> </div> <h4 class=text-center> <span class="fa fa-inbox title-icon"></span> <span translate translate-context=Title>Problem loading your account</span> </h4> <p translate-context=Info translate> ProtonMail encountered a problem loading your account. Please <a href=# data-action=reload>refresh the page</a> or try again later. </p> </div> ')}])}t.exports=n},"53yO":function(t,e){var a=window.angular,n="templates/message/messageDisplayError.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class=messageDisplayError-container> <div ng-if="message.failedDecryption && !message.networkError" class=messageDisplayError-notice> <span class=messageDisplayError-notice-text translate translate-context="Message decryption error">Decryption error: Decryption of this message\'s encryption content failed.</span> <a href=# data-reload-state translate-context="Action to reload the current state" translate>Try again</a> </div> <div ng-if="!message.failedDecryption && !message.networkError && message.errorInfo" class=messageDisplayError-notice> <span class=messageDisplayError-notice-text translate translate-context="Message network error">Sanitization error</span> <a href=# class=messageDisplayError-btn-report translate-context="Action to report an error for the message" translate>Report problem</a> </div> <div ng-if=message.networkError class=messageDisplayError-notice> <span class=messageDisplayError-notice-text translate translate-context="Message network error">Network error: Please check your connection and try again.</span> <a href=# reload-state translate-context="Action to reload the current state" translate>Try again</a> </div> </section> ')}])}t.exports=n},"58Y6":function(t,e){var a=window.angular,n="templates/contact/advancedSettingsBtn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=advancedSettingsBtn-container> <button type=button ng-if=!isOwnAddress(model.value) class="fa fa-gear advancedSettingsBtn-btn" pt-tooltip-translate="Advanced settings" pt-tooltip-translate-context=Action></button> </div> ')}])}t.exports=n},"5ACN":function(t,e){var a=window.angular,n="templates/modals/humanVerification.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit=ctrl.submit() name=humanVerificationForm novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Human verification</h4> </div> <div class="modal-body pm_form"> <p class="alert alert-info" translate translate-context=Info>For security reasons, please verify that you are not a robot.</p> <div ng-if="::ctrl.methods.length > 1"> <label ng-if="ctrl.methods.includes(\'captcha\')"> <custom-radio data-custom-ng-model=ctrl.tokenType data-custom-value=captcha></custom-radio> <span translate translate-context=Label>Captcha</span> </label> <hr/> </div> <captcha-view ng-if="ctrl.tokenType === \'captcha\'" data-token="{{ ::ctrl.token }}"></captcha-view> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit ng-disabled=!ctrl.tokens[ctrl.tokenType] class="pm_button primary modal-footer-button" translate translate-context=Action>Submit</button> </div> </form> <div class=modal-overlay></div> </div>')}])}t.exports=n},"5B4X":function(t,e){var a=window.angular,n="templates/directives/composer/composerInputRecipient.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<span class=composer-input-recipient> <email-encryption-icon data-email=email data-message=message></email-encryption-icon> {{ email.Name || email.Address }}<span class=composer-recipient-delim>,</span> </span> ")}])}t.exports=n},"5W4V":function(t,e){var a=window.angular,n="templates/partials/wizard.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_wizard class="wizardStep-1 wizardStep-hidden" tabindex=0> <div ng-if="tourActive === true"> <button data-display-wizard-button=tourEnd class=close> <i class="fa fa-times"></i> <span translate translate-context=Action>Close</span> </button> <div class=step-1> <h1 class="badge tada">01</h1> <h2 class="title fadeIn" translate translate-context=Title>Welcome to your new encrypted email account</h2> <div class="body fadeIn"> <p translate translate-context=Info>This short tutorial will show you the main features of your new ProtonMail account. For more information, you can also check out the Welcome email we have sent you. If you ever want to view this tutorial again, you can access it by clicking your username in the upper right corner.</p> </div> </div> <div class=step-2> <h1 class="badge tada">02</h1> <h2 class="title fadeIn" translate translate-context=Title>Personalize your layout</h2> <div class="body fadeIn"> <p translate translate-context=Info>ProtonMail allows you to fully customize your inbox experience. By clicking <strong>(1)</strong> you can quickly switch between two possible layouts. You can set a default layout, set your composer style, adjust button layouts, and even switch themes under <em>Settings</em> <span class="fa fa-chevron-right"></span> <em>Appearance</em> <strong>(2)</strong></p> </div> </div> <div class=step-3> <h1 class="badge tada">03</h1> <h2 class="title fadeIn" translate translate-context=Title>Manage your email with folders and labels</h2> <div class="body fadeIn"> <p> <span translate translate-context=Info>Folders and labels are a powerful tool to manage your inbox.</span> </p><ul> <li translate translate-context=Info>You can add and remove labels from selected emails by clicking the labels button <strong>(1)</strong>.</li> <li translate translate-context=Info>You can add and remove folders from selected emails by clicking the folders button <strong>(2)</strong>.</li> <li translate translate-context=Info>You can also add, delete, and edit them by clicking on <em>Folders / Labels</em> <strong>(3)</strong>.</li> </ul> <p></p> </div> </div> <div class=step-4> <h1 class="badge tada">04</h1> <h2 class="title fadeIn" translate translate-context=Title>Help and support</h2> <div class="body fadeIn"> <p translate translate-context=Info>If you have questions or need help, please visit <a href=https://protonmail.com/support target=_blank>our support page</a> to find troubleshooting guides and contact our support team. If you find a bug in ProtonMail, please let us know! You can send us a bug report by clicking <em>Report bug</em> <strong>(1)</strong></p> </div> </div> <div class=navigation> <button class="next pm_button primary" data-display-wizard-button=tourNext ng-show="tourStep < 4" translate translate-context=Action>Next tip</button> <button class="next pm_button primary" data-display-wizard-button=tourEnd ng-show="tourStep === 4" translate translate-context=Action>Finish</button> <ul class=pagination> <li class=pagination-step-1> <a href=# data-display-wizard-button=tourGo data-display-position=1></a> </li> <li class=pagination-step-2> <a href=# data-display-wizard-button=tourGo data-display-position=2></a> </li> <li class=pagination-step-3> <a href=# data-display-wizard-button=tourGo data-display-position=3></a> </li> <li class=pagination-step-4> <a href=# data-display-wizard-button=tourGo data-display-position=4></a> </li> </ul> </div> </div> </div> ')}])}t.exports=n},"5mZJ":function(t,e){var a=window.angular,n="templates/modals/changePassword.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <form method=post ng-submit="passwordForm.$valid && ctrl.submit()" novalidate="" name=passwordForm> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 ng-if="ctrl.type === \'password\' && ctrl.mode === 1" class=modal-title translate translate-context=Title>Change Password</h4> <h4 ng-if="ctrl.type === \'password\' && ctrl.mode === 2" class=modal-title translate translate-context=Title>Switch to One-Password Mode</h4> <h4 ng-if="ctrl.type === \'login\' && ctrl.mode === 2" class=modal-title translate translate-context=Title>Change Login Password</h4> <h4 ng-if="ctrl.type === \'login\' && ctrl.mode === 1" class=modal-title translate translate-context=Title>Switch to Two-Password Mode</h4> <h4 ng-if="ctrl.type === \'mailbox\' && ctrl.mode === 2" class=modal-title translate translate-context=Title>Change Mailbox Password</h4> <h4 ng-if="ctrl.type === \'mailbox\' && ctrl.mode === 1" class=modal-title translate translate-context=Title>Switch to Two-Password Mode</h4> <h4 ng-if="ctrl.type === \'organization\'" class=modal-title translate translate-context=Title>Change Organization Password</h4> </div> <div class="modal-body pm_form"> <p ng-if="ctrl.type === \'organization\'" class="alert alert-info" translate-context=Info translate>Other administrators exist in your organization, you are responsible for communicating the new password to them.</p> <p ng-if="ctrl.type === \'password\' && ctrl.mode === 2" class="alert alert-info" translate-context=Info translate>ProtonMail can also be used with a single password which replaces both the login and mailbox password. To switch to single password mode, enter the single password you would like to use and click Save.</p> <p ng-if="ctrl.type === \'login\' && ctrl.mode === 1" class="alert alert-info" translate-context=Info translate>Two-password mode uses separate passwords for login and mailbox decryption. This provides a minor security benefit in some situations, however we recommend one-password mode for most users. To switch to two password mode, first set a login password and then set a mailbox password.</p> <label ng-if="ctrl.type === \'password\'" for=newPassword translate-context=Label translate>New Password</label> <label ng-if="ctrl.type === \'login\'" for=newPassword translate-context=Label translate>New Login Password</label> <label ng-if="ctrl.type === \'mailbox\'" for=newPassword translate-context=Label translate>New Mailbox Password</label> <label ng-if="ctrl.type === \'organization\'" for=newPassword translate-context=Label translate>New Organization Password</label> <password data-id=newPassword data-name=newPassword data-value=ctrl.newPassword form=passwordForm></password> <label for=confirmPassword translate-context=Label translate>Confirm Password</label> <password data-id=confirmPassword data-name=confirmPassword data-value=ctrl.confirmPassword compare=ctrl.newPassword form=passwordForm></password> <p class="alert alert-warning" ng-if="ctrl.type === \'password\' || ctrl.type === \'login\' || ctrl.type === \'mailbox\'"> <span translate-context=Info translate>* Do NOT forget this password. If you forget it, you will not be able to login or decrypt your messages.</span><br/> <span translate-context=Info translate>* Save your password somewhere safe. Click on <i class="fa fa-eye"></i> icon to confirm you that have typed your password correctly.</span><br/> <span translate-context=Info translate>* We recommend adding a recovery email address first. Otherwise, you cannot recover your account if something goes wrong.</span> </p> <p class="alert alert-warning" ng-if="ctrl.type === \'organization\'"> <span translate-context=Info translate>* Do NOT forget this password. If you forget it, you will not be able to manage your organization.</span><br/> <span translate-context=Info translate>* Save your password somewhere safe. Click on <i class="fa fa-eye"></i> icon to confirm you that have typed your password correctly.</span> </p> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button disabled-if-network-activity"> <span ng-if="ctrl.type !== \'login\' || ctrl.mode !== 1" translate-context=Action translate>Save</span> <span ng-if="ctrl.type === \'login\' && ctrl.mode === 1" translate-context=Action translate>Next</span> </button> </div> </form> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"5r2/":function(t,e){var a=window.angular,n="templates/user/usernamePassword.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=usernamePassword-container> <label class="titleLabel usernamePassword-title-password" for=password translate-context=Title translate>Password</label> <div class="margin usernamePassword-field-password"> <password data-id=password data-name=password data-value=model.password data-form=form placeholder-translate-context=Placeholder placeholder-translate="Choose a password"></password> </div> <div class="margin usernamePassword-field-password-confirm"> <password data-id=passwordc data-name=passwordc data-value=model.confirmation data-form=form data-compare=model.password placeholder-translate-context=Placeholder placeholder-translate="Confirm password"></password> </div> <p class="alert alert-info usernamePassword-msg-password" translate-context=Info translate>If you lose your password, you will not be able to read your emails.</p> </div> ')}])}t.exports=n},6:function(t,e){},"60cV":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return s}));a("cnVF");var n=function(t,e,a){return e===a?t:t*(a/e)},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Name";return t.reduce((function(t,a){return t[a[e]]=a,t}),{})},r=function(t,e){return e.reduce((function(e,a){var n=t[a].ID;return e[n]=(e[n]||0)+1,e}),{})},s=function(t){return t.Amount+t.CouponDiscount}},"63Ao":function(t,e,a){"use strict";a.d(e,"a",(function(){return h})),a.d(e,"f",(function(){return y})),a.d(e,"c",(function(){return x})),a.d(e,"d",(function(){return A})),a.d(e,"e",(function(){return S})),a.d(e,"b",(function(){return P}));var n=a("J4zp"),o=a.n(n),r=a("o0o1"),s=a.n(r),l=a("lSNA"),i=a.n(l),c=a("yXPU"),d=a.n(c),u=a("pdRq"),p=a("J4u2"),m=a("dG5C"),f=a("FaOd"),g=a("ID4j");function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,a=function(){var t=d()(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.f)(a[e]);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:return n=t.t0,t.abrupt("return",b(b({},a),{},{keys:n}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Promise.all(t.map(a))}function y(){return w.apply(this,arguments)}function w(){return(w=d()(s.a.mark((function t(){var e,a,n,o,r,l,i=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,Object(p.a)(e.PrivateKey);case 3:return a=t.sent,n=a.created,o=a.bitSize,r=a.fingerprint,l=a.algorithmName,t.abrupt("return",b(b({},e),{},{created:n,bitSize:o,fingerprint:r,algorithmName:l}));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return k.apply(this,arguments)}function k(){return(k=d()(s.a.mark((function t(e){var a,n,r,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:return a=t.sent,t.next=5,Object(u.f)(a.PrivateKey);case 5:return n=t.sent,r=o()(n,1),l=r[0],t.abrupt("return",b(b({},a),{},{PublicKey:l.toPublic().armor()}));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var A=function(){var t=d()(s.a.mark((function t(){var e,a,n=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:[],a=e.reduce((function(t,e){var a=e.Keys,n=void 0===a?[]:a,o=Promise.all(n.map(x));return t.concat(o.then((function(t){return b(b({},e),{},{Keys:t})})))}),[]),t.abrupt("return",Promise.all(a));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=d()(s.a.mark((function t(e){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=6;break}return t.next=3,Object(m.o)(e);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=e;case 7:return a=t.t0,t.abrupt("return","data:application/pgp-keys;base64,"+Object(m.k)(Object(m.c)(a)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=d()(s.a.mark((function t(e){var a,n,o,r,l,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.Token,n=e.Signature,o=e.privateKeys,r=e.publicKeys,t.t0=f.b,t.next=4,Object(g.e)(a);case 4:return t.t1=t.sent,t.next=7,Object(g.f)(n);case 7:return t.t2=t.sent,t.t3=o,t.t4=r,t.t5={message:t.t1,signature:t.t2,privateKeys:t.t3,publicKeys:t.t4},t.next=13,(0,t.t0)(t.t5);case 13:if(l=t.sent,i=l.data,1===l.verified){t.next=18;break}throw new Error("Signature verification failed");case 18:return t.abrupt("return",i);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"63Hn":function(t,e){var a=window.angular,n="templates/directives/core/sidebarProgress.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=storageProgress-container> <div class=link hide-upgrade=space> <a ui-sref="secured.dashboard({scroll: true})"> <span translate translate-context=Action>Upgrade storage</span> </a> </div> <div class="storage text-center"> <strong title=Storage>{{ storageValue() }}</strong> </div> <div class=storageBar> <div class=storageBar-progress ng-style=storageStyle()></div> </div> </div> ')}])}t.exports=n},"6JZs":function(t,e){var a=window.angular,n="templates/views/login.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=login-container> <login-form ng-if=\"show === 'LOGIN'\" data-username=username data-on-submit=onSubmitLogin data-loading=loading></login-form> <login-two-factor-form ng-if=\"show === 'TOTP'\" data-on-submit=onSubmitTotp data-loading=loading></login-two-factor-form> <login-unlock-form ng-if=\"show === 'UNLOCK'\" data-on-submit=onSubmitUnlock data-loading=loading></login-unlock-form> <login-spinner ng-if=\"show === 'DECRYPTING'\"></login-spinner> </div> ")}])}t.exports=n},"6LyF":function(t,e){var a=window.angular,n="templates/message/allMessageLabels.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="allMessageLabels-container labelz"> <folders-message class=allMessageLabels-list></folders-message> <labels-element data-button=remove data-format=inline data-limit=none data-element=message class=allMessageLabels-list></labels-element> </div> ')}])}t.exports=n},"6OED":function(t,e){var a=window.angular,n="templates/dashboard/customVpnModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <form class=modal-dialog name=customPlanForm ng-submit=ctrl.submit() novalidate> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context="Title for the vpn modal" translate>ProtonVPN Plans</h4> </div> <div class="modal-body customVpnModal-body" ng-class=::ctrl.fromPlan> <p class="alert alert-info"> <span translate-context="Info for the vpn modal" translate>ProtonVPN encrypts your internet connection, adding a powerful layer of security to your devices and ensuring your online activity stays private.</span> <a href=https://protonvpn.com target=_blank translate-context=Link translate>Learn more</a> </p> <vpn-columns></vpn-columns> <button ng-if=ctrl.hasVpn type=button class=customVpnModal-remove ng-click=ctrl.remove() translate-context="Remove button for the vpn form" translate>Remove VPN protection</button> <vpn-slider></vpn-slider> <vpn-total></vpn-total> </div> </div> <div class=modal-footer> <button type=button ng-click=ctrl.close() class="pm_button modal-footer-button" translate-context=Action translate>Cancel</button> <button tabindex=1 class="pm_button primary modal-footer-button" translate-context=Action translate>Save</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"6R14":function(t,e,a){"use strict";a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return d})),a.d(e,"b",(function(){return u}));var n=a("o0o1"),o=a.n(n),r=a("RIqP"),s=a.n(r),l=a("yXPU"),i=a.n(l),c=function(){var t=!1,e=function(){},a=new Promise((function(t){return e=t}));return{cancel:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e(a),t=!0},getCancelEvent:function(){return a},isCancelled:function(){return t},check:function(){if(t){var e=new Error;throw e.isCancellationError=!0,e}}}},d=function(t){return new Promise((function(e){return setTimeout(e,t)}))},u=function(){var t=i()(o.a.mark((function t(){var e,a,n,r,l,i=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=i.length>0&&void 0!==i[0]?i[0]:[],a=i.length>1?i[1]:void 0,n=i.length>2?i[2]:void 0,r=[],l=0;case 5:if(!(l<e.length)){t.next=13;break}if(r.push.apply(r,s()(e[l].map(a))),l===e.length-1){t.next=10;break}return t.next=10,d(n);case 10:++l,t.next=5;break;case 13:return t.abrupt("return",Promise.all(r));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},"6Ue4":function(t,e){var a=window.angular,n="templates/utils/printModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} printModal-container" role=dialog> <style>@media print{.headerSecuredDesktop-container,.modal-footer,.noprint,.pm_modal .modal-dialog .close,.pm_modal .modal-dialog .modal-content h4,.pm_modal .modal-overlay,.protonLoader,body.secure #body,button.fa.fa-ellipsis-h.pm_button.more{display:none!important}}</style> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h4 class=modal-title translate-context="Modal title" translate>Print preview</h4> </header> <div class="modal-body printModal-body"> <print-message data-print-message-config=ctrl.config ng-if="ctrl.type === \'message\'"></print-message> </div> </div> <footer class=modal-footer> <button class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate-context=Action translate>Close</button> <button class="pm_button primary modal-footer-button disabled-if-network-activity" tabindex=1 ng-click=ctrl.print() translate-context=Action translate>Print</button> </footer> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"6gV8":function(t,e){var a=window.angular,n="templates/message/phishingBtn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button type=button class="phishingBtn-container dropdown-actions-nowrap-button"> <i class="fa phishingBtn-icon dropdown-actions-nowrap-icon"> <svg height=17 width=13> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-hook></use> </svg> </i> <span class="phishingBtn-text dropdown-actions-nowrap-textContainer" translate-context=Action translate>Report phishing</span> </button> ')}])}t.exports=n},"6vr+":function(t,e){var a=window.angular,n="templates/contact/contactEncryptToggle.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactEncryptToggle-container> <label for=contactEncryptToggle class=contactEncryptToggle-label> <span translate-context="Label for contact Encrypt toggle" translate>Encrypt</span> <i class="fa fa-warning contactEncryptToggle-warning-icon" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Please upload a valid encryption key first before enabling encryption"></i> </label> <toggle class=small data-id=contactEncryptToggle data-name=advancedSetting data-type=updateEncrypt data-status=value data-on=ON data-off=OFF></toggle> </div> ')}])}t.exports=n},"6yQw":function(t,e){var a=window.angular,n="templates/payment/paymentPlanOverview.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=paymentPlanOverview-container> <header class=paymentPlanOverview-header> <span class=paymentPlanOverview-header-title translate-context=Title translate>Plan</span> <span class=paymentPlanOverview-header-title translate-context=Title translate>Price</span> </header> <ul class=paymentPlanOverview-list> <li class=paymentPlanOverview-item ng-repeat="item in list track by $id(item)"> <header class="paymentPlanOverview-item-container {{ ::item.className }}"> <div class=paymentPlanOverview-item-title> {{ ::item.text }} <a ng-if=::item.proration class=text-purple href=https://protonmail.com/support/knowledge-base/credit-proration/ target=_blank translate-context=Link translate>(What is this?)</a> </div> <span ng-if=::item.tooltip class=paymentPlanOverview-item-discount pt-tooltip="{{ ::item.tooltip.hover }}" data-discount="{{ ::item.tooltip.percentage }}">{{ ::item.tooltip.text }}</span> <span class=paymentPlanOverview-item-price>{{ ::item.price }}</span> </header> <ul class=paymentPlanOverview-list-features ng-if=::item.features> <li class=paymentPlanOverview-item-container ng-repeat="feature in ::item.features track by $id(feature)"> <span class=paymentPlanOverview-item-title>{{ ::feature.text }}</span> <span class=paymentPlanOverview-item-price>{{ ::feature.price }}</span> </li> </ul> </li> </ul> </div> ')}])}t.exports=n},7:function(t,e){},"7OQC":function(t,e){var a=window.angular,n="templates/directives/contact/contactPublicKeys.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<contact-key-pinning ng-if="internalKeys.RecipientType === 1 || (internalKeys.RecipientType === 2 && BE.items.length)"></contact-key-pinning> <contact-public-key-label class=no-upload-button ng-if="UI.items.length && BE.items.length" data-text-translate=available></contact-public-key-label> <contact-public-key-label class=no-upload-button ng-if="!UI.items.length && BE.items.length" data-text-translate=public></contact-public-key-label> <contact-public-key-table ng-if="internalKeys.RecipientType === 1 || (internalKeys.RecipientType === 2 && BE.items.length)" data-items=BE.items data-primary-key=protonFingerprint data-enable-trust=true data-enable-delete=false></contact-public-key-table> <div class=public-key-controls ng-if="UI.items.length && BE.hasUntrusted"> <button class="pm_button link" type=button data-action=moveAllToTrusted translate-context=Action translate>Add all</button> </div> <contact-public-key-label ng-if="!!BE.items.length && UI.items.length" id=trusted-public-keys-label class=no-upload-button data-text-translate=trusted></contact-public-key-label> <contact-public-key-label ng-if=!BE.items.length id=public-keys-label ng-class="{ \'no-upload-button\': UI.items.length }" data-text-translate=public></contact-public-key-label> <contact-public-key-table ng-if=UI.items.length data-items=UI.items data-primary-key=protonFingerprint data-enable-trust=false data-enable-delete=true></contact-public-key-table> <div class=public-key-controls ng-if=UI.items.length> <button class="pm_button link" type=button data-action=add translate-context=Action translate>Add key</button> </div> <input type=file class=upload-helper multiple=multiple accept=.txt,.asc> ')}])}t.exports=n},"7UbS":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return r}));var n=a("szHJ"),o=function(t){return{username:t.Username,password:t.Password,totp:t.TwoFactorCode}},r=function(t,e){return e?Object(n.b)(t,e):t}},"7bOk":function(t,e){var a=window.angular,n="templates/modals/bug.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <form class="modal-dialog pm_form bugModalForm" ng-submit="bugModalForm.$valid && ctrl.submit()" name=bugModalForm novalidate> <button type=button ng-click=ctrl.cancel() title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h3 class=modal-title translate translate-context=Title>Report Bug</h3> </div> <div class=modal-body> <bug-modal-view data-form=bugModalForm data-model=ctrl.form></bug-modal-view> </div> </div> <div class=modal-footer> <button id=cancelModalBtn type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate-context=Action translate>Cancel</button> <button id=confirmModalBtn class="pm_button primary modal-footer-button disabled-if-network-activity" translate-context=Action translate>Submit</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"7xla":function(t,e){var a=window.angular,n="templates/views/outside.message.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=outsideMessageWrap> <div class=message-head> <a ng-click=reply() class="pm_button pull-right"> <i class="fa fa-reply"></i> <span class="visible-md-inline-block visible-lg-inline-block" translate-context=Action translate>Reply securely</span> </a> <h1 class=no-margin-bottom> <span class=attachment ng-show="message.Attachments.length > 0"> <i class="fa fa-paperclip"></i> </span> <span ng-bind=message.Subject></span> </h1> </div> <div class=message-metadata> <ul class=infos> <li> <strong translate-comment="message metadata" translate translate-context=Title>From</strong> <b>{{ message.Sender.Name }}</b> &lt;{{ message.Sender.Address }}&gt; <span class="fa fa-check-circle verified" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="ProtonMail Verified"></span> </li> <li ng-if="message.ToList.length > 0"> <strong translate-comment="message metadata" translate translate-context=Title>To</strong> <span ng-repeat="email in message.ToList"> <b>{{ email.Name }}</b> &lt;{{ email.Address }}&gt; </span> </li> <li ng-if="message.CCList.length > 0"> <strong translate-comment="message metadata" translate translate-context=Title>CC</strong> <span ng-repeat="email in message.CCList"> <b>{{ email.Name }}</b> &lt;{{ email.Address }}&gt; </span> </li> </ul> <message-extra></message-extra> </div> <div id=outsideMessage> <div id=message-body data-embedded-img-loader data-inject-message-media> <div class="bodyDecrypted email" ng-class="{\'plain\': message.isPlainText() }" render-message-body ng-if=body toggle-blockquote scroll=false></div> </div> </div> <list-attachments data-model=message ng-if=message></list-attachments> <div id=eo_footer></div> </div> ')}])}t.exports=n},8:function(t,e){},"8Fsi":function(t,e){var a=window.angular,n="templates/labels/dropdownFolders.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=dropdown-folder-container> <div class=dropdown-folder-title> <p translate translate-context=title>Move to</p> </div> <label class=dropdown-folder-search> <i class="fa fa-search dropdown-folder-search-icon"></i> <input class=dropdown-folder-search-input type=search placeholder-translate="Filter folders" placeholder-translate-context=Placeholder ng-model=searchValue ng-minlength=1> </label> <div class="dropdown-folder-fullwidth scrollbox-container" ng-if="labels.length > 0"> <ul class=scrollbox-container-group> <li class=dropdown-folder-scrollbox-group-item ng-repeat="label in (filteredLabels = (labels | filter: {Name: searchValue})) track by label.ID"> <button class=dropdown-folder-scrollbox-group-item-button data-folder-id="{{ ::label.ID }}"> <div> <i class="fa dropdown-folder-scrollbox-group-item-icon" ng-class=label.className ng-style=::color(label)></i> <span class=ellipsis>{{ ::label.Name }}</span> </div> </button> </li> <li class=scrollbox-container-group-item-empty ng-if="filteredLabels.length === 0" translate translate-context=Info>no folder found</li> </ul> </div> <div class=dropdown-folder-create> <button class=dropdown-folder-create-button> <span translate-context=Action translate>Create a new folder</span> <i class=dropdown-folder-create-value>{{searchValue}}</i></button> </div> </div> ')}])}t.exports=n},"8Kzt":function(t,e){var a=window.angular,n="templates/formUtils/captcha.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=captchaFrame class=spacing-top> <span class=loading translate-context=Info translate>Loading...</span> <iframe id=pm_captcha sandbox="allow-scripts allow-same-origin allow-popups"></iframe> </div> ')}])}t.exports=n},"8L/1":function(t,e){var a=window.angular,n="templates/formUtils/captchaView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=captchaView> <div class="loading pm-flex-content-vertical-center text-center"> <loader-tag></loader-tag> </div> <iframe sandbox="allow-scripts allow-same-origin"></iframe> </div> ')}])}t.exports=n},"8orU":function(t,e){var a=window.angular,n="templates/message/displayContentBtn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<section class=displayContentBtn-container ng-class=\"{\n        'displayContentBtn-type-embedded': message.showEmbedded === false,\n        'displayContentBtn-type-remote': message.showImages === false}\"> <div class=displayContentBtn-notice> <span class=displayContentBtn-notice-text></span> </div> <button class=\"displayContentBtn-button pm_button\" translate translate-context=Action>Load</button> </section> ")}])}t.exports=n},"91jv":function(t,e){var a=window.angular,n="templates/modals/payment/paymentVerificationModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <form name=paymentVerificationForm class=modal-dialog ng-submit=ctrl.submit() novalidate> <button type=button ng-if="ctrl.step === \'redirect\'" ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 ng-if="ctrl.step === \'redirect\'" class=modal-title> <span ng-if=!ctrl.isAddCard translate-context=Title translate>Payment verification</span> <span ng-if=ctrl.isAddCard translate-context=Title translate>Card verification</span> </h4> <h4 ng-if="ctrl.step === \'redirecting\'" class=modal-title translate-context=Title translate>Processing...</h4> <h4 ng-if="ctrl.step === \'redirected\'" class=modal-title> <span ng-if=!ctrl.isAddCard translate-context=Title translate>Payment verification in progress</span> <span ng-if=ctrl.isAddCard translate-context=Title translate>Card verification in progress</span> </h4> <h4 ng-if="ctrl.step === \'duckduckgo\'" class=modal-title translate-context=Title translate>Unsupported browser</h4> <h4 ng-if="ctrl.step === \'fail\'" class=modal-title translate-context=Title translate>3-D Secure verification failed</h4> </div> <div class=modal-body> <div ng-if="ctrl.step === \'redirect\'"> <p class=text-center translate-context=Info translate>Your bank requires 3-D Secure verification for security purposes.</p> <p class=text-center> <payment-verification-logo payment=ctrl.payment></payment-verification-logo> </p> <p class="alert alert-info"> <span ng-if=!ctrl.isAddCard translate-context=Info translate>Verification will open a new tab, please disable any popup blockers.</span> <span ng-if=ctrl.isAddCard translate-context=Info translate>Verification will open a new tab, please disable any popup blockers. <b>You will not be charged</b>. Any amount used to verify the card will be refunded immediately.</span> </p> </div> <div ng-if="ctrl.step === \'redirecting\'"> <p class=text-center translate-context=Info translate>You will be soon redirected to your bank to verify your payment.</p> <loader-tag></loader-tag> <p class="alert alert-info" translate-context=Info translate>Verification will open a new tab, please disable any popup blockers.</p> </div> <div ng-if="ctrl.step === \'redirected\'"> <p class=text-center> <span ng-if=!ctrl.isAddCard translate-context=Info translate>Please verify payment at the new tab which was opened.</span> <span ng-if=ctrl.isAddCard translate-context=Info translate>Please verify the card in the new tab which was opened.</span> </p> <loader-tag></loader-tag> <p class=text-center> <button class="pm_button link" type=button ng-click=ctrl.cancel()>Cancel</button> </p> <p class="alert alert-info"> <span ng-if=!ctrl.isAddCard translate-context=Info translate>Payment can take a few minutes to fully verify.</span> <span ng-if=ctrl.isAddCard translate-context=Info translate>Verification can take a few minutes.</span> </p> </div> <div ng-if="ctrl.step === \'duckduckgo\'"> <p class="alert alert-error" translate-context=Error translate>The browser you are using does not allow the payment to be fully authorized. Please use a different browser or log in via a computer.</p> <button class=pm_button type=button ng-click=ctrl.cancel() translate-context=Action translate>Close</button> </div> <div ng-if="ctrl.step === \'fail\'" class=text-center> <p translate-context=Info translate>Please try again, use a different payment method, or call your bank for assistance.</p> <img src=/assets/img/error.svg alt=Error /> <p ng-if=ctrl.tryAgain> <button class=pm_button type=submit translate-context=Action translate>Try again</button> </p> <p> <button class="pm_button primary" type=button ng-click=ctrl.cancel() translate-context=Action translate>Use a different payment method</button> </p> </div> </div> </div> <div class=modal-footer> <button ng-if="ctrl.step === \'redirect\'" type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate-context=Action translate>Cancel</button> <button ng-if="ctrl.step === \'redirect\'" autofocus class="pm_button primary modal-footer-button" translate-context=Action translate>Verify</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"9PIj":function(t,e){var a=window.angular,n="templates/authentication/loginUnlock.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form method=post id=pm_loginUnlock name=unlockForm class="pm_panel pm_form alt loginFormUnlock-container" novalidate role=form autocomplete=off> <img src=/assets/img/logo.png height=20 alt=ProtonMail class=logo /> <h4 class=text-center> <span class="fa fa-inbox title-icon"></span> <span translate translate-context=Title>Decrypt Mailbox</span> </h4> <p class=text-center></p> <label for=password class=sr-only translate-context=Label translate>Mailbox password</label> <password class="margin focus unlock-input-password" data-id=mailboxPassword data-name=mailbox-password data-value=mailboxPassword data-form=unlockForm placeholder-translate-context=Placeholder placeholder-translate="Mailbox password"></password> <div class=loginForm-actions> <div class=loginForm-actions-column> <button id=unlock_btn class="loginForm-actions-main pm_button primary pull-right disabled-if-network-activity" type=submit ng-disabled="unlockForm.$invalid || loading" translate-context=Action translate>Unlock</button> <button type=button data-action=reset class="login-support pm_button color-white link pull-left unlock-btn-forgot" translate-context=Action translate translate-comment="link to reset mailbox">Forgot password?</button> </div> </div> </form> ')}])}t.exports=n},"9W3/":function(t,e){var a=window.angular,n="templates/modals/twofactor/sharedSecret.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Set Up Two Factor Authentication</h4> </div> <div class=modal-body> <p class=text-center ng-hide=ctrl.manual translate-context="2FA setup modal" translate>Scan this QR code with your two factor authentication device to set up your account.</p> <p class=text-center ng-show=ctrl.manual translate-context="2FA setup modal" translate>Manually enter this information into your two factor authentication device to set up your account.</p> <p class=text-center> <a href=# ng-click=ctrl.displayManual() ng-hide=ctrl.manual translate-context=Action translate>Enter key manually instead</a> <a href=# translate-context=Action ng-click=ctrl.displayManual() ng-show=ctrl.manual translate>Scan QR code</a> </p> <div ng-show=ctrl.manual class=pm_table> <table class=bordered> <tbody> <tr> <th scope=row style=width:60px translate-context="2FA setup modal" translate>Key</th> <td><code>{{ ctrl.sharedSecret }}</code></td> </tr> <tr> <th scope=row translate-context="2FA setup modal" translate>Interval</th> <td translate-context="2FA setup modal" translate>30 seconds</td> </tr> <tr> <th scope=row translate-context="2FA setup modal" translate>Length</th> <td translate-context="2FA setup modal" translate>6 digits</td> </tr> </tbody> </table> </div> <p align=center id=qrcode ng-if=!ctrl.manual ng-init=ctrl.makeCode()></p> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button tabindex=1 type=button class="pm_button primary modal-footer-button" ng-click=ctrl.next() translate translate-context=Action>Next</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"9kt2":function(t,e){var a=window.angular,n="templates/sidebar/sidebarContact.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class="pm_opensans sidebar sidebarApp-container sidebarContact-container"> <sidebar-mobile-header class=sidebarContact-about-app></sidebar-mobile-header> <section class=sidebarApp-wrapper> <button class="sidebar-btn-back sidebarApp-link" type=button data-action=back> <i class="sidebarApp-icon fa fa-arrow-left"></i> <span class=sidebarApp-link-inner translate-context="Back button in the contact sidebar" translate>Back to mail</span> </button> <ul class="menu sidebarApp-menu"> <li class=sidebarApp-item> <button class=sidebarApp-link type=button data-action=importContacts> <i class="sidebarApp-icon fa fa-upload"></i> <span translate-context="Import contacts button in the sidebar" translate>Import</span> </button> </li> <li class=sidebarApp-item> <button class=sidebarApp-link type=button data-action=exportContacts> <i class="sidebarApp-icon fa fa-download"></i> <span translate-context="Export contacts button in the sidebar" translate>Export</span> </button> </li> <li class=sidebarApp-item> <button class=sidebarApp-link type=button data-action=mergeContacts> <i class="sidebarApp-icon fa fa-code-fork"></i> <span class=sidebarContact-merge-text></span> </button> </li> <li class=sidebarApp-item> <button class=sidebarApp-link type=button data-action=deleteContacts> <i class="sidebarApp-icon fa fa-remove"></i> <span translate-context="Delete all contacts button in the sidebar" translate>Delete All</span> </button> </li> </ul> </section> <manage-contact-group-link class=sidebarContact-manageGroup></manage-contact-group-link> <sidebar-labels data-type=contact data-pt-dropzone></sidebar-labels> <div class=footer> <app-version class=version></app-version> </div> </section> ')}])}t.exports=n},"9r/h":function(t,e){var a=window.angular,n="templates/filter/sieveLabelInput.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_grid sieve-script filter-complex-only"> <div class=col-1-8> <label translate translate-context=Title>Sieve Script</label> </div> <div class=col-7-8 id=filterScriptContainer> <div ui-codemirror="{ onLoad : codeMirrorLoaded }" id=filterScript ng-model=sieve data-ui-codemirror-opts=codeMirrorOptions></div> </div> </div> ')}])}t.exports=n},"9uzX":function(t,e){var a=window.angular,n="templates/composer/composerExpiration.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class=composerExpiration-container name=expirationForm> <header class=composerExpiration-header> <h3 translate translate-context=Title>Expiration time</h3> <a href=https://protonmail.com/support/knowledge-base/expiration/ target=_blank> <i class="fa fa-info-circle"></i> </a> </header> <p translate translate-context=Info>This message will expire in</p> <div class="pm_form alert text-center composerExpiration-fields-container"> <div class=composerExpiration-field-weeks> <div class=pm_select> <select name=weeks id=weeks class=composer-options-select-week ng-model=model.weeks ng-options="option.label for option in options.week track by option.label"></select> <i class="fa fa-angle-down"></i> </div> <label translate translate-context=Delay for=weeks>Weeks</label> </div> <div class=composerExpiration-field-days> <div class=pm_select> <select name=days id=days class=composer-options-select-day ng-model=model.days ng-options="option.label for option in options.day track by option.label"></select> <i class="fa fa-angle-down"></i> </div> <label translate translate-context=Delay for=days>Days</label> </div> <div class=composerExpiration-field-hours> <div class=pm_select> <select name=hours id=hours class=composer-options-select-hour ng-model=model.hours ng-options="option.label for option in options.hour track by option.label"></select> <i class="fa fa-angle-down"></i> </div> <label translate translate-context=Delay for=hours>Hours</label> </div> </div> <p class="alert alert-warning" translate-context=Warning translate>If you are sending this message to a non ProtonMail user, please be sure to set a password for your message.</p> <footer class=text-right> <button type=button class="pm_button pull-left mobileFull composer-options-btn-cancel composerExpiration-btn-cancel" translate translate-context=Action>Cancel</button> <button class="pm_button primary mobileFull composer-options-btn-submit composerExpiration-btn-submit" translate translate-context=Action>Set</button> </footer> </form> ')}])}t.exports=n},A2Ez:function(t,e){var a=window.angular,n="templates/directives/contact/contactEmailDropdown.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div style=position:relative> <a dropdown> <i style=margin-top:10px;margin-left:5px;color:#9397cd;cursor:pointer class="fa fa-caret-down"></i> </a> <div class="pm_dropdown noPadding right wide contact-email-dropdown"> <button class=message-action-compose-to data-action=compose-to type=button> <div> <i class="fa fa-envelope-o" style=margin-left:20px></i> <span translate translate-context=Action>Compose to</span> </div> </button> <button class=message-action-add-contact data-action=add-contact type=button> <div> <i class="fa fa-gears" style=margin-left:20px></i> <span translate translate-context=Action>Advanced settings</span> </div> </button> </div> </div> ')}])}t.exports=n},A3uK:function(t,e){var a=window.angular,n="templates/payment/giftCodeModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <form class="modal-dialog giftCodeModal-container" name=giftCodeForm ng-submit=ctrl.submit() novalidate> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context=Title translate>Gift code</h4> </div> <div class="modal-body pm_form"> <label translate-context=Label translate>Gift code</label> <gift-code-input data-form=giftCodeForm data-code=ctrl.giftCode></gift-code-input> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.close() translate-context=Action translate>Cancel</button> <button class="pm_button primary modal-footer-button" ng-disabled=giftCodeForm.$invalid translate-context=Action translate>Apply</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},APHl:function(t,e){var a=window.angular,n="templates/views/setup.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<p>&nbsp;</p> <div class="pm_panel wide" ng-if=filling> <div class="text-center header"> <div> <img src=/assets/img/logo-dark.png height=20 /> </div> <h2> <i class="fa fa-user"></i> <span translate translate-context=Title>Set up your account</span> </h2> </div> <form method=post ng-submit="setup.$valid && submit(setup)" name=setup role=form novalidate class=pm_form> <div class="wrapper margin"> <p class="alert alert-info" translate-context=Info translate>Take back your privacy! Setting up your secure email account takes less than 2 minutes.</p> <div ng-if=chooseDomain> <label class=titleLabel for=Username> <em class=num>1</em> <span translate translate-context=Title>Email Address</span> </label> <div class=usernameWrap> <p class=help translate-context=Info translate>This will be your new ProtonMail email address.</p> <strong ng-bind=username></strong> <em class=usernameDomain>@</em> <span class="pm_select inline bigger"> <select class=selectDomain ng-model=model.domain ng-options="domain as domain.label for domain in domains track by domain.id"></select> <i class="fa fa-angle-down"></i> </span> </div> </div> <div> <label class=titleLabel for=password> <em class=num ng-if=chooseDomain>2</em> <span translate translate-context=Title>Password</span> </label> <p class=help translate-context=Info translate>This is used to encrypt and decrypt your messages. Do not lose this password--we cannot recover it.</p> <password class=loginSetup-field-password data-id=password data-name=password data-value=model.password placeholder-translate-context=Tooltip placeholder-translate="Enter your existing Proton password" data-form=setup></password> <password ng-if=!vpnEnabled class=loginSetup-field-password data-id=passwordc data-name=passwordc data-value=model.passwordConfirm data-compare=model.password placeholder-translate-context=Tooltip placeholder-translate="Confirm mailbox password" data-form=setup></password> <p class="alert alert-info" translate-context=Info translate>If you lose your password, you will not be able to read your emails.</p> </div> <p>&nbsp;</p> </div> <div class=text-center> <p><span translate translate-context=Info>By clicking Setup Account, you agree to abide by</span><br/> <a href=https://protonmail.com/terms-and-conditions target=_blank translate-context=Title translate>ProtonMail\'s Terms and Conditions</a>.</p> <p><button type=submit class="pm_button primary large disabled-if-network-activity" translate-context=Action translate>Setup Account</button></p> </div> </form> </div> <div class="pm_panel wide" ng-show=genKeys> <div class="text-center header"> <div class=creating-loader-container> <atom-loader data-loader-theme=primary></atom-loader> </div> <h2 class=text-center ng-show=!signupError translate translate-context=Title>Generating keys...</h2> </div> <p class=alert translate-context=Info translate>This can take a few seconds or a few minutes depending on your device.</p> </div> <div class="pm_panel wide" ng-show=creating id=setUpProcess> <div class="text-center header"> <div class=creating-loader-container> <atom-loader data-loader-theme=primary></atom-loader> </div> <h2 class=text-center ng-show=!setupError translate-context=Title translate>Setting up account</h2> <h2 class=text-center ng-show=setupError translate-context=Error translate>Setup failed</h2> </div> <p class="alert alert-danger" ng-show=setupError>An error occured while setting up your account. To see common problems and solutions <a target=_blank href=https://protonmail.com/support/knowledge-base/common-sign-up-problems-and-solutions/ >click here</a>.</p> <div class="wrapper text-left"> <ol id=creationList> <li class=done> <i class="show fa fa-check"></i> <span translate-context=Info translate>Generating keys</span> </li> <li ng-class="{ \'done\': setupAccount }"> <i ng-class="{ \'show\': setupAccount }" class="fa fa-check"></i> <span translate-context=Info translate>Setting up account</span> </li> <li ng-class="{ \'done\': getUserInfo }"> <i ng-class="{ \'show\': getUserInfo }" class="fa fa-check"></i> <span translate-context=Info translate>Done</span> </li> <li ng-class="{ \'done\': finishCreation }"> <i ng-class="{ \'show\': finishCreation }" class="fa fa-check"></i> <span translate-context=Info translate>Redirecting</span> </li> </ol> </div> </div> ')}])}t.exports=n},AUsZ:function(t,e){var a=window.angular,n="templates/modals/squire/addFile.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal important small {{ctrl.class}}" role=dialog> <form method=post class=modal-dialog ng-submit="addFileModal.$valid && ctrl.submit()" name=addFileModal data-squire-prevent-close novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title>{{ ::ctrl.formTitle }}</h4> </div> <div class="modal-body pm_form pm_grid"> <add-file image=ctrl.image form=addFileModal></add-file> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button addFile-cancel-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel </button> <button type=button class="pm_button modal-footer-button addFile-file-button" ng-if=::ctrl.canAddFile ng-click=ctrl.addFile()>{{ ::ctrl.addFileTitle }} </button> <button type=submit class="pm_button primary modal-footer-button addFile-insert-button" ng-disabled="addFileModal.$valid === false" ng-click=ctrl.insert()>{{ ::ctrl.actionTitle }} </button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},Aat8:function(t,e){var a=window.angular,n="templates/dashboard/professionalColumn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=professionalColumn-container> <header class=professionalColumn-header> <div class=isCurrent translate-context="Dashboard plan title" translate>Current Plan</div> <h1>Professional</h1> <plan-price data-plan=professional></plan-price> </header> <div class=professionalColumn-user> <addon-row data-addon=member data-plan=professional></addon-row> </div> <div class=professionalColumn-space> <span class=professionalColumn-space-value translate-context="Dashboard plan information" translate>5 GB Storage / User</span> <i class="fa fa-info-circle" pt-tooltip-translate="Click INFO to view total storage for your plan" pt-tooltip-translate-context=Info></i> <button type=button class="professionalColumn-customize pm_button link" translate-context="Dashboard plan button" translate>Info</button> </div> <div class=professionalColumn-address> <span class=professionalColumn-address-value translate-context="Dashboard plan information" translate>5 Addresses / User</span> <i class="fa fa-info-circle" pt-tooltip-translate="Click INFO to view total number of addresses for your plan" pt-tooltip-translate-context="Dashboard plan detail"></i> <button type=button class="professionalColumn-customize pm_button link" translate-context="Dashboard plan button" translate>Info</button> </div> <div class=professionalColumn-domain> <addon-row data-addon=domain data-plan=professional></addon-row> <i class="fa fa-info-circle" pt-tooltip-translate="Allows you to host emails for your own domain(s) at ProtonMail, e.g. <u>john.smith@example.com</u>" pt-tooltip-translate-context="Dashboard plan detail" pt-html=true></i> </div> <div class=professionalColumn-sending> <span translate-context="Dashboard plan information" translate>Unlimited sending</span> <i class="fa fa-info-circle" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="ProtonMail cannot be used for mass emailing or spamming. Legitimate emails are unlimited."></i> </div> <div class=professionalColumn-labels translate-context="Dashboard plan information" translate>Unlimited Folders / Labels</div> <div class=professionalColumn-support translate-context="Dashboard plan information" translate>Priority Support</div> <div class=professionalColumn-filters translate-context="Dashboard plan information" translate>Custom Filters</div> <div class=professionalColumn-autoresponder translate-context="Dashboard plan information" translate>Autoresponder</div> <div class=professionalColumn-catch-all translate-context="Dashboard plan information" translate>Catch-all email</div> <div class=professionalColumn-members translate-context="Dashboard plan information" translate>Multi-User Support</div> <vpn-row data-plan=professional class=professionalColumn-vpn></vpn-row> <total-rows data-plan=professional></total-rows> <footer class=professionalColumn-footer> <select-plan data-plan=professional></select-plan> </footer> </div> ')}])}t.exports=n},Acgf:function(t,e){var a=window.angular,n="templates/message/messagePublicKeyFound.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=public-key-found-container ng-class="{ \'messageExtra-container-warning\': message.verified > 1 }"> <div class=public-key-found-notice> <span class=public-key-found-notice-text ng-if="message.verified < 2 && !message.isInternal()" translate-context=Info translate>An unknown public key has been detected for this recipient.</span> <span class=public-key-found-notice-text ng-if="message.isInternal() || message.verified > 1" translate-context=Info translate>This message is signed by a public key that has not been trusted yet. </span> <a class=public-key-found-notice-link href=https://protonmail.com/support/knowledge-base/how-to-use-pgp/ target=_blank translate-context=Action translate>Learn more</a> </div> <button type=button class="public-key-found-button pm_button" translate-context=Action translate>TRUST KEY</button> </div> ')}])}t.exports=n},AswG:function(t,e){var a=window.angular,n="templates/authentication/modals/loginPassword.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit="passwordModalForm.$valid && ctrl.submit()" name=passwordModalForm novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Sign in again to continue</h4> </div> <div class="modal-body pm_form"> <login-password-input login-password=ctrl.loginPassword two-factor-code=ctrl.twoFactorCode has-two-factor=ctrl.hasTwoFactor form=passwordModalForm></login-password-input> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel </button> <button type=submit class="pm_button primary modal-footer-button" ng-disabled="passwordModalForm.$valid === false" translate translate-context=Action>Submit </button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},B6hA:function(t,e){var a=window.angular,n="templates/user/pmSignatureToggle.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=pmSignatureToggle-container> <div class=pmSignatureToggle-row> <p ng-bind-html=protonSignature.content></p> <toggle ng-if=!protonSignature.isMandatory class="defaultSignature-toggle small" data-status=protonSignature.isActive data-name=changePMSignature data-id=changePMSignature></toggle> </div> <p class="alert alert-info" ng-if=protonSignature.isMandatory translate translate-context=Info>A <a ui-sref="secured.dashboard({scroll: true})">paid plan</a> is required to turn off the ProtonMail signature. Paid plan revenue allows us to continue supporting free accounts.</p> </div> ')}])}t.exports=n},BLP6:function(t,e){var a=window.angular,n="templates/directives/paginator.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<span class="pm_buttons paginator paginator-container"> <a pt-tooltip-translate=Previous pt-tooltip-translate-context=Action class=paginator-btn-previous tabindex=0 role=button> <i class="fa fa-chevron-left"></i> <span class=sr-only translate-context=Action translate>Previous</span> </a> <span class="pull-left paginator-dropdown-list"> <a class="pm_trigger paginator-dropdown" dropdown pt-tooltip-translate="Page number" pt-tooltip-translate-context=Action tabindex=0 role=button> <small>{{ ::page }}</small> <i class="fa fa-angle-down"></i> </a> <span class="pm_dropdown right"> <a tabindex=0 role=button ng-repeat="p in pages track by p" data-value={{::p}} class=paginator-dropdown-item> <em class=paginator-label translate translate-context=Title translate-comment="current page dropdown in paginator">Page</em> {{ ::p }} </a> </span> </span> <a class=paginator-btn-next pt-tooltip-translate=Next pt-tooltip-translate-context=Action tabindex=0 role=button> <i class="fa fa-chevron-right"></i> <span class=sr-only translate-context=Action translate>Next</span> </a> </span> ')}])}t.exports=n},BPKk:function(t,e){var a=window.angular,n="templates/contact/contactAskEncryptionModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small important" role=dialog style=display:block> <form name=beforeForm class=modal-dialog novalidate> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context="Title for contact modal" translate>PGP Encryption</h4> </div> <div class="modal-body pm_form"> <div class="alert no-margin-bottom" translate-context="Message for encryption contact modal" translate>The email <strong>{{ ::ctrl.email }}</strong> has PGP keys set. Do you want to enable PGP encryption for this contact?</div> <label class=remember-choice> <custom-checkbox data-custom-ng-model=ctrl.applyToAll></custom-checkbox> <span translate-context="Remember encryption choice encrypt" translate>Remember my choice</span> </label> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.no() translate-context="Action to not set PGP encryption on import contact" translate>No</button> <button type=button class="pm_button primary modal-footer-button" ng-click=ctrl.yes() translate-context="Action to not set PGP encryption on import contact" translate>Yes</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},Be5g:function(t,e){var a=window.angular,n="templates/formUtils/cardView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=cardView-container> <div class="pm_grid card-name"> <label for=fullname translate translate-context=Label>Name on card</label> <div class=input-icon> <i class="fa fa-user"></i> <input type=text autofocus id=fullname name=fullname ng-model=card.fullname placeholder-translate-context="Example user" placeholder-translate="Thomas Anderson" required/> <div ng-messages=form.fullname.$error> <p ng-message=required class=text-red translate-context=Error translate>Field required</p> </div> </div> </div> <div class="pm_grid card-number"> <label for=cardnumber translate translate-context=Label>Card Number</label> <div class=input-icon> <card-icon class=card-number-icon number=card.number></card-icon> <input type=text id=cardnumber name=cardnumber ng-model=card.number placeholder="0000 0000 0000 0000" data-card-number maxlength=20 required/> <div ng-messages=form.cardnumber.$error> <p ng-message=required class=text-red translate-context=Error translate>Field required</p> <p ng-message=cardNumber class=text-red translate-context=Error translate>Invalid card number</p> </div> </div> </div> <div class="pm_grid card-metas"> <div class="col-1-3 card-metas-expiry"> <label translate translate-context=Label>Expiry Date</label> <span class=pm_select> <select ng-model=card.month ng-options="month for month in months" ng-init="card.month = months[0]"></select> <i class="fa fa-angle-down"></i> </span> </div> <div class="col-1-3 card-metas-year"> <label>&nbsp;</label> <span class=pm_select> <select ng-model=card.year ng-options="year for year in years" ng-init="card.year = years[0]"></select> <i class="fa fa-angle-down"></i> </span> </div> <div class="col-1-3 card-metas-cvc"> <label for=cvc translate translate-context=Label>Security Code</label> <div class="input-icon right"> <i class="fa fa-question-circle" data-cvc-tooltip></i> <input type=text id=cvc name=cvc ng-model=card.cvc maxlength=4 card-cvc required/> <div ng-messages=form.cvc.$error> <p ng-message=required class=text-red translate-context=Error translate>Field required</p> <p ng-message=cardCvc class=text-red translate-context=Error translate>Invalid CVC</p> </div> </div> </div> </div> <div class="pm_grid card-zip"> <div class="col-1-2 card-zip-code"> <label for=zip translate translate-context=Label>ZIP/Postal Code</label> <input type=text minlength=3 maxlength=9 id=zip name=zip ng-model=card.zip required/> <div ng-messages=form.zip.$error> <p ng-message=required class=text-red translate-context=Error translate>Field required</p> </div> </div> <div class="col-1-2 card-zip-country"> <label for=country translate translate-context=Label>Country</label> <span class=pm_select> <select id=country ng-model=card.country ng-options="country.label disable when country.disabled for country in countries"></select> <i class="fa fa-angle-down"></i> </span> </div> </div> </div> ')}])}t.exports=n},Bjqm:function(t,e){var a=window.angular,n="templates/contact/contactSelectorForm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class="contactSelectorForm-container modal-dialog pm_form" name=selectorForm novalidate> <button type=reset aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context=Title translate>Add multiple recipients</h4> </div> <div class=modal-body> <div class=contactSelectorForm-search-row> <label class=contactSelectorForm-search-label for=searchInput> <i class="fa fa-search contactSelectorForm-search-icon"></i> </label> <input type=search class=contactSelectorForm-search-input id=searchInput ng-model=searchValue placeholder-translate-context=Placeholder placeholder-translate="Search for emails"> </div> <p class=contactSelectorForm-warning-message> <i class="fa fa-warning"></i> <span translate-context=Error translate>You have reached the max recipients (25) per message</span> </p> <div class="pm_table contactSelectorForm-table-wrapper"> <table class=fixedLayout> <thead> <tr> <th scope=col class=checkbox> <custom-checkbox data-custom-ng-model=checkAll data-custom-ng-disabled=disableCheckAll data-custom-ng-change=onSelectAll()></custom-checkbox> </th> <th scope=col translate-context=Header translate>Name</th> <th scope=col translate-context=Header translate>Email</th> </tr> </thead> <tbody data-vs-repeat="{scrollParent: \'.contactSelectorForm-table-wrapper\'}"> <tr ng-repeat="email in ctrl.list | filter: { Email: searchValue } track by $id(email)"> <td class=checkbox> <custom-checkbox data-custom-ng-model=email.selected data-custom-ng-change=onCheck()></custom-checkbox> </td> <td> <span class=contactSelectorForm-name>{{ ::email.Name }}</span></td> <td> <span class=contactSelectorForm-email>{{ ::email.Email }}</span> </td> </tr> </tbody> </table> </div> <ul class=contactSelectorForm-labels> <li class=contactSelectorForm-label ng-repeat="email in ctrl.others track by $id(email)" title="{{ ::email.Email }}"> {{ ::(email.Name || email.Email) }} <button type=button class=contactSelectorForm-remove-label-btn title-translate=Remove title-translate-context=Action data-list=others data-index="{{ $index }}"> <i class="fa fa-close"></i> </button> </li> <li class=contactSelectorForm-label ng-repeat="email in ctrl.list | filter: { selected: true } track by $id(email)" title="{{ ::email.Email }}"> {{ ::(email.Name || email.Email) }} <button type=button class=contactSelectorForm-remove-label-btn title-translate=Remove title-translate-context=Action data-list=list data-index="{{ $index }}"> <i class="fa fa-close"></i> </button> </li> </ul> </div> </div> <div class=modal-footer> <button type=reset class="pm_button modal-footer-button" translate-context=Action translate>Cancel</button> <button class="pm_button primary modal-footer-button" translate-context=Action translate>Add</button> </div> </form> ')}])}t.exports=n},C4ZC:function(t,e){var a=window.angular,n="templates/views/contacts.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=contacts-container> <contact-toolbar></contact-toolbar> <div class=contacts-panels> <contact-list></contact-list> <contact-placeholder ng-if=\"'secured.contacts' | isState\"></contact-placeholder> <div class=contactsDetails-container ui-view=details></div> </div> </div> ")}])}t.exports=n},C7OI:function(t,e){var a=window.angular,n="templates/ui/currencySelector.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=currencySelector-container> <button class="currencySelector-button pm_button" value=EUR>EUR</button> <button class="currencySelector-button pm_button" value=USD>USD</button> <button class="currencySelector-button pm_button" value=CHF>CHF</button> </div> ')}])}t.exports=n},CC6w:function(t,e){var a=window.angular,n="templates/autoresponder/autoresponderView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=autoresponderViewContainer id=pm_settings> <div class="settings autoresponderView"> <div class=row> <header-block class=autoresponderHeader> <h2 class=settingsVpn-title-resources translate translate-context=Title>Automatic Replies</h2> </header-block> <p ng-if=isFree class="alert alert-info" translate translate-context=Translate>Automatic replies is a paid feature. Please <a ui-sref="secured.dashboard({scroll: true})">upgrade</a> to a paid account to use this feature.</p> <autoresponder data-mock="{{ ::isFree }}"></autoresponder> </div> </div> </div> ')}])}t.exports=n},CCtG:function(t,e){var a=window.angular,n="templates/composer/editComposerContactGroupModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal editComposerContactGroupModal-container" role=dialog> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title> <i class="fa fa-users" ng-style=ctrl.getColor()></i> {{::ctrl.model.Name}} <span>({{::ctrl.memberNumber}})</span></h4> </div> <div class=modal-body> <ul class=editComposerContactGroupModal-list> <li class=editComposerContactGroupModal-item ng-repeat="email in ctrl.group track by email.ID"> <label class=editComposerContactGroupModal-label> <custom-checkbox class=editComposerContactGroupModal-input data-custom-ng-model=email.isSelected></custom-checkbox> <strong class=editComposerContactGroupModal-name>{{ ::email | contact }}</strong> </label> <email-encryption-icon class=editComposerContactGroupModal-icon data-email=email data-message=ctrl.message></email-encryption-icon> </li> </ul> </div> </div> <footer class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.cancel() ng-disabled=ctrl.networkActivity translate-context=Action translate>Cancel</button> <button class="pm_button primary modal-footer-button" tabindex=1 ng-click=ctrl.submit() ng-disabled=ctrl.networkActivity translate-context=Action translate>Save</button> </footer> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"CQ/i":function(t,e){var a=window.angular,n="templates/payment/bitcoinView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=bitcoinView-container> <figure class=bitcoinView-content ng-if=isBitcoin> <bitcoin-qrcode class=bitcoinView-qrcode></bitcoin-qrcode> <figcaption class=bitcoinView-legend> <bitcoin-details class=bitcoinView-address></bitcoin-details> </figcaption> </figure> <p class="alert alert-danger bitcoinView-error" ng-if=isBitcoinError> <span translate translate-context="bitcoin error request">Error connecting to the Bitcoin API.</span> <button type=button translate translate-context="Try to reload bitcoin qrcode" class=bitcoinView-btn-reload>Try again.</button> </p> <p class="alert alert-danger bitcoinView-error" ng-if=hasValidationsError> <span translate translate-context="Bitcoin validation error">Amount below minimum. ({{ ::validator.amountMin / 100 }} {{::currency}})</span> </p> <div class="bitcoinView-about alert alert-info"> <p class=bitcoinView-message translate translate-context="Bitcoin notice">After making your Bitcoin payment, please follow <a href=https://protonmail.com/support/knowledge-base/paying-with-bitcoin target=_blank>the instructions here</a> to upgrade</p> </div> <div class="bitcoinView-about-invoice alert alert-info"> <p class=bitcoinView-message translate-context="Bitcoin notice" translate>Bitcoin transactions can take some time to be confirmed (up to 24 hours). Once confirmed, we will add credits to your account. After transaction confirmation, you can pay your invoice with the credits.</p> </div> </div> ')}])}t.exports=n},CcJv:function(t,e){var a=window.angular,n="templates/contact/contactViewDetail.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class=contactViewDetail-container> <contact-action-header class=contactViewDetail-header data-mode=mode data-contact=contact></contact-action-header> <div class=contactViewDetail-content> <div class=contactViewDetail-group data-type=clear> <i ng-if=isSigned class="fa fa-check contactViewDetail-signed-icon" pt-tooltip-translate="Digital signature verified" pt-tooltip-translate-context=Tooltip></i> <contact-error></contact-error> <ul class=contactViewDetail-list ng-repeat="(type, value) in model.clear track by type"> <contact-view-item data-type={{::type}} ng-class="{\'contactViewDetail-item-start\': !$index}" ng-repeat="info in ::value track by $id(info)" class=contactViewDetail-item></contact-view-item> </ul> </div> <div class=contactViewDetail-group ng-class="{\'contactViewDetail-isFree\': isFree}" ng-if=model.hasEncrypted data-type=encrypted> <img src=/assets/img/lock-signed.png width=20 alt="" class="contactViewDetail-signed-icon on-ie11-only" pt-tooltip-translate="Encrypted data with verified digital signature" pt-tooltip-translate-context=Tooltip /> <svg viewBox="0 0 374.8 337.1" class="contactViewDetail-signed-icon not-on-ie11" pt-tooltip-translate="Encrypted data with verified digital signature" pt-tooltip-translate-context=Tooltip> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-lock-signed></use> </svg> <div ng-if=isFree class=contactDetails-fields-locked> <div class=contactDetails-fields-locked-notice> <p><a class="pm_button primary" ui-sref="secured.dashboard({ scroll: true })" translate translate-context=Action>Upgrade now</a></p> <p translate translate-context=Info>This feature is only available for paid users.</p> </div> </div> <contact-error></contact-error> <ul class=contactViewDetail-list ng-repeat="properties in model.encrypted track by $id(properties)"> <contact-view-item ng-class="{\'contactViewDetail-item-start\': !$index}" ng-repeat="info in ::properties track by $id(info)" class=contactViewDetail-item></contact-view-item> </ul> </div> </div> </section> ')}])}t.exports=n},CcfW:function(t,e){var a=window.angular,n="templates/modals/customizeInvoice.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <form name=customizeInvoiceModalForm novalidate class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class="modal-content pm_form"> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Add invoice details</h4> <p class="alert alert-info" translate translate-context=Info>Add your name (or company name) and address to your invoices.</p> </div> <div class=modal-body> <label for=customText translate translate-context=Title>Customize invoices</label> <div class=ng-messages-wrapper> <textarea ng-model=ctrl.text name=customText rows=5 data-is-valid-invoice-text id=customText placeholder-translate="Add your name (or company name) and address to your invoices." placeholder-translate-context=Info></textarea> <div ng-messages=customizeInvoiceModalForm.$error> <p class=text-red ng-message=isValidInvoiceText translate-context=Error translate>Invoice text has too many lines (limit: 5)</p> <p class=text-red ng-message=isValidInvoiceTextLine translate-context=Error translate>A line contains too many characters (limit: 40)</p> </div> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=button class="pm_button primary modal-footer-button" ng-click=ctrl.submit() translate translate-context=Action>Submit</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"D+O1":function(t,e){var a=window.angular,n="templates/message/filterButton.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=pm_buttons> <a href=# class="pm_trigger open-label" pt-tooltip-translate="Custom Filter" pt-tooltip-translate-context=Action pt-tooltip-translate-comment=Tooltip dropdown dropdown-no-auto-close=true> <small><i class="fa fa-filter"></i> <i class="fa fa-angle-down"></i></small> <span class=sr-only translate-context=Action translate>Custom Filter</span> </a> <div class="pm_dropdown wide"> <ul class=filterButton-container> <li><b translate-context="Filter message" translate>Filter on:</b></li> <li class=filterButton-item> <label class=filterButton-label> <span class=filterButton-label-text translate-context="Filter message" translate>Subject</span> <custom-checkbox class=filterButton-checkbox data-custom-ng-model=model.subject></custom-checkbox> </label> </li> <li class=filterButton-item> <label class=filterButton-label> <span class=filterButton-label-text translate-context="Filter message" translate>Sender</span> <custom-checkbox class=filterButton-checkbox data-custom-ng-model=model.sender></custom-checkbox> </label> </li> <li class=filterButton-item> <label class=filterButton-label> <span class=filterButton-label-text translate-context="Filter message" translate>Recipient</span> <custom-checkbox class=filterButton-checkbox data-custom-ng-model=model.recipient></custom-checkbox> </label> </li> <li class=filterButton-item> <label class=filterButton-label><span class=filterButton-label-text translate-context="Filter message" translate>Attachments</span> <custom-checkbox class=filterButton-checkbox data-custom-ng-model=model.attachments></custom-checkbox> </label> </li> </ul> <footer class=filterButton-footer> <button class="pm_button primary filterButton-btn-next" translate-context="Filter message" translate>Next</button> </footer> </div> </div> ')}])}t.exports=n},D0hN:function(t,e){var a=window.angular,n="templates/settings/encryptionView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div> <div class="row pm_grid"> <section class="pm_form col-1-2"> <header-block> <h2 class=encryption-pgp-title translate translate-comment="PGP heading" translate-context=Title>External PGP Settings (optional)</h2> </header-block> <p class="alert alert-info"> <span translate translate-context="settings warning">Only change these settings if you are using PGP with non-ProtonMail recipients.</span> <a href=https://protonmail.com/support/knowledge-base/how-to-use-pgp target=_blank translate-context=Link translate>Learn More</a> </p> <div class=pm_grid> <div class=row> <div class=col-1-2> <label for=encryptSettingsSign> <span translate-context=Label translate>Sign external messages</span> <a href=https://protonmail.com/support/knowledge-base/what-is-a-digital-signature/ target=_blank class=text-purple> <i class="fa fa-info-circle" pt-tooltip-translate="Automatically sign all your outgoing messages so users can verify the authenticity of your messages. This is done in combination with the Default PGP Scheme that is selected down below." pt-tooltip-translate-context="Tooltip sign external messages"></i> </a> </label> </div> <div class=col-1-2> <toggle data-status=sign name=encryptSettings data-id=encryptSettingsSign data-type=sign></toggle> </div> </div><div class=row> <div class=col-1-2> <label for=encryptSettingsAttachPublic> <span translate-context=Label translate>Automatically attach public key</span> <a href=https://protonmail.com/support/knowledge-base/how-to-use-pgp target=_blank class=text-purple> <i class="fa fa-info-circle" pt-tooltip-translate="This automatically adds your public key to each message you send. Recipients can use this to verify the authenticity of your messages and send encrypted messages to you." pt-tooltip-translate-context="Tooltip automatically attach public key"></i> </a> </label> </div> <div class=col-1-2> <toggle data-status=attachPublic name=encryptSettings data-id=encryptSettingsAttachPublic data-type=attachPublic></toggle> </div> </div> <div class=row> <div class=col-1-2> <label for=pgpScheme> <span translate-context=Label translate>Default PGP Scheme</span> <a href=https://protonmail.com/support/knowledge-base/pgp-mime-pgp-inline/ target=_blank class=text-purple> <i class="fa fa-info-circle" pt-tooltip-translate="Select the default PGP scheme to be used when signing or encrypting to a user. Note that PGP/Inline forces plain text messages. Click for more info." pt-tooltip-translate-context="Tooltip default pgp scheme"> </i> </a> </label> </div> <div class=col-1-2> <div class=pm_select> <i class="fa fa-angle-down"></i> <select class=pgp-scheme name=pgp-scheme id=pgpScheme ng-model=pgpscheme> <option value=pgp-mime>PGP/MIME</option> <option value=pgp-inline>Inline PGP</option> </select> </div> </div> </div> </div> </section> <section class="pm_form col-1-2"> <header-block> <h2 class=encryption-misc-title translate translate-context=Title>Address Verification (optional)</h2> </header-block> <p class="alert alert-info"> <span translate translate-context="settings warning">Address Verification is an advanced security feature. Only turn this on if you know what it does.</span> <a href=https://protonmail.com/support/knowledge-base/address-verification/ target=_blank translate-context=Link translate>Learn More</a> </p> <div class=pm_grid> <div class=row> <div class=col-1-2> <label for=encryptSettingsPromptpin> <span translate-context=Label translate>Prompt to trust keys</span> <a href=https://protonmail.com/support/knowledge-base/address-verification/ target=_blank class=text-purple> <i class="fa fa-info-circle" pt-tooltip-translate="When receiving an internal message from a sender that has no trusted keys in your contacts, show a banner asking if you want to enable trusted keys." pt-tooltip-translate-context="Tooltip prompt to trust keys"></i> </a> </label> </div> <div class=col-1-2> <toggle data-status=promptpin name=encryptSettings data-id=encryptSettingsPromptpin data-type=promptpin></toggle> </div> </div> </div> </section> </div> </div> ')}])}t.exports=n},DLcX:function(t,e){var a=window.angular,n="templates/contact/contactToolbar.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<nav class=contactsToolbar-container> <label class=contactsToolbar-selectAll> <custom-checkbox data-custom-ng-model=checkAll data-custom-ng-disabled=disabled data-custom-ng-change=selectAll()></custom-checkbox> </label> <button data-action=addContact class="pm_button primary" translate-context=Action translate-comment="contacts toolbar menu option" translate>Add</button> <button class="delete pm_button" type=button data-action=deleteSelectedContacts ng-disabled=noSelection translate-comment="contacts toolbar menu option" translate-context=Action translate>Delete</button> <button class="compose pm_button" type=button data-action=composeSelectedContacts ng-disabled=noSelection translate-context=Action translate-comment="contacts toolbar menu option" translate>Compose</button> <button class="merge pm_button" type=button data-action=mergeContacts ng-disabled="selectedLength <= 1" translate-context=Action translate-comment="contacts toolbar menu option" translate>Merge</button> <contact-groups-dropdown data-type=contact data-action=addToContact class="pm_button contactsToolbar-contactGroup" ng-disabled=noSelection></contact-groups-dropdown> <div class=contactsToolbar-right> <div class=pull-right> <paginator-scope data-type=contacts data-page=currentPage data-total-items=totalItems data-items-per-page=numPerPage data-change=selectPage> </paginator-scope> </div> </div> </nav> ')}])}t.exports=n},DVBb:function(t,e){var a=window.angular,n="templates/views/loginSub.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="loadingUnlock-loader-container pm_panel alt"> <atom-loader data-translation-key=decrypting></atom-loader> </div> ')}])}t.exports=n},Dx2r:function(t,e){var a=window.angular,n="templates/user/addressesSection.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=addressesSection-container> <p class="alert alert-info" ng-show=isFree translate-context=Info translate>Add additional email addresses to your account such as username2@protonmail.com. To enable this feature, <a ui-sref="secured.dashboard({scroll: true})">upgrade to ProtonMail Plus</a>.</p> <label class=settingsSignatures-label-active ng-hide=isFree> <div class=settingsSignatures-label-aside> <section class=settingsSignatures-header-aside ng-show=isAdmin> <span translate translate-context="info link to Addresses/Users in Signatures page">New Addresses can be added on</span> <a ui-sref="secured.members({ action: \'scroll\' })" class=text-purple>Addresses/Users</a> </section> <section class=help-dnd ng-if="activeAddresses.length > 1" translate-context=Help translate>You can drag and drop active addresses to order them. The top address is the default address.</section> </div> </label> <div class=activeAddresses-container> <ul class=pm_sort-container data-as-sortable=aliasDragControlListeners data-is-disabled="activeAddresses.length === 1" ng-class="{ \'as-sortable-disabled\': activeAddresses.length === 1 }" data-ng-model=activeAddresses> <li class=pm_sort-item ng-repeat="address in activeAddresses track by address.ID" data-as-sortable-item ng-class="{\'unsortable\': true}"> <div class=pm_sort-item-content as-sortable-item-handle=""> <div class=activeAddresses-email> <span class=ellipsis>{{ address.Email }}</span> </div> <div class=activeAddresses-badge> <span class="pm_badge primary" ng-show=$first translate-context=Info translate>Default</span> </div> </div> </li> </ul> </div> </div> ')}])}t.exports=n},E0jj:function(t,e){var a=window.angular,n="templates/vpn/openVpnSection.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class="openVpnSection-container pm_form col-1-2"> <header-block class=openVpnSection-header-about> <h2 class=openVpnSection-title-about translate translate-context=Title>OpenVPN/IKEv2</h2> </header-block> <p class="alert alert-info"> <span translate-context=Info translate>Use the following credentials when connecting to ProtonVPN with third party clients, for example: Tunnelblick on MacOS or OpenVPN on GNU/Linux.</span> <br/><br/> <a href=https://protonvpn.com/support/vpn-login/ target=_blank translate-context=Link translate>What is the difference between ProtonVPN and OpenVPN logins?</a> </p> <div class=clearfix> <div class=col-1-3> <label> <span translate-context=Label translate>Login</span> </label> </div> <div class="col-2-3 openVpnSection-flex"> <div> <code>{{ VPNName }}</code> <copy data-value=VPNName pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Copy login"></copy> </div> </div> </div> <div class=clearfix> <div class=col-1-3> <label> <span translate-context=Label translate>Password</span> </label> </div> <div class="col-2-3 openVpnSection-flex"> <div> <code class=openVpnSection-password>{{ VPNPassword }}</code> <code class=openVpnSection-hidden-password></code> <copy data-value=VPNPassword pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Copy password"></copy> </div> <div> <button type=button class="pm_button openVpnSection-show-button" data-action=togglePassword translate-context=Action translate>Show</button> <button type=button class="pm_button openVpnSection-hide-button" data-action=togglePassword translate-context=Action translate>Hide</button> </div> </div> </div> <div class=clearfix> <div> <button data-action=resetSettings type=button class=pm_button translate-context=Action translate>Reset credentials</button> </div> </div> </section> ')}])}t.exports=n},E7tl:function(t,e){var a=window.angular,n="templates/contact/contactDetails.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<form class=contactDetails-container name=contactForm novalidate> <contact-action-header class=contactDetails-header data-mode=mode data-form=contactForm data-contact=contact></contact-action-header> <div class=contactDetails-details> <contact-clear class=contactDetails-clear></contact-clear> <contact-encrypted class=contactDetails-encrypted></contact-encrypted> </div> </form> ")}])}t.exports=n},ECQK:function(t,e){var a=window.angular,n="templates/utils/printMessage.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=printMessage-container> <h1 class=printMessage-subject-title>{{ ::model.subject }}</h1> <hr> <p> <span>{{ ::model.title }}</span> <i ng-repeat="iconClass in model.icons" ng-class=iconClass class=fa></i> <b>{{ ::model.time }}</b> </p> <p> <span translate-comment="printed message info" translate translate-context=Title>From</span>: <b>{{ ::model.sender }}</b> </p> <p ng-if=model.to> <span translate-comment="printed message info" translate translate-context=Title>To</span>: <b>{{ ::model.to }}</b> </p> <p ng-if=model.cc> <span translate-comment="printed message info" translate translate-context=Title>CC</span>: <b>{{ ::model.cc }}</b> </p> <p ng-if=model.bcc> <span translate-comment="printed message info" translate translate-context=Title>BCC</span>: <b>{{ ::model.bcc }}</b> </p> <hr> <div class=printMessage-content></div> <list-attachments data-model=config.message></list-attachments> </div> ')}])}t.exports=n},ETDH:function(t,e){var a=window.angular,n="templates/autoresponder/durationselect.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<select id=select-duration name=selectDuration ng-options="option.label for option in frequencies track by option.value" ng-model=repeat> </select> ')}])}t.exports=n},Ekxg:function(t,e){var a=window.angular,n="templates/modals/changeOrganizationPassword.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <form method=post ng-submit="passwordForm.$valid && ctrl.submit()" novalidate="" name=passwordForm> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Change Organization Password</h4> </div> <div class="modal-body pm_form"> <p class="alert alert-info" translate-context=Info translate>Other administrators exist in your organization, you are responsible for communicating the new password to them.</p> <label for=newPassword translate-context=Label translate>New Organization Password</label> <password data-id=newPassword data-name=newPassword data-value=ctrl.newPassword form=passwordForm></password> <label for=confirmPassword translate-context=Label translate>Confirm Password</label> <password data-id=confirmPassword data-name=confirmPassword data-value=ctrl.confirmPassword compare=ctrl.newPassword form=passwordForm></password> <p class="alert alert-warning"> <span translate-context=Info translate>* Do NOT forget this password. If you forget it, you will not be able to manage your organization.</span><br/> <span translate-context=Info translate>* Save your password somewhere safe. Click on <i class="fa fa-eye"></i> icon to confirm you that have typed your password correctly.</span> </p> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button disabled-if-network-activity" translate-context=Action translate>Save</button> </div> </form> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},F4Ji:function(t,e){var a=window.angular,n="templates/authentication/loginPasswordInput.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=loginPasswordInput> <label id=loginPasswordLabel for=loginPassword></label> <input type=password autofocus ng-model=loginPassword id=loginPassword name=loginPassword required/> <div ng-messages=form.loginPassword.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> </div> <div class=two-factor> <label for=twoFactorCode translate translate-context="Two-factor code field">Enter two-factor passcode:</label> <two-fa-field ng-model=twoFactorCode ng-required=twoFactorRequired autofocus id=twoFactorCode name=twoFactorCode placeholder-translate="Two-factor passcode" placeholder-translate-context="Two-factor code field"></two-fa-field> <div ng-messages=form.twoFactorCode.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> <p ng-message=minlength translate-context=Error translate>The code must contain at least 6 characters</p> <p ng-message=maxlength translate-context=Error translate>The code is too long, max 8 characters</p> </div> </div> </div> ')}])}t.exports=n},FBB8:function(t,e){var a=window.angular,n="templates/ui/monthdayTimePicker.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_grid no-padding no-margin datetimepicker"> <div class=col-4-8> <div class=pm_select> <select class="day-selector always-show-ng-invalid" ng-model=model.day ng-options="day.label for day in availableDays track by day.value" ng-disabled=disableInput name={{::datePickerKey}} required> <option value="" disabled=disabled translate-context=Title translate>Day of the month</option> </select> <i class="fa fa-angle-down"></i> </div> </div> <div class="col-4-8 timepicker-container"> <time-picker class=timepicker ng-model=model.time data-event-key="{{ ::timePickerKey }}"></time-picker> </div> <div class="col-1-1 text-red" ng-messages=combineErrors()> <p ng-message=time_required translate-context="Error input" translate>Please enter a valid time.</p> <p ng-message=date_required translate-context="Error input" translate>Please enter a valid day in the month.</p> <p ng-message=both_required translate-context="Error input" translate>Please enter a valid day in the month and time.</p> </div> </div> ')}])}t.exports=n},FOXv:function(t,e){var a=window.angular,n="templates/directives/ui/requestTimeout.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=request-timeout> <i class="fa fa-exclamation-triangle request-timeout-icon" aria-hidden=true></i> <h3 class=request-timeout-title translate translate-context=Title>Request timed out, please try again.</h3> <button class="pm_button request-timeout-button-refresh"> <div> <span translate translate-context=Action>Try again</span> </div> </button> </div> ')}])}t.exports=n},FPTb:function(t,e){var a=window.angular,n="templates/message/messageAutoGenerated.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=message-autogenerated-container> <div class=message-autogenerated-notice> <div class=message-autogenerated-notice-text translate-context=Info translate>This message is automatically generated as a response to a previous message.</div> <a class=message-autogenerated-notice-link href=https://protonmail.com/support/knowledge-base/autoresponder/ target=_blank translate-context=Info translate>Learn more</a> </div> </div> ")}])}t.exports=n},FkcE:function(t,e){var a=window.angular,n="templates/vpn/vpnRessources.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<ul class=vpn-ressourcesSection-clients-list> <li class=vpn-ressourcesSection-clients-item> <a class="vpn-ressourcesSection-clients-item-container plateform-windows" href=https://protonvpn.com/download/ target=_blank> <i class="vpn-ressourcesSection-clients-item-icon fa fa-windows"></i> <div class=vpn-ressourcesSection-clients-item-text> <strong>Windows</strong> </div> <div class=vpn-ressourcesSection-clients-item-download translate-context=Action translate>Download</div> </a> </li> <li class=vpn-ressourcesSection-clients-item> <a class="vpn-ressourcesSection-clients-item-container plateform-apple" href=https://protonvpn.com/download/ProtonVPN.dmg target=_blank> <i class="vpn-ressourcesSection-clients-item-icon fa fa-apple"></i> <div class=vpn-ressourcesSection-clients-item-text><strong>Mac</strong></div> <div class=vpn-ressourcesSection-clients-item-download translate-context=Action translate>Download</div> </a> </li> <li class=vpn-ressourcesSection-clients-item> <a class="vpn-ressourcesSection-clients-item-container plateform-linux" href=https://protonvpn.com/support/linux-vpn-setup/ target=_blank> <i class="vpn-ressourcesSection-clients-item-icon fa fa-linux"></i> <div class=vpn-ressourcesSection-clients-item-text><strong>GNU/Linux</strong></div> <div class=vpn-ressourcesSection-clients-item-download translate-context=Action translate>Download</div> </a> </li> <li class=vpn-ressourcesSection-clients-item> <a class="vpn-ressourcesSection-clients-item-container plateform-ios" href="https://itunes.apple.com/app/protonvpn-fast-secure-vpn/id1437005085?mt=8" target=_blank> <i class="vpn-ressourcesSection-clients-item-icon fa fa-apple"></i> <div class=vpn-ressourcesSection-clients-item-text><strong>iOS</strong></div> <div class=vpn-ressourcesSection-clients-item-download translate-context=Action translate>Download</div> </a> </li> <li class=vpn-ressourcesSection-clients-item> <a class="vpn-ressourcesSection-clients-item-container plateform-android" href="https://play.google.com/store/apps/details?id=ch.protonvpn.android" target=_blank> <i class="vpn-ressourcesSection-clients-item-icon fa fa-android"></i> <div class=vpn-ressourcesSection-clients-item-text><strong>Android</strong></div> <div class=vpn-ressourcesSection-clients-item-download translate-context=Action translate>Download</div> </a> </li> </ul> ')}])}t.exports=n},"G/Hd":function(t,e){var a=window.angular,n="templates/autoresponder/subjectPrefix.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<input id=subject-prefix name=subject-prefix type=text placeholder-translate-context=Placeholder placeholder-translate=auto maxlength=30> ")}])}t.exports=n},G7xT:function(t,e){var a=window.angular,n="templates/ui/toolbarMobile.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<nav class="toolbarMobile-container pm_toolbar"> <span class="pm_buttons back" ng-if="idDefined() && (viewLayout === 1 || mobileMode)"> <a ng-click=back()> <i class="fa fa-long-arrow-left"></i> </a> </span> <span class=pm_buttons ng-class="{ disabled: isDisabled()}"> <a href=# tabindex=0 role=button class=pm_trigger dropdown ng-disabled=isDisabled()> <em><i class="fa fa-eye-slash"></i> <i class="fa fa-angle-down"></i></em> <span class=sr-only translate-context=Action translate>Mark as read/unread</span> </a> <span class="pm_dropdown wide"> <a ng-click=unread()> <i class="fa fa-eye-slash"></i> <span translate translate-context=Action>Mark as unread</span> </a> <a ng-click=read()> <i class="fa fa-eye"></i> <span translate translate-context=Action>Mark as read</span> </a> </span> </span> <span class=pm_buttons ng-class="{ disabled: isDisabled() }"> <button class=pm_trigger dropdown ng-disabled=isDisabled()> <em><i class="fa fa-trash-o"></i> <i class="fa fa-angle-down"></i></em> <span class=sr-only translate-context=Action translate>Move to</span> </button> <span class="pm_dropdown wide"> <button ng-click="move(\'trash\')" ng-hide="{{ \'secured.trash.**\' | includedByState }}" ng-class="{ disabled: numberElementSelected === 0 }"> <i class="fa fa-trash-o"></i> <span translate translate-context=Action>Move to trash</span> </button> <button ng-click="move(\'inbox\')" ng-hide="{{ (\'secured.inbox.**\' | includedByState) || (\'secured.spam.**\' | includedByState) }}" ng-class="{ disabled: numberElementSelected === 0 }"> <i class="fa fa-inbox"></i> <span translate translate-context=Action>Move to inbox</span> </button> <button ng-click="move(\'archive\')" ng-hide="{{ \'secured.archive.**\' | includedByState }}" ng-class="{ disabled: isDisabled() }"> <i class="fa fa-archive"></i> <span translate translate-context=Action>Move to archive</span> </button> <button ng-click="move(\'spam\')" ng-hide="{{ \'secured.spam.**\' | includedByState }}" ng-class="{ disabled: isDisabled() }"> <i class="fa fa-ban"></i> <span translate translate-context=Action>Move to spam</span> </button> <button ng-click=delete() ng-show="(\'secured.trash.**\' | includedByState) || (\'secured.drafts.**\' | includedByState) || (\'secured.allmail.**\' | includedByState)" ng-class="{ disabled: isDisabled() }"> <i class="fa fa-times-circle-o"></i> <span translate translate-context=Action>Delete</span> </button> <button ng-click="move(\'inbox\')" ng-show="{{ \'secured.spam.**\' | includedByState }}" ng-class="{ disabled: isDisabled() }"> <i class="fa fa-check"></i> <span translate translate-context=Action>Not spam</span> </button> </span> </span> <span class=pm_buttons> <span class=pm_buttons ng-class="{ disabled: isDisabled() }"> <button class="pm_trigger open-folder toolbarMobile-btn-select-folder" data-dropdown data-dropdown-no-auto-close=true ng-class="{ disabled: isDisabled() }"> <i class="fa fa-folder"></i> <i class="fa fa-angle-down"></i> <span class=sr-only translate-context="Action toolbar" translate>Move to</span> </button> <span class="pm_dropdown wide right"> <dropdown-folders data-elements=getElements></dropdown-folders> </span> </span> <span class=pm_buttons ng-class="{ disabled: isDisabled() }"> <button class="pm_trigger open-label" data-dropdown data-dropdown-no-auto-close=true ng-class="{ disabled: isDisabled() }"> <i class="fa fa-tag"></i> <i class="fa fa-angle-down"></i> <span class=sr-only translate-context="Action toolbar" translate>Label as</span> </button> <span class="pm_dropdown wide right"> <dropdown-labels messages=getElements save=saveLabels></dropdown-labels> </span> </span> </span> <div class=pull-right> <nav-elements></nav-elements> <paginator ng-if=!idDefined()></paginator> </div> </nav> ')}])}t.exports=n},GFSM:function(t,e){var a=window.angular,n="templates/squire/colorPopover.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="colorPopover-container pm_form" data-squire-popover> <header class=colorPopover-header> <h3 class=colorPopover-title translate-context=Title translate>Text color</h3> <h3 class=colorPopover-title-highlight translate-context=Title translate>Background color</h3> </header> <div class=colorPopover-panel> <div class=colorPopover-select> <color-list class=colorPopover-choice data-hash={{::message.ID}}></color-list> </div> </div> </div> ')}])}t.exports=n},GI6n:function(t,e){var a=window.angular,n="templates/contact/contactPhotoRow.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactPhotoRow-container> <img class=contactPhotoRow-image alt=Photo ng-src="{{ uri }}" data-action=edit> <i class="fa fa-ban fa-3x contactPhotoRow-icon" pt-tooltip-translate="Image blocked" pt-tooltip-translate-context="Contact photo icon"></i> <nav class=contactPhotoRow-nav> <button class="contactPhotoRow-button-load pm_button" data-action=load type=button pt-tooltip-translate="Load remote image" pt-tooltip-translate-context="Contact photo action" translate-context=Action translate>Load</button> <button class="contactPhotoRow-button-edit pm_button" data-action=edit type=button pt-tooltip-translate="Edit image" pt-tooltip-translate-context="Contact photo action" translate-context=Action translate>Edit</button> <button class="contactPhotoRow-button-clear pm_button" data-action=clear type=button pt-tooltip-translate="Clear image" pt-tooltip-translate-context="Contact photo action" translate-context=Action translate>Clear</button> </nav> </div> ')}])}t.exports=n},GU1j:function(t,e){var a=window.angular,n="templates/partials/composer.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<form name=composeForm id=pm_composer composer-container novalidate> <composer id=\"uid{{ ::message.uid}}\" ng-repeat=\"message in messages track by message.uid\" ng-if=message.ID ng-init=\"params = {}\" ng-style=\"{'z-index': message.zIndex}\" data-index={{$index}} ng-class=\"{\n            'minimized': message.minimized,\n            'blur': message.ID !== selected.ID,\n            'maximized': message.maximized,\n            'normalized': !message.maximized && !message.minimized,\n            'expandRecipients': message.ccbcc === true,\n            'hasAttachment': (message.Attachments.length > 0),\n            'attachmentsOpen': ((message.attachmentsToggle === true) && (message.Attachments.length > 0)),\n            'moreAttachments': ((message.attachmentsToggle === true) && (message.Attachments.length > 2)),\n            'tall': (message.Attachments.length === 0),\n            'mini': mini === true,\n            'small': small === true,\n            'publicKeyAttached': message.isAttachPublicKey(),\n            'signed': message.isSign(),\n            'readReceiptRequested': message.isRequestReadReceipt()\n        }\"></composer> </form> ")}])}t.exports=n},GXeG:function(t,e){var a=window.angular,n="templates/elements/moveElement.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_buttons moveElement-container"> <button type=button class="pm_buttons-child fa fa-trash-o toolbar-btn-trash moveElement-btn-trash" pt-tooltip-translate="Move to trash" data-action=trash pt-tooltip-translate-context=Action> <span class=sr-only translate-context=Action translate>Move to trash</span> </button> <button type=button class="pm_buttons-child fa fa-inbox toolbar-btn-inbox moveElement-btn-inbox" pt-tooltip-translate="Move to inbox" data-action=inbox pt-tooltip-translate-context=Action> <span class=sr-only translate-context=Action translate>Move to inbox</span> </button> <button type=button class="pm_buttons-child fa fa-archive toolbar-btn-archive moveElement-btn-archive" pt-tooltip-translate="Move to archive" data-action=archive pt-tooltip-translate-context=Action> <span class=sr-only translate-context=Action translate>Move to archive</span> </button> <button type=button class="pm_buttons-child fa fa-ban toolbar-btn-spam moveElement-btn-spam" pt-tooltip-translate="Move to spam" data-action=spam pt-tooltip-translate-context=Action> <span class=sr-only translate-context=Action translate>Move to spam</span> </button> <button type=button class="pm_buttons-child fa fa-times-circle-o toolbar-btn-delete moveElement-btn-delete" pt-tooltip-translate=Delete data-action=delete pt-tooltip-translate-context=Action> <span class=sr-only translate-context=Action translate>Delete</span> </button> </div> ')}])}t.exports=n},"GY+i":function(t,e){var a=window.angular,n="templates/authentication/loginTwoFactorForm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form method=post id=pm_loginTwoFactor name=twoFactorForm class="pm_panel alt pm_panel-twofactors pm_form loginFormTwoFa-container" novalidate role=form autocomplete=off> <img src=assets/img/logo.png height=20 alt=ProtonMail class=logo /> <h4 class="text-center margin-bottom"> <i class="fa fa-user title-icon"></i> <span translate-context=Title translate>Two-Factor Authentication</span> </h4> <div class=margin> <label for=twoFactorCode translate translate-context=Label>Two-factor passcode</label> <two-fa-field ng-model=twoFactorCode autofocus id=twoFactorCode name=twoFactorCode placeholder-translate-context=Placeholder placeholder-translate="Two-factor passcode"></two-fa-field> </div> <div class=loginForm-actions> <div class=loginForm-actions-column> <button id=login_btn_2fa type=submit class="loginForm-actions-main pm_button primary primary-white pull-right disabled-if-network-activity" ng-disabled="twoFactorForm.$invalid || loading" translate-context=Action translate>Login</button> <a class="pm_button link pull-left" data-action=help translate-context=Action translate-comment="link for login help" translate>Need help?</a> </div> </div> </form> ')}])}t.exports=n},GZVi:function(t,e){var a=window.angular,n="templates/elements/ptStar.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=starButton ng-class="isStarred() ? \'starButton-starred\' : \'\'"> <a pt-tooltip-translate=Unstar pt-tooltip-translate-context="Toggle Star message/conversation" class="starButton-unstar fa fa-star"></a> <a pt-tooltip-translate=Star pt-tooltip-translate-context="Toggle Star message/conversation" class="starButton-star fa fa-star-o"></a> </div> ')}])}t.exports=n},GbEV:function(t,e){var a=window.angular,n="templates/partials/sidebar-responsive.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class="pm_opensans sidebar sidebarApp-container"> <sidebar-mobile-header class=sidebarApp-about-app></sidebar-mobile-header> <ul class="menu sidebarApp-menu"> <navigation-item class=sidebarApp-item data-key={{::state}} ng-repeat="state in listStates track by $id(state)"></navigation-item> <li class=sidebarApp-divider></li> <li class=sidebarApp-item ng-class="{ active: (\'secured.contacts.**\' | includedByState) }"> <a title=Contacts ui-sref=secured.contacts class=sidebarApp-link> <i class="fa fa-users sidebarApp-icon"></i> <span translate-context=Title translate-comment="Folder name" translate>Contacts</span> </a> </li> <li class=sidebarApp-item ng-class="{ active: (\'secured.dashboard.**\' | includedByState) }" ng-if=isFree> <a title=Upgrade ui-sref="secured.dashboard({scroll: true})" class=sidebarApp-link> <i class="fa fa-arrow-up sidebarApp-icon"></i> <span translate-context=Title translate-comment="Folder name" translate>Upgrade</span> </a> </li> <li class=sidebarApp-item ng-class="{ active: (\'secured.account.**\' | includedByState) }"> <a title=Settings ui-sref=secured.account class=sidebarApp-link> <i class="fa fa-cogs sidebarApp-icon"></i> <span translate-context=Title translate-comment="Folder name" translate>Settings</span> </a> </li> <li class=sidebarApp-item> <a target=_blank href=https://shop.protonmail.com class=sidebarApp-link> <i class="fa fa-shopping-cart sidebarApp-icon"></i> <span translate translate-context=Action>ProtonMail Shop</span> </a> </li> <li class=sidebarApp-item> <new-bug-report ng-click=hideMobileSidebar(); class="sidebarApp-link sidebarApp-link-report"></new-bug-report> </li> <li class=sidebarApp-item> <a ui-sref=login class=sidebarApp-link> <i class="fa fa-power-off sidebarApp-icon"></i> <span translate-context=Action translate>Log out</span> </a> </li> <li class=sidebarApp-divider></li> </ul> <menu-label class="sidebarApp-menu sidebarResponsive-menu-label"></menu-label> </section> ')}])}t.exports=n},GnPB:function(t,e){var a=window.angular,n="templates/ui/customCheckbox.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="customCheckbox-container customMaskInput-container"> <input id=customCheckbox type=checkbox class="customCheckbox-input customMaskInput-input-checkbox mousetrap"> <label for=customCheckbox class="customCheckbox-mask customMaskInput-mask"></label> </div> ')}])}t.exports=n},"Gxd/":function(t,e){var a=window.angular,n="templates/formUtils/password.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=password-container> <input type=password class=password-input ng-model=value autocapitalize=off autocorrect=off autocomplete=off required data-toggle-password> <div class=password-messages ng-messages=message> <p ng-message=required class=text-red translate-context=Error translate>Field required</p> <p ng-message=compareTo class=text-red translate-context=Error translate>Passwords do not match</p> </div> </div> ")}])}t.exports=n},H0Og:function(t,e){var a=window.angular,n="templates/contact/contactArrowsSort.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button class=contactArrowsSort-container aria-label=sort> <i class="contactArrowsSort-icon-desc fa fa-sort-desc"></i> <i class="contactArrowsSort-icon-asc fa fa-sort-asc"></i> </button> ')}])}t.exports=n},HcFT:function(t,e){var a=window.angular,n="templates/ui/header/headerSecuredDesktop.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=headerSecuredDesktop-container> <protonmail-logo class="headerSecuredDesktop-logo headerDesktop-logo"></protonmail-logo> <search-form ng-if="!(\'secured.contacts\' | includedByState)"></search-form> <search-contact ng-if="\'secured.contacts\' | includedByState"></search-contact> <navigation></navigation> </div> ')}])}t.exports=n},He9t:function(t,e){var a=window.angular,n="templates/command/autocompleteCommand.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=autocompleteCommand-container> <div class=autocomplete-container> <mark class=autocompleteCommand-scope>{{mode.value}}</mark> <input id=autocompleteCommand name=autocompleteCommand placeholder-translate-context=Placeholder placeholder-translate="Type a command" type=text ng-model=value autocomplete=off spellcheck=false autocapitalize=off class=autocompleteCommand-input> </div> <ul class=autocompleteEmails-autocomplete></ul> </div> ')}])}t.exports=n},HuKI:function(t,e){var a=window.angular,n="templates/ui/legends.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<ul class=legends> <li ng-repeat="legend in list"> <span class="legends-square margin-right {{ ::legend.classes }}"></span> <span ng-bind=::legend.label>already used</span> </li> </ul> ')}])}t.exports=n},"I+z7":function(t,e){var a=window.angular,n="templates/filter/filterView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class="settings settingsFilters-container"> <custom-filter-list></custom-filter-list> <spam-lists></spam-lists> </div> </div> ')}])}t.exports=n},I8SS:function(t,e){var a=window.angular,n="templates/ui/autocompleteEmails.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class=autocompleteEmails-container novalidate> <div class=autocompleteEmails-admin> <autocomplete-emails-item class=autocompleteEmails-item ng-class="{\n                \'autocompleteEmails-item-invalid\': email.invalid,\n                \'autocompleteEmails-item-warning\': email.warnings.length\n            }" ng-repeat="email in emails track by email.Address"></autocomplete-emails-item> <div class="autocompleteEmails-field autocomplete-container"> <input id=autocomplete name=autocomplete autofocus autocomplete=off spellcheck=false autocapitalize=off class="autocompleteEmails-input no-outline"> </div> </div> <ul class=autocompleteEmails-autocomplete></ul> </form> ')}])}t.exports=n},IBfZ:function(t,e){var a=window.angular,n="templates/layout/sidebar.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<settings-menu ng-if="settingsSidebar && !(mobileMode && !showSidebar)"></settings-menu> <sidebar-contact ng-if="contactSidebar && !(mobileMode && !showSidebar)"></sidebar-contact> <sidebar id=pm_sidebar ng-if="inboxSidebar && !mobileMode"></sidebar> <sidebar-mobile id=pm_sidebarMobile ng-if="showSidebar && mobileMode && inboxSidebar"></sidebar-mobile> ')}])}t.exports=n},IRs2:function(t,e){var a=window.angular,n="templates/modals/donate.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <div class="modal-dialog donateModal-container donateModal-type-{{::ctrl.typeOfModal}}" ng-class="{\n            \'donateModal-mode-cash\': ctrl.method.value === \'cash\',\n            \'donateModal-mode-paypal\': ctrl.method.value === \'paypal\',\n            \'donateModal-mode-bitcoin\': ctrl.method.value === \'bitcoin\'\n        }" name=donateForm> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class="modal-title donateModal-title-donate" translate translate-context=Title>Donate</h4> <h4 class="modal-title donateModal-title-topUp" translate translate-context=Title>Add credits</h4> </div> <div class="modal-body pm_form"> <donation data-type="{{ ::ctrl.typeOfModal }}" data-processing=ctrl.process data-method=ctrl.method></donation> </div> </div> <div class="modal-footer donateModal-group-btn"> <button type=button class="pm_button modal-footer-button donateModal-btn-cancel" ng-click=ctrl.close() translate translate-context=Action>Cancel</button> <button type=button class="pm_button modal-footer-button donateModal-btn-close" ng-click=ctrl.close() translate translate-context=Action>Close</button> <button data-donation-external-submit ng-disabled="ctrl.process === true" class="pm_button primary modal-footer-button donateModal-btn-donation"> <span class=donateModal-action-donate translate-context=Action translate>Donate</span> <span class=donateModal-action-topUp translate-context=Action translate>top Up</span> </button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},ItiI:function(t,e){var a=window.angular,n="templates/ui/header/headerSecured.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<header class="headerSecured-container headerDesktop-container"> <header-secured-desktop ng-if=!mobileMode></header-secured-desktop> <header-secured-mobile ng-if=mobileMode></header-secured-mobile> </header> ')}])}t.exports=n},J0VT:function(t,e){var a=window.angular,n="templates/partials/sidebar.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class="pm_opensans sidebar sidebarApp-container" data-pt-dropzone> <button class="compose pm_button sidebar-btn-compose" action-compose action-compose-type=new translate-context=Action translate translate-comment="compose button in sidebar">Compose</button> <ul class="menu sidebarApp-menu"> <navigation-item class=sidebarApp-item data-key={{::state}} ng-repeat="state in listStates track by $id(state)"></navigation-item> </ul> <ul class="menu sidebarApp-menu" id=labelSettings> <li class=sidebarApp-item> <a ui-sref=secured.labels class=sidebarApp-link> <i class="fa fa-cog sidebarApp-icon"></i> <span id=tour-label-settings class=sidebarApp-label translate-context=Action translate>Folders / Labels</span> </a> </li> </ul> <sidebar-labels></sidebar-labels> <div class=footer> <sidebar-progress class=wrap></sidebar-progress> <app-version class=version></app-version> </div> </section> ')}])}t.exports=n},JDTy:function(t,e){var a=window.angular,n="templates/address/selectAddressModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} small" role=dialog style=display:block> <form class=modal-dialog name=addressForm ng-submit=ctrl.submit() novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Select an address</h4> </div> <div class="modal-body pm_form"> <p class="alert alert-info">{{ ::ctrl.info }}</p> <span class=pm_select> <select ng-model=ctrl.model.address ng-options="address.email for address in ctrl.model.addresses track by address.addressID"></select> <i class="fa fa-angle-down"></i> </span> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button class="pm_button primary modal-footer-button" translate translate-context=Action>Next</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},JJx9:function(t,e){var a=window.angular,n="templates/filter/emailBlockList.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=emailBlockList-container> <header-block data-level=2 class=settingsLabels-header-blocklist> <h2 class="settingsLabels-title-blocklist margin-bottom email-block-list-name">{{::filterName}}</h2> <email-block-button data-target-list={{::listType}}></email-block-button> </header-block> <div> <p class="alert alert-info" translate translate-context=Info ng-show="entries.length === 0"></p> <ul class=emailBlockList-list ng-class="{ empty: entries.length === 0 }"> <li ng-repeat="entry in entries track by entry.ID" class=emailBlockList-row> <div class=emailBlocklist-row-value>{{ ::entry.Email }}</div> <div class=emailBlocklist-row-actions> <button data-entry-id="{{ ::entry.ID }}" class="pm_button link emailBlockList-btn-switch" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Move item to the other list"> <i class="fa fa-arrows-h"></i> </button> <button data-entry-id="{{ ::entry.ID }}" class="pm_button link emailBlockList-btn-delete" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Remove item from the list"> <i class="fa fa-times text-red"></i> </button> </div> </li> </ul> </div> </div> ')}])}t.exports=n},JTJO:function(t,e){var a=window.angular,n="templates/attachments/attendeeItem.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<span class=attendeeItem-container></span> ")}])}t.exports=n},JfhC:function(t,e){var a=window.angular,n="templates/ui/navigation/navigation.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<ul class=navigation> <navigation-black-friday></navigation-black-friday> <li class=navigation-upgrade-item ng-if=isFree> <a class=navigation-link ui-sref="secured.dashboard({scroll: true})"> <i class="navigation-icon fa fa-cubes"></i> <span class=navigation-title translate translate-context=Action>Upgrade</span> </a> </li> <li ng-class="{\'active\': activeSettings()}"> <a id=tour-settings class=navigation-link ui-sref=secured.account> <i class="navigation-icon fa fa-cogs"></i> <span class=navigation-title translate translate-context=Action>Settings</span> </a> </li> <li ui-sref-active=active> <a class=navigation-link ui-sref=secured.contacts> <i class="navigation-icon fa fa-address-book-o"></i> <span class=navigation-title translate translate-context=Action>Contacts</span> </a> </li> <navigation-report></navigation-report> <navigation-user></navigation-user> </ul> ')}])}t.exports=n},Jhbc:function(t,e){var a=window.angular,n="templates/message/message.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<article class=message ng-class="getClassNames(message, marked)"> <div class=summary data-toggle-message> <div class=summary-left> <div class=meta> <i class="history fa fa-reply" data-if-is=replied></i> <i class="history fa fa-reply-all" data-if-is=repliedall></i> <i class="history fa fa-mail-forward" data-if-is=forwarded></i> <div class="contact message-contact"> <div class="from message-contact-from"> <span translate translate-context="Message sender label" translate>From</span>: </div> <div class=from-value pt-tooltip="{{ message.Sender | contact:\'Name\' }} {{ message.Sender | contact:\'Address\' }}"> <strong>{{ message.Sender | contact:\'Name\' }}</strong> <em>{{ message.Sender | contact:\'Address\' }}</em> </div> <message-address-actions data-message-id=message.ID data-email=message.Sender ng-if=message.expand></message-address-actions> <encryption-status class=encryptionStatus></encryption-status> <message-address-action-menu></message-address-action-menu> </div> </div> <div class="location message-summary-folder sent"> <i ng-if=message.isDraft() class="pm_tag allMessageLabels-type-draft" translate-context="Message label" translate>Draft</i> <i ng-if=message.isSent() class="pm_tag allMessageLabels-type-sent" translate-context="Message label" translate>Sent</i> </div> </div> <div class=summary-right> <div class="labels message-summary-labels"> <labels-element data-button=remove data-element=message class=message-summary-labels-list></labels-element> </div> <div class="location message-summary-folder folders"> <folders-message></folders-message> </div> <div class=time> <i class="fa fa-paperclip" ng-show="message.NumAttachments > 0"></i> <time class=time-readable>{{ message.Time | localReadableTime }}</time> <time class=time-machine time-refreshed="{{ message.Time }}" time-filter=messageTime time-interval=30000></time> </div> <div class=status> <pt-star data-model=message class=singleStar data-pt-star-type=message></pt-star> </div> </div> </div> <div ng-if=message.expand> <div class=details> <div class=recipients-summary> <strong translate-context="Message recipient label" translate>To</strong>: <span class=recipients-summary-label ng-repeat="email in recipients() track by $id(email)" title="{{ ::email | contact:\'Address\' }}">{{::email | contact: \'Name\': true | nameRecipient}}</span> <span ng-if=::noRecipients() class=recipients-summary-label translate-context="No recipients to display in the message header" translate>Undisclosed Recipients</span> </div> <div class=recipients-details> <message-contacts class=recipients-details-toGroup ng-if=message.ToList.length data-model=toList data-list=To data-message-id=message.ID></message-contacts> <message-contacts class=recipients-details-ccGroup ng-if=message.CCList.length data-model=ccList data-list=CC data-message-id=message.ID></message-contacts> <message-contacts class=recipients-details-bccGroup ng-if=message.BCCList.length data-model=bccList data-list=BCC data-message-id=message.ID></message-contacts> <div class=recipients-details-size><span translate-context="Label for the message size when displaying email details" translate>Size:</span> {{ ::message.Size | bytes }}</div> <div class=encrypted-subject ng-if=message.encryptedSubject> <i class="fa fa-lock encrypted-subject-icon" pt-tooltip-translate="Subject is end-to-end encrypted" pt-tooltip-translate-context=Tooltip></i> <span translate translate-context=Title class=header-name>Subject</span> <span> {{ ::message.encryptedSubject }}</span> </div> </div> <all-message-labels ng-if=message.toggleDetails></all-message-labels> <div class=action-row> <div class="actions pull-right" ng-if="message.decrypting === false"> <div class=pm_buttons> <filter-button data-message=message></filter-button> <div class=pm_buttons> <a role=button class="pm_trigger open-folder pull-left" pt-tooltip-translate="Move to" pt-tooltip-translate-context=Action pt-tooltip-translate-comment=Tooltip dropdown data-dropdown-no-auto-close=true tabindex=0> <small><i class="fa fa-folder"></i> <i class="fa fa-angle-down"></i></small> <span class=sr-only translate-context=Action translate>Move to</span> </a> <div class="pm_dropdown right wide pull-left"> <dropdown-folders data-elements=getElements></dropdown-folders> </div> </div> <div class=pm_buttons> <a role=button class="pm_trigger open-label pull-left" pt-tooltip-translate="Label as" pt-tooltip-translate-context=Action pt-tooltip-translate-comment=Tooltip dropdown data-dropdown-no-auto-close=true tabindex=0> <small><i class="fa fa-tag"></i> <i class="fa fa-angle-down"></i></small> <span class=sr-only translate-context=Action translate>Label as</span> </a> <div class="pm_dropdown right wide pull-left"> <dropdown-labels data-messages=getMessage data-message=message data-save=saveLabels></dropdown-labels> </div> </div> </div> <nav class=pm_buttons> <a class=dropdown-actions-nowrap-reply data-action-compose=::message data-action-compose-type=reply pt-tooltip-translate=Reply pt-tooltip-translate-context=Action tabindex=0 role=button> <i class="fa fa-mail-reply"></i> <span class=sr-only translate-context=Action translate>Reply</span> </a> <a class=dropdown-actions-nowrap-replyall data-action-compose=::message data-action-compose-type=replyall pt-tooltip-translate="Reply all" pt-tooltip-translate-context=Action tabindex=0 role=button> <i class="fa fa-mail-reply-all"></i> <span class=sr-only translate-context=Action translate>Reply all</span> </a> <a class=dropdown-actions-nowrap-forward data-action-compose=::message data-action-compose-type=forward pt-tooltip-translate=Forward pt-tooltip-translate-context=Action tabindex=0 role=button> <i class="fa fa-mail-forward"></i> <span class=sr-only translate-context=Action translate>Forward</span> </a> <a role=button href=# class="pm_trigger dropdown-actions-nowrap-more" dropdown pt-tooltip-translate=More pt-tooltip-translate-context=Action> <i class="fa fa-angle-down"></i> <span class=sr-only translate-context=Action translate>More</span> </a> <div class="pm_dropdown wide dropdown-actions-nowrap right"> <button class=dropdown-actions-nowrap-button data-action-message=move data-action-message-type=inbox> <i class="fa fa-inbox dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate translate-context=Action>Move to inbox</span> </button> <button class=dropdown-actions-nowrap-button data-action-message=move data-action-message-type=trash> <i class="fa fa-trash-o dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate translate-context=Action>Move to trash</span> </button> <button class=dropdown-actions-nowrap-button data-action-message=unread> <i class="fa fa-eye-slash dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate translate-context=Action>Mark as unread</span> </button> <button class=dropdown-actions-nowrap-button data-action-message=move data-action-message-type=spam ng-hide="\'secured.spam.**\' | includedByState"> <i class="fa fa-ban dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate translate-context=Action>Mark as spam</span> </button> <phishing-btn ng-if=!message.failedDecryption></phishing-btn> <button class=dropdown-actions-nowrap-button data-action-message=delete ng-if="\'secured.trash.**\' | includedByState"> <i class="fa fa-times dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate translate-context=Action>Delete</span> </button> <button class=dropdown-actions-nowrap-button data-action-message=togglePlainHtml data-message-mode="{{ message.viewMode }}"> <span class=dropdown-actions-nowrap-button data-if-message-mode=html> <i class="fa fa-file-text-o dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate translate-context=Action>View source code</span> </span> <span class=dropdown-actions-nowrap-button data-if-message-mode=plain> <i class="fa fa-file-photo-o dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate translate-context=Action>View rendered HTML</span> </span> </button> <button class=dropdown-actions-nowrap-button data-action-message=viewPgp> <i class="fa fa-code dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate translate-context=Action>View headers</span> </button> <button class=dropdown-actions-nowrap-button data-action-message=downloadEml ng-if=!message.failedDecryption> <i class="fa fa-download dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate-context=Action translate>Export</span> </button> <button class=dropdown-actions-nowrap-button data-action-message=print> <i class="fa fa-print dropdown-actions-nowrap-icon"></i> <span class=dropdown-actions-nowrap-textContainer translate translate-context=Action>Print</span> </button> </div> </nav> </div> <button class=toggleDetails data-action-message=toggleDetails> <span class=toggleDetails-label-show translate translate-context=Action>Show details</span> <span class=toggleDetails-label-hide translate translate-context=Action>Hide details</span> </button> </div> <message-extra></message-extra> </div> <events-attachments data-model=message></events-attachments> <div class="frame message-frame" data-embedded-img-loader data-inject-message-media> <loader-tag ng-if="message.decrypting === true"></loader-tag> <div class="bodyDecrypted email message-body-container" ng-class="{\'plain\': message.isPlain}" render-message-body ng-if="message.viewMode === \'html\' && !message.failedDecryption" toggle-blockquote scroll=true></div> <pre class="email message-body-container" ng-if="message.viewMode === \'plain\' || message.failedDecryption">{{message.plainText()}}</pre> </div> <list-attachments ng-if=message.Attachments.length data-model=message></list-attachments> </div> <div class=clear></div> </article> ')}])}t.exports=n},JrvE:function(t,e){var a=window.angular,n="templates/user/usernameDomain.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=usernameDomain-container> <label class=titleLabel for=username translate-context=Title translate>Username and domain </label> <p class=help translate-context=Info translate>This will be your new ProtonMail email address.</p> <div class=usernameWrap> <signup-iframe data-mode=top></signup-iframe> </div> </div> ")}])}t.exports=n},JsPb:function(t,e){var a=window.angular,n="templates/pmMe/pmMeView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class=settings> <div class=row> <div class="setting pm_form full"> <header-block class=settingsLabels-header-pmMe> <h2 class=settingsLabels-title-pmMe>PM.ME</h2> </header-block> <div ng-if=!hasPmMe> <p class=alert translate-context=Info translate>ProtonMail now supports @pm.me email addresses (short for ProtonMail me or Private Message me).</p> <pm-me-btn class="pm_button primary"></pm-me-btn> <a class="pm_button link" href=https://protonmail.com/support/knowledge-base/pm-me-addresses/ target=_blank translate-context=Link translate>More info</a> <p class="alert alert-info" translate-context=Info translate>Paid users can add other @pm.me addresses from Settings  Addresses/Users.</p> </div> <div ng-if=hasPmMe> <p ng-show=hasPaidMail class=alert translate-context=Info translate>You can now also receive and send messages from your @pm.me address (short for ProtonMail me or Private Message me).</p> <p ng-hide=hasPaidMail class=alert> <span translate-context=Info translate>You can now also receive messages at your @pm.me address (short for ProtonMail me or Private Message me).</span> <b translate-context=Info translate>Upgrade to a paid account to also send emails from your @pm.me address.</b> </p> <p class="alert alert-success"> <b>{{ ::email }}</b> <span translate-context=Info translate>is activated on your account.</span> </p> <a ng-show=hasPaidMail class=pm_button ui-sref=secured.members translate-context=Link translate>Add another address</a> <a class="pm_button link" href=https://protonmail.com/support/knowledge-base/pm-me-addresses/ target=_blank translate-context=Link translate>More info</a> </div> </div> </div> </div> </div> ')}])}t.exports=n},Jsx3:function(t,e){var a=window.angular,n="templates/modals/domain/spf.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} domains" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <domains-menu-step></domains-menu-step> <span ng-show="ctrl.domain.SpfState === 0" class="pull-right pm_badge error" translate translate-comment="SPF status badge" translate-context="SPF configuration status badge">Not set</span> <span ng-show="ctrl.domain.SpfState === 1 || ctrl.domain.SpfState === 2" class="pull-right pm_badge error" translate translate-comment="SPF status badge" translate-context="MX configuration status badge">Not set properly</span> <span ng-show="ctrl.domain.SpfState === 3" class="pull-right pm_badge success" translate translate-context="MX configuration status badge" translate-comment="SPF status badge">Good</span> <h4 class=modal-title>5. <span translate translate-context=Title>SPF</span> <em translate-context="MX configuration status badge" translate>Recommended</em></h4> </div> <div class="modal-body pm_form"> <p translate translate-context=Info>SPF is used to specify who is allowed to send email for the domain so we strongly recommend including ProtonMail in your SPF record. Please add the following TXT record into your DNS. This can typically be done in the control panel of your domain name registrar.</p> <p translate translate-context=Info>Please add the following TXT record. Note, DNS records can take several hours to update.</p> <p><a target=_blank href=https://protonmail.com/support/knowledge-base/anti-spoofing/ translate translate-context=Action>Learn more</a></p> <div class=pm_table> <table class=record> <tr> <th scope=col style=width:3rem translate translate-context=Title>Type</th> <th scope=col style=width:6.5rem translate translate-context=Title>Host name</th> <th scope=col style=width:14rem translate translate-context=Title>Value / Data / Points to</th> </tr> <tr> <td><code>TXT</code></td> <td><code>@</code></td> <td><code>v=spf1 include:_spf.protonmail.ch mx ~all</code></td> </tr> </table> </div> <p class="alert alert-info" translate translate-context=Info>If you want to keep an existing SPF record, you can just add <code>include:_spf.protonmail.ch</code> to it after the <code>v=spf1</code>. Do not create multiple SPF records.</p> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.close() translate translate-context=Action>Close</button> <button class="pm_button primary modal-footer-button" ng-click=ctrl.next() translate translate-context=Action>Next</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},KD17:function(t,e){var a=window.angular,n="templates/authentication/modals/helpLoginModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{this.class}}" role=dialog style=display:block> <div class="modal-dialog modal-sm"> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h3 class=modal-title translate translate-context=Title>Help</h3> </div> <div class="modal-body text-center"> <p> <a class="pm_button primary" ui-sref=support.reset-password ng-click=ctrl.cancel() translate translate-context=Action>Reset password</a> </p> <p> <link-website class="pm_button primary" data-link=username></link-website> </p> <p> <a href=https://protonmail.com/support/knowledge-base/common-login-problems/ target=_blank class="pm_button primary" translate translate-context=Action>Common login problems</a> </p> <p> <a href=https://protonmail.com/support target=_blank class="pm_button primary" translate translate-context=Action>Email our support team</a> </p> </div> </div> <div class=modal-footer> <button type=button id=cancelModalBtn class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},KURL:function(t,e){var a=window.angular,n="templates/dashboard/vpnTotal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="vpnTotal-container pm_grid"> <div class=col-1-3> <label translate-context="Label attach to vpn total" translate>Total</label> </div> <div class="col-2-3 text-right"> <strong class=vpnTotal-amount></strong> </div> </div> ')}])}t.exports=n},KYAH:function(t,e){var a=window.angular,n="templates/dashboard/subscriptionSection.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<table class=subscriptionSection-table> <tbody class=subscriptionSection-tbody-plans> <tr> <td colspan=3> <strong translate-context="subscription title" translate>Plans</strong> </td> </tr> <tr ng-repeat="plan in subscription.Plans | filter: { Type: 1 } track by plan.ID" class=subscriptionSection-list> <td colspan=2 class=subscriptionSection-item-title>{{ plan.Title }}</td> <td class=subscriptionSection-item-price>{{ plan.Amount / 100 / plan.Cycle | currency: plan.Currency }}/mo</td> <td class=subscriptionSection-item-addons> <table class=subscriptionSection-addons> <tbody class=subscriptionSection-tbody-addons> <tr ng-repeat="(key, plan) in plan.addons track by plan.ID"> <td class=subscriptionSection-item-title>{{ plan.Title }}</td> <td class=subscriptionSection-item-price>{{ plan.Amount / 100 / plan.Cycle | currency: plan.Currency }}/mo</td> </tr> </tbody> </table> </td> </tr></tbody> <tbody class=subscriptionSection-tbody-billing> <tr ng-hide="subscription.CouponCode === \'LIFETIME\'"> <td> <strong translate-context="subscription details" translate>Billing cycle end</strong> </td> <td>{{ subscription.PeriodEnd | readableTime }}</td> </tr> <tr> <td> <strong translate-context="subscription price label" translate>Total price</strong> ({{ subscription.cycle }}) <span ng-if=subscription.CouponCode translate-context="subscription price label information" translate>(with coupon)</span> </td> <td>{{ (subscription.Amount || 0) / 100 | currency: subscription.Currency }} ({{ subscription.cycle }})</td> </tr> <tr> <td> <strong translate-context="subscription title" translate>Payment</strong> </td> <td> {{ method }} <a ui-sref=secured.payments class=text-purple translate-context="subscription link" translate>Manage</a> </td> </tr> </tbody> </table> ')}])}t.exports=n},KZ5K:function(t,e){var a=window.angular,n="templates/elements/labelsElement.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_labels labelsElement-container" data-format=stack> <div ng-repeat="label in labels track by label.ID" data-label-id="{{ ::label.ID }}" title="{{ ::label.Name }}" class=labelsElement-label ng-style=::color(label)> <span class=labelsElement-name>{{ ::label.Name }}</span> <button class="labelsElement-btn-remove fa fa-times" data-label-id={{::label.ID}}></button> </div> <div class="labelsElement-more labelsElement-hidden" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="More labels">&hellip;</div> </div> ')}])}t.exports=n},LPM9:function(t,e){var a=window.angular,n="templates/message/messageAddressActions.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button class=messageAddressActions-container type=button> <i class="messageAddressActions-icon fa fa-caret-down"></i> <i class="messageAddressActions-icon fa fa-caret-right"></i> </button> ')}])}t.exports=n},LcNq:function(t,e){var a=window.angular,n="templates/partials/conversation-list-columns.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=conversation-list-columns class=elementList-container-columns data-pt-select-multiple-elements> <sticky-messages></sticky-messages> <request-timeout></request-timeout> <no-results ng-if="conversations.length === 0 && elementsLoaded"></no-results> <section class=conversation-wrapper> <div ng-repeat="conversation in conversations track by conversation.ID" class=conversation data-elements-container data-pt-draggable-element ng-class="getClassNames(conversation, markedElement)"> <span class=expiration> <svg height=14 width=14 viewBox="0 0 14 14"> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-expiration></use> </svg> </span> <pt-select-element data-index="{{ $index }}"></pt-select-element> <div class=conversation-meta> <div class="row top"> <h4 class=subject ng-attr-title="{{ conversation.Subject | unescape }}"> <states-elements></states-elements> <folders-element data-conversation=conversation></folders-element> <span class=subject-num-message ng-if="conversation.NumMessages > 1">({{ conversation.NumMessages }})</span> <span class="subject-text ellipsis">{{ conversation.Subject | unescape }}</span> </h4> <span class=meta> <i class="fa fa-paperclip conversation-icon-attachment"></i> <pt-star data-model=conversation class=singleStar></pt-star> <time-element></time-element> </span> </div> <div class="row bottom"> <span class="senders ellipsis" ng-class="{ \'full\': !hasLabels(conversation) }"> <senders-name></senders-name> </span> <labels-element data-element=conversation></labels-element> </div> </div> </div> </section> <search-limit-reached ng-if="elementsLoaded && limitReached"></search-limit-reached> </div> ')}])}t.exports=n},"Ln+c":function(t,e,a){"use strict";a.d(e,"c",(function(){return l})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return c}));var n=a("J4zp"),o=a.n(n),r=["elgamal"],s=["ecdh","ecdsa","eddsa"],l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.toLowerCase().startsWith("rsa")},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.includes(t.toLowerCase())},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.algorithmName,a=void 0===e?"":e,n=t.bitSize,s=void 0===n?0:n,l=a.split("_"),c=o()(l,1),d=c[0];if(i(d)){var u="eddsa"===d?"ed25519":d;return"ECC (".concat(u,")")}var p=r.includes(d)?d.charAt(0).toUpperCase()+d.slice(1):d.toUpperCase();return"".concat(p," (").concat(s,")")}},LsJ6:function(t,e){var a=window.angular,n="templates/dashboard/vpnDiscountPanel.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<p class="vpnDiscountPanel-container alert"> <strong translate-context="Discount displayed in the dashboard" translate>Get 20% off when you get both ProtonMail and ProtonVPN</strong> <span translate-context="Discount displayed in the dashboard" translate>(discount shown at checkout)</span> </p> ')}])}t.exports=n},Lud0:function(t,e){var a=window.angular,n="templates/message/messageView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=messageView-contaniner> <header id=conversationHeader> <h1>{{message.Subject}}</h1> </header> <div id=pm_thread tabindex=0> <message ng-if=message data-model=message data-last=true data-index=0></message> </div> </div> ")}])}t.exports=n},LxFK:function(t,e){var a=window.angular,n="templates/partials/stickyMessages.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=stickyMessages-container> <storage-warning-view></storage-warning-view> </div> ")}])}t.exports=n},MDsB:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}));var n=function(t,e){try{return localStorage.getItem(t)}catch(a){return console.error(a),e}},o=function(t,e){try{localStorage.setItem(t,e)}catch(a){console.error(a)}}},MIlz:function(t,e,a){"use strict";var n=a("lSNA"),o=a.n(n),r=a("sSWQ");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}e.a=function(t,e){return new r.a(t,function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({container:"body",placement:"top",trigger:"hover",popperOptions:{modifiers:{preventOverflow:{boundariesElement:"viewport"}}}},e))}},MLA5:function(t,e){var a=window.angular,n="templates/partials/conversation-list-rows.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=conversation-list-rows class=elementList-container-row data-pt-select-multiple-elements> <sticky-messages></sticky-messages> <request-timeout></request-timeout> <no-results ng-if="conversations.length === 0 && elementsLoaded"></no-results> <section class=conversation-wrapper> <div ng-repeat="conversation in conversations track by conversation.ID" data-pt-draggable-element data-elements-container class=conversation ng-class="getClassNames(conversation, markedElement)"> <span class=expiration> <svg height=14 width=14 viewBox="0 0 14 14"> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-expiration></use> </svg> </span> <pt-select-element data-index="{{ $index }}"></pt-select-element> <pt-star data-model=conversation class=singleStar></pt-star> <span class="senders ellipsis"> &nbsp; <senders-name></senders-name> </span> <div class=subject> <h4 ng-attr-title="{{ conversation.Subject | unescape }}"> <states-elements></states-elements> <folders-element conversation=conversation></folders-element> <span class=subject-num-message ng-if="conversation.NumMessages > 1">({{ conversation.NumMessages }})</span> <span class="subject-text ellipsis">{{ conversation.Subject | unescape }}</span> </h4> <labels-element element=conversation></labels-element> </div> <span class=size>{{ size(conversation)| bytes }}</span> <i class="fa fa-paperclip conversation-icon-attachment"></i> <time-element></time-element> </div> </section> <search-limit-reached ng-if="elementsLoaded && limitReached"></search-limit-reached> </div> ')}])}t.exports=n},MO4r:function(t,e){var a=window.angular,n="templates/contact/contactLoaderModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal very-important" role=dialog ng-class=ctrl.class> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <form name=contactImport novalidate class="modal-content contactLoaderModal-container" ng-class="{\n            \'contactLoaderModal-imported\': ctrl.state === \'imported\'\n        }"> <header class=modal-header> <h4 class=modal-title>{{ ::ctrl.title }}</h4> </header> <div class=modal-body> <div ng-if="ctrl.state !== \'manageGroups\'"> <p class="alert alert-info contactLoaderModal-info">{{ ::ctrl.info }}</p> <loader-tag></loader-tag> <progress-bar id=contactsProgressBar></progress-bar> <label class=contactLoaderModal-label></label> <div class=contactLoaderModal-success ng-if=ctrl.success> <p>{{ ctrl.success.complete }}</p> <div class=contactLoaderModal-frame> <h1>{{ctrl.success.count}} of {{ctrl.success.total}}</h1> <strong>{{ctrl.success.text}}</strong> </div> </div> <div class=contactLoaderModal-error ng-if=ctrl.error.list.length> <p ng-if="ctrl.error.list.length === ctrl.error.total" class="alert alert-danger">{{::ctrl.error.message}}</p> <div ng-if="ctrl.error.list.length !== ctrl.error.total"> <p>{{::ctrl.error.message}}</p> <ul class=contactLoaderModal-logs> <li class=contactLoaderModal-log ng-repeat="error in ctrl.error.list track by $id(error)">- {{::error}}</li> </ul> </div> </div> </div> <div ng-if="ctrl.state === \'manageGroups\'" class=pm_form> <p class=contactLoaderModal-info translate-context=Info translate>We picked up at least one group/organization from the list of contacts you are importing.</p> <p class=contactLoaderModal-info translate-context=Info translate>Take the time to review how we should import these groups.</p> <ul class=contactLoaderModal-categories-list> <li class=contactLoaderModal-categories-item ng-repeat="item in ctrl.categories track by item.id"> <div class=contactLoaderModal-categories-label> <strong style=color:{};> <span class="ellipsis contactLoaderModal-categories-label-text" title="{{ ::item.group.Name }}">{{ ::item.group.Name }}</span> </strong><br> <span> ({{ ::item.contacts.length }} <span translate translate-n=item.contacts.length translate-plural=contacts translate-context=Info>contact</span>) </span> </div> <div class="pm_select contactLoaderModal-categories-actions"> <select class=contactLoaderModal-categories-select ng-model=ctrl.model[item.group.ID].action ng-options="option.label for option in ctrl.optionsGroup track by option.value"></select> <i class="fa fa-angle-down"></i> </div> <div class=contactLoaderModal-categories-input> <autocomplete-contact-group ng-if="ctrl.model[item.group.ID].action.value === 2" , data-form=contactImport data-model=ctrl.model[item.group.ID].group class=contactGroupModal-autocomplete></autocomplete-contact-group> <label-name-input class=contactGroupModal-input-label ng-if="ctrl.model[item.group.ID].action.value === 1" data-mode=contactGroup data-form=contactImport data-model=ctrl.model[item.group.ID]></label-name-input> </div> </li> </ul> </div> </div> <footer class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.close() translate-context=Action translate>Close</button> <button class="pm_button modal-footer-button" ng-if="ctrl.state === \'manageGroups\'" ng-click=ctrl.save() ng-disabled=ctrl.pendingImport translate-context=Action translate>Save</button> <button ng-if="ctrl.state === \'imported\' && ctrl.categories.length" class="pm_button modal-footer-button" ng-click="ctrl.toStep(\'manageGroups\')" translate-context=Action translate>Next</button> </footer> </form> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},MV75:function(t,e){var a=window.angular,n="templates/filter/filterAddressModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog> <form class=modal-dialog name=filterAddressForm ng-submit="filterAddressForm.emailAddress.$valid && ctrl.create()" novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h3 class=modal-title ng-if="ctrl.type === \'whitelist\'" translate translate-context=Title>Add to Allow list</h3> <h3 class=modal-title ng-if="ctrl.type === \'blacklist\'" translate translate-context=Title>Add to Block list</h3> </header> <div class="modal-body pm_form ng-message-wrapper"> <input type=email ng-model=ctrl.filter.Email id=emailAddress name=emailAddress placeholder-translate-context=Placeholder placeholder-translate="Email Address"> <div ng-messages=filterAddressForm.emailAddress.$error role=alert> <div class=ng-messages-errors> <p ng-message=email class=text-red translate-context=Error translate>Invalid email</p> </div> </div> </div> </div> <footer class=modal-footer> <button type=button class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button class="pm_button primary modal-footer-button disabled-if-network-activity" translate translate-context=Action>Save</button> </footer> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},MaDz:function(t,e){var a=window.angular,n="templates/views/invoices.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,' <div id=pm_settings> <div class="settings pm_form"> <div class=row> <div class=margin> <span class="pm_select inline"> <select ng-model=range ng-options="option.label for option in years" ng-change=loadInvoices(range.value)></select> <i class="fa fa-angle-down"></i> </span> </div> <legend translate-context=Title translate>Organization history</legend> <div class=pm_table> <table> <thead> <tr> <th scope=col style=width:10rem class=date translate-context=Title translate>Date</th> <th scope=col style=width:10rem class=event translate-context=Title translate>Event</th> <th scope=col style=width:10rem class=price translate-context=Title translate>Price</th> <th scope=col style=width:10rem class=actions translate-context=Title translate>Actions</th> </tr> </thead> <tbody> <tr ng-repeat="invoice in organizationInvoices"> <td class=date> {{ invoice.PeriodStart * 1000 | date : \'medium\' }} </td> <td> {{ invoice.Cart.Next.Plan | capitalize }} <span translate-context=Info translate>Plan subscription</span> (<small ng-show="invoice.BillingCycle === 1" translate translate-context=Option>Monthly</small><small ng-show="invoice.BillingCycle === 12" translate translate-context=Option>Annually</small>) </td> <td class=price> {{ invoice.Amount / 100 | currency: invoice.Currency }} </td> <td class=actions> <button type=button class="pm_button link" ng-click=display(invoice) translate-context=Action translate-comment="displays invoice details as a PDF in new tab" translate>Display invoice</button> </td> </tr> </tbody> </table> </div> <p>&nbsp;</p> <legend translate-context=Title translate>User history</legend> <div class=pm_table> <table> <thead> <tr> <th scope=col style=width:10rem class=date translate-context=Title translate-comment="Table heading" translate>Date</th> <th scope=col style=width:10rem class=event translate-context=Title translate-comment="Table heading" translate>Event</th> <th scope=col style=width:10rem class=price translate-context=Title translate-comment="Table heading" translate>Price</th> <th scope=col style=width:10rem class=actions translate-context=Title translate-comment="Table heading" translate>Actions</th> </tr> </thead> <tbody> <tr ng-repeat="invoice in userInvoices"> <td class=date> {{ invoice.PeriodStart * 1000 | date : \'medium\' }} </td> <td> {{ invoice.Cart.Next.Plan | capitalize }} <span translate-context=Title translate>Plan subscription</span> (<small ng-show="invoice.BillingCycle === 1" translate translate-context=Option>Monthly</small><small ng-show="invoice.BillingCycle === 12" translate translate-context=Option>Annually</small>) </td> <td class=price> {{ invoice.Amount / 100 | currency: invoice.Currency }} </td> <td class=actions> <button type=button class="pm_button link" ng-click=display(invoice) translate-context=Action translate-comment="displays invoice details as a PDF in new tab" translate>Display invoice</button> </td> </tr> </tbody> </table> </div> </div> </div> </div> ')}])}t.exports=n},McTc:function(t,e){var a=window.angular,n="templates/elements/foldersElement.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<span class=folderConversations-container></span> ")}])}t.exports=n},Mfc5:function(t,e){var a=window.angular,n="templates/contact/contactSelectorModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} contactSelectorModal-container" role=dialog style=display:block> <contact-selector-form></contact-selector-form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},Mrbv:function(t,e){var a=window.angular,n="templates/views/security.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class="settings securityContainer"> <div class="row pm_grid"> <section class="pm_form col-1-2"> <header-block class=settingsSecurity-header-2fa> <h2 class=settingsSecurity-title-2fa translate translate-comment="two factor page heading" translate-context=Title>Two-Factor Authentication</h2> </header-block> <button class=pm_button ng-show="twoFactor === 1" ng-click=disableTwoFactor() translate-context=Action translate>Disable Two-Factor Authentication</button> <button class=pm_button ng-show="twoFactor === 0" ng-click=enableTwoFactor() translate-context=Action translate>Enable Two-Factor Authentication</button> <a href=https://protonmail.com/support/knowledge-base/two-factor-authentication/ target=_blank class="pm_button link" translate translate-context=Link>Learn more</a> </section> <section class="pm_form col-1-2"> <header-block class=settingsSecurity-header-session> <h2 class=settingsSecurity-title-session translate translate-comment="other sessions page heading" translate-context=Title>Session Management</h2> </header-block> <p> <button type=button class=pm_button ng-click=revokeOthers() translate-context=Action translate>Revoke all other sessions</button> <a href=https://protonmail.com/support/knowledge-base/log-out-all-other-sessions/ target=_blank class="pm_button link" translate translate-context=Link>Learn more</a> </p> <div class="pm_table activeSessions-table"> <table class=bordered> <tbody> <tr ng-repeat="session in activeSessions track by $id(session)"> <td> <strong>{{ ::session.client }}</strong> <br/> <code>{{ ::session.username }}</code> <time pt-tooltip="{{ ::session.CreateTime * 1000 | date : \'medium\' }}">{{ ::session.createTime }}</time> </td> <td class=text-right> <span ng-if=session.isCurrentSession class="pm_badge primary" translate-context="Badge in the active sessions table" translate>Current session</span> <button ng-if="session.Revocable && !session.isCurrentSession" ng-click=revoke(session.UID) type=button class="pm_button link" translate-context="Action in the active sessions table" translate>Revoke</button> </td> </tr> </tbody> </table> </div> <p class=help translate-context="Info about active sessions" translate>Unless you explicitly logout or change your password, sessions can last for up to 6 months. Sessions expire after 2 weeks of inactivity.</p> </section> </div> <div class=row> <log-manager class="setting pm_form full"></log-manager> </div> <encryption-view></encryption-view> </div> </div> ')}])}t.exports=n},Mtym:function(t,e){var a=window.angular,n="templates/bridge/bridgePaidPanel.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=bridgePaidPanel-container> <p class="alert alert-info" translate-context=Info translate>ProtonMail supports IMAP/SMTP via the ProtonMail Bridge application. Thunderbird, Microsoft Outlook, and Apple Mail are officially supported on both Windows and MacOS.</p> <a class="pm_button primary" href=https://protonmail.com/bridge/ target=_blank translate-context=Link translate>Download bridge</a> </div>')}])}t.exports=n},MzkN:function(t,e,a){"use strict";var n=a("mwIZ"),o=a.n(n);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scrollableSelector,a=t.speed,n=void 0===a?10:a,r=t.margin,s=void 0===r?20:r,l={};return{dragStart:function(t){var a=o()(t,"dest.sortableScope.element[0]");a&&(l.scrollableContainer=document.querySelector(e),l.listTop=a.offsetTop,l.listBottom=l.listTop+a.offsetHeight)},dragMove:function(t,e,a){if(a&&l.scrollableContainer){var o=l.scrollableContainer.scrollTop,r=l.scrollableContainer.offsetTop,i=l.scrollableContainer.offsetHeight,c=a.pageY,d=c+o;c-s>i&&d<=l.listBottom?l.scrollableContainer.scrollTop+=n:c-s<r&&d>=l.listTop&&(l.scrollableContainer.scrollTop-=n)}},dragEnd:function(){delete l.scrollableContainer}}}},N0YN:function(t,e){var a=window.angular,n="templates/filter/customFilterList.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=row> <div class="setting pm_form full"> <header-block class=settingsLabels-header-filter> <h2 class=settingsLabels-title-filter translate translate-context=Title>Custom Filters</h2> </header-block> <p translate translate-context=Info class="alert alert-info">Add a custom filter to perform actions such as automatically labeling or archiving messages.</p> <p class="alert alert-info" ng-show="isFree === true && customFilters.length > 0" translate translate-context=Info>Free ProtonMail accounts are limited to 1 custom filter. Please <a ui-sref="secured.dashboard({scroll: true})">upgrade</a> to get unlimited filters.</p> <div class=settingsFilters-actions> <section class=settingsFilters-actions-buttons> <button class="pm_button primary" translate translate-context=Action ng-click=addCustomFilter()>Add Filter</button> <button class="pm_button link" translate translate-context=Action ng-click=addSieveFilter()>Add Sieve Filter</button> </section> <section class="settingsFilters-actions-notice help-dnd" ng-if="customFilters.length > 0" translate-context=Help translate>You can drag and drop custom filter to order them.</section> </div> <p class="alert alert-info" ng-show="customFilters.length === 0" translate translate-context=Info>You have no custom filters.</p> <div ng-show="customFilters.length > 0"> <ul class="settingsFilters-sort-container pm_sort-container" data-as-sortable=filterDragControlListeners is-disabled="customFilters.length === 1" ng-class="{ \'as-sortable-disabled\': customFilters.length === 1 }" data-ng-model=customFilters> <li class=pm_sort-item ng-repeat="filter in customFilters | orderBy: \'Priority\'" as-sortable-item=""> <div class=pm_sort-item-content as-sortable-item-handle=""> <label for="{{ filter.ID }}"> <span class=ellipsis title="{{ filter.Name }}">{{ filter.Name }}</span> </label> <toggle class="settingsFilters-sort-toggle small" data-status=filter.Status data-name=changeCustomFilterStatus data-id="{{ filter.ID }}"></toggle> <div> <button class="pm_button link" ng-show=isSimple(filter) ng-click=editCustomFilter(filter) translate-context=Action translate>Edit</button> <button class="pm_button link" ng-click="editCustomFilter(filter, true)" translate-context=Action translate>Edit sieve</button> <button class="pm_button link text-red" ng-click=deleteCustomFilter(filter) translate-context=Action translate>Delete</button> </div> </div> </li> </ul> </div> </div> </div> ')}])}t.exports=n},N24w:function(t,e){var a=window.angular,n="templates/contact/contactEncrypted.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class=contactEncrypted-container> <section class=contactDetails-fields-container> <legend class=contactDetails-fields-ico> <svg viewBox="0 0 374.8 337.1" pt-tooltip-translate="Encrypted data with verified digital signature" pt-tooltip-translate-context="Tooltip contact"> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-lock-signed></use> </svg> </legend> <div> <div ng-if=state.isFree class=contactDetails-fields-locked> <div class=contactDetails-fields-locked-notice> <p> <a class="pm_button primary contactEncrypted-action-redirect" ui-sref="secured.dashboard({ scroll: true })" translate translate-context=Action>Upgrade now</a></p> <p translate translate-context=Info>This feature is only available for paid users.</p> </div> </div> <contact-error></contact-error> <contact-item data-contact=contact data-form=contactForm data-model=model data-type=Tels></contact-item> <contact-item data-contact=contact data-form=contactForm data-model=model data-type=Adrs></contact-item> <contact-item data-contact=contact data-form=contactForm data-model=model data-type=Personals></contact-item> <button type=button class=contactDetails-toggle-custom-fields></button> <contact-item data-contact=contact class=contactDetails-custom-fields data-form=contactForm data-model=model data-type=Customs></contact-item> <contact-item data-contact=contact data-form=contactForm data-model=model data-type=Notes></contact-item> <contact-item data-contact=contact data-form=contactForm data-model=model data-type=Photos></contact-item> </div> </section> </section> ')}])}t.exports=n},NB5d:function(t,e){var a=window.angular,n="templates/modals/releaseNotes.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div role=dialog class="pm_modal releaseNotesModal-container"> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class="modal-title donateModal-title-donate" translate translate-context=Title>Release notes</h4> <a data-prefix=v href={{::ctrl.articleLink}} title={{::ctrl.dateVersion}} class=infoLink target=_blank translate-context=Link translate>More info</a> </div> <div class=modal-body lazy-inject={{::ctrl.changelogPath}}> </div> </div> <div class="modal-footer releaseNotes-group-btn"> <button type=button class="pm_button primary modal-footer-button" ng-click=ctrl.close() translate translate-context=Action>Close</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},NeGb:function(t,e){var a=window.angular,n="templates/directives/composer/composer.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="composer animate composer-container" data-composer-id={{::message.ID}}> <div class=composer-dropzone-wrapper></div> <composer-header></composer-header> <composer-encrypt class="composerOptions-container composer-options-encryption" data-message=message ng-class="{ \'show\': message.panelName == \'encrypt\' }"></composer-encrypt> <composer-expiration class="composerOptions-container composer-options-expiration" data-message=message ng-class="{ \'show\': message.panelName == \'expiration\' }"></composer-expiration> <div class="meta composer-meta" ng-class="{\'composer-toggle-ccbcc\': message.ccbcc}"> <composer-select-from class="row fromRow composer-field-From" data-model=message></composer-select-from> <composer-input-meta data-model=message data-label=To data-key=ToList class="row toRow composer-field-ToList"></composer-input-meta> <composer-input-meta data-model=message data-label=CC data-key=CCList class="row ccRow composer-field-CCList"></composer-input-meta> <composer-input-meta data-model=message data-label=BCC data-key=BCCList class="row bccRow composer-field-BCCList"></composer-input-meta> <composer-subject class="row subjectRow composer-field-Subject"></composer-subject> </div> <section class="flex composer-section" ng-form=composeForm{{$index}}> <div class="composeEditor fill"> <composer-ask-embedded class="askEmbedding composer-askEmbedding"></composer-ask-embedded> <div class="dropzone composer-dropzone fill" composer-dropzone id=dropzone_message{{::message.ID}} ng-show=message.focussed></div> <squire class=composer-editor data-message=message data-allow-embedded=true></squire> </div> </section> <composer-attachments data-model=message></composer-attachments> <footer ng-hide=message.minimized ng-class="{ \'disabled\': message.displayPanel }"> <button class="pm_button composer-btn-attachment needsclick" data-action-compose=::message data-action-compose-type=addFile ng-disabled="message.disableOthers() || message !== selected" ng-class="{\n                \'active\': message.displayPanel && message.panelName == \'attachments\',\n                \'primary\': message.Attachments && message.Attachments.length > 0\n            }" pt-tooltip-translate=Attachments pt-tooltip-translate-context=Tooltip ng-if=!isBrokenSafari pt-placement=top> <i class="fa fa-paperclip"></i> <span class=sr-only translate-context=Action translate>Attachments</span> </button> <button class="pm_button composer-btn-attachment needsclick" data-action-compose=::message data-action-compose-type=addFile ng-disabled="message.disableOthers() || message !== selected" ng-if=isBrokenSafari ng-class="{\n                \'active\': message.displayPanel && message.panelName == \'attachments\',\n                \'primary\': message.Attachments && message.Attachments.length > 0\n            }" pt-tooltip-translate="To attach a file, drag and drop into this email" pt-tooltip-translate-context=Tooltip pt-placement=top> <i class="fa fa-paperclip"></i> <span class=sr-only translate-context=Action translate>Attachments</span> </button> <button class="pm_button composer-btn-expiration" ng-class="{\n                \'active\': message.displayPanel && message.panelName == \'expiration\',\n                \'primary\': message.ExpiresIn > 0\n            }" ng-disabled="message.disableOthers() || message !== selected" pt-placement=top pt-tooltip-translate="Expiration time" pt-tooltip-translate-context=Action> <svg height=14 width=14 viewBox="0 0 14 14" role=img focusable=false aria-hidden=true> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-expiration></use> </svg> <span class=sr-only translate-context=Action translate>Expiration time</span> </button> <button class="pm_button composer-btn-encryption" ng-class="{\n                \'active\': message.displayPanel && message.panelName == \'encrypt\',\n                \'primary\': message.isEO()\n            }" ng-disabled="message.disableOthers() || message !== selected" pt-placement=top pt-tooltip-translate-context=Action pt-tooltip-translate=Encryption> <i class="fa fa-lock"></i> <span class=sr-only translate-context=Action translate>Encryption</span> </button> <div class=pull-right> <composer-time class=desktopOnly></composer-time> <button class="pm_button composer-btn-discard" ng-disabled=message.disableDiscard() pt-tooltip-translate="Delete draft" pt-tooltip-translate-context=Action pt-placement=top> <i class="fa fa-trash-o"></i> <span class=composer-btn-discard-text translate translate-context=Action>Discard</span> </button> <button class="pm_button composer-btn-save" ng-disabled="message.disableSave() || message !== selected" pt-tooltip-translate=Save pt-placement=top pt-tooltip-translate-context=Action> <i class="fa fa-floppy-o"></i> <span class=composer-btn-save-text translate translate-context=Action>Save</span> </button> <btn-send-message class="pm_button primary mobileFull composer-btn-send" data-message=message></btn-send-message> </div> </footer> </div> ')}])}t.exports=n},Np7I:function(t,e){var a=window.angular,n="templates/directives/composer/composerAskEmbedded.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=composerAskEmbdded-container> <div class=composerAskEmbdded-details> <button type=button data-action=cancel class=composerAskEmbdded-btn-cancel translate translate-context=Action>Cancel <i class="fa fa-close"></i></button> <h4 class=composerAskEmbdded-title translate translate-context="Composer, Attachment">No images detected</h4> <div class=mobile-display-column> <span translate translate-context="Composer, Attachment">Insert images</span> <button type=button class="pm_button primary composerAskEmbdded-btn-attachment" data-action=attachment translate translate-context="Composer, Attachment" pt-tooltip-translate-context="Composer Tooltip" pt-tooltip-translate=Attachments pt-placement=top>as attachment</button> <span translate translate-context="Composer, Attachment">or</span> <button type=button class="pm_button primary composerAskEmbdded-btn-inline" data-action=inline translate translate-context="Composer, Attachment" pt-tooltip-translate-context="Composer Tooltip" pt-tooltip-translate="Inline image" pt-placement=top>inline</button> </div> </div> </div> ')}])}t.exports=n},O25S:function(t,e){var a=window.angular,n="templates/search/searchForm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form method=post class=searchForm-container> <div class=search-form-fieldset> <button class=searchForm-action-button-default> <i class="fa fa-search"></i> </button> <input type=search placeholder-translate="Search messages" placeholder-translate-context="Placeholder search" autocomplete=off ng-model=query class="search-form-fieldset-input placeholder-white no-outline"> <btn-advanced-search pt-tooltip-translate-context=Action pt-tooltip-translate="Advanced search" pt-placement=bottom class=searchForm-action-button-toggle></btn-advanced-search> <btn-advanced-search data-action=close class=searchForm-action-button-advanced></btn-advanced-search> </div> <div class="searchForm-advanced-container pm_form pm_grid" ng-if=advancedSearch> <section class=searchForm-advanced-main> <div class="searchForm-advanced-keywords-container row"> <input id=search_keywords class=searchForm-advanced-keywords-input type=text placeholder-translate=Keywords placeholder-translate-context="Placeholder search" ng-model=model.keyword> </div> <div class=row> <label class=searchForm-advanced-wildcard-container> <custom-checkbox data-custom-ng-model=model.wildcard></custom-checkbox> <span translate-context=Info translate>Do not require exact match</span> <a href=https://protonmail.com/support/knowledge-base/search/ target=_blank class=text-purple> <i class="fa fa-info-circle"></i> </a> </label> </div> </section> <div class=searchForm-advanced-wrapper> <div class=row> <label for=search_folder translate translate-context=Title>Location</label> <span class=pm_select> <select id=search_folder ng-model=model.folder ng-options="folder.label group by folder.group for folder in folders"></select> <i class="fa fa-angle-down"></i> </span>  <div class="row margin"> <div class=col-1-2> <label for=search_sender translate translate-context=Title>Sender</label> <autocomplete-email class=searchForm-autocomplete data-email=model.from data-custom-id=search_sender data-custom-placeholder="{{\'From\' | translate:\'Title\'}}"></autocomplete-email> </div> <div class=col-1-2> <label for=search_recipient translate translate-context=Title>Recipient</label> <autocomplete-email class=searchForm-autocomplete data-email=model.to data-custom-id=search_recipient data-custom-placeholder="{{\'To\' | translate:\'Title\'}}"></autocomplete-email> </div> </div> <div class="row margin"> <div class=col-1-2> <label for=search_start translate translate-context=Title>Start date</label> <span class=input-icon> <em class="fa fa-calendar searchForm-icon"></em> <input class=search-date type=text data-pikaday autocomplete=off ng-model=model.begin data-default-date={{::model.beginRaw}} data-max-date=model.end id=search_start> </span> </div> <div class=col-1-2> <label for=search_end translate translate-context=Title>End date</label> <span class=input-icon> <em class="fa fa-calendar searchForm-icon"></em> <input class=search-date type=text data-pikaday autocomplete=off ng-model=model.end data-default-date={{::model.endRaw}} data-min-date=model.begin id=search_end> </span> </div> </div> <div class=row> <div class=col-1-2> <label for=search_address translate translate-context=Title>Address</label> <span class=pm_select> <select id=search_address ng-model=model.address ng-options="address.Email for address in addresses | orderBy: \'Order\' track by address.ID"></select> <i class="fa fa-angle-down"></i> </span> </div> <div class=col-1-2> <label translate translate-context=Title translate-comment="Search form option heading">Attachments</label> <div class="radio searchFrom-advanced-radio"> <label> <custom-radio data-custom-id=attachments_all data-custom-ng-model=model.attachments data-custom-value=2></custom-radio> <span translate translate-context="Search action filter" translate-comment="form option">All</span> </label> <label> <custom-radio data-custom-id=attachments_yes data-custom-ng-model=model.attachments data-custom-value=1></custom-radio> <span translate translate-context="Search action filter" translate-comment="form option">Yes</span> </label> <label> <custom-radio data-custom-id=attachments_no data-custom-ng-model=model.attachments data-custom-value=0></custom-radio> <span translate translate-context="Search action filter" translate-comment="form option">No</span> </label> </div> </div> </div> <div class="row margin-top"> <button type=submit class="searchForm-advanced-submit pm_button primary"> <i class="fa fa-search"></i> <span translate translate-context=Action>Search</span> </button> </div> </div> </div> </div></form> ')}])}t.exports=n},OLJ3:function(t,e){var a=window.angular,n="templates/filter/modal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} filter-modal-container" ng-class="ctrl.mode === \'complex\' ? \'filter-modal-complex\' : \'filter-modal-simple\'" role=dialog> <form class=modal-dialog name=addFilterModal ng-click=ctrl.resetValidity() ng-submit=ctrl.save() data-validity={{ctrl.validator}} novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h3 class=modal-title translate-context="Filter modal title" translate>Custom Filter</h3> </div> <div class="modal-body pm_form filter-form"> <p translate translate-context=Info class="alert alert-info">Custom filters work on all new emails, including incoming emails as well as sent emails</p> <div class=pm_grid> <div class=col-1-8> <label for=filterName translate translate-context=Title>Name</label> </div> <div class=col-7-8> <input class=filter-modal-input-name type=text id=filterName name=filterName ng-model=ctrl.filter.Name required/> <div ng-messages=addFilterModal.filterName.$error> <p ng-message=required class=text-red translate-context=Error translate>Field required</p> </div> </div> </div> <p translate translate-context=Info class="alert alert-info filter-complex-only">To find out how to write Sieve filters, <a target=_blank href=https://protonmail.com/support/knowledge-base/sieve/ >click here</a>.</p> <sieve-label-input sieve=ctrl.filter.Sieve></sieve-label-input> <fieldset data-mode=conditions class=filter-simple-only> <legend translate-context=Title translate translate-context=Title>Conditions</legend> <div class=filter-modal-conditions ng-repeat="condition in ctrl.filter.Simple.Conditions"> <p class="filter-modal-simple-condition bold text-center" ng-hide="$index === 0"> <span class="pm_select inline"> <select ng-model=ctrl.filter.Simple.Operator ng-options="operator.label for operator in ctrl.operators"></select><i class="fa fa-angle-down"></i> </span> </p> <div class="filter-modal-condition alert"> <div class=filter-modal-condition-settings-container> <div class=filter-modal-condition-settings> <span class="filter-modal-condition-if bold" translate-context="Filter modal condition" translate>If</span> <span class=pm_select> <select ng-model=condition.Type ng-options="type.label for type in ctrl.types"></select> <i class="fa fa-angle-down"></i> </span> <span class=filter-modal-condition-attachments ng-if="condition.Type.value === \'attachments\'"> <label> <custom-radio data-custom-ng-change="ctrl.onChangeAttachements(condition, \'contains\')" data-custom-ng-model=condition.Comparator.value data-custom-ng-value="\'contains\'" data-custom-value=contains></custom-radio> <span translate translate-context=Title>With Attachments</span> </label> <label> <custom-radio data-custom-ng-change="ctrl.onChangeAttachements(condition, \'!contains\')" data-custom-ng-model=condition.Comparator.value data-custom-ng-value="\'!contains\'" data-custom-value=!contains></custom-radio> <span translate translate-context=Title>Without Attachments</span> </label> </span> <span class=pm_select ng-show="condition.Type.value === \'subject\' || condition.Type.value === \'sender\' || condition.Type.value === \'recipient\'"> <select class=autoWidth ng-model=condition.Comparator ng-options="comparator.label for comparator in ctrl.comparators"></select> <i class="fa fa-angle-down"></i> </span> <div class=filter-modal-condition-settings-item ng-if="condition.Type.value === \'subject\' || condition.Type.value === \'sender\' || condition.Type.value === \'recipient\'"> <div ng-if="condition.Values.length > 0"> <span class=filter-modal-condition-badges ng-repeat="value in condition.Values track by $id(value)" title="{{ value }}"> <span class="filter-modal-condition-badge pm_badge default none"><span class="ellipsis filter-modal-condition-badge-value">{{ value }}</span> <a href=# class=filter-modal-condition-badge-remove ng-click="condition.Values.splice($index, 1)"><i class="fa fa-times"></i></a> </span> <span class=filter-modal-condition-or translate-context="Filter modal value OR value" translate>or</span> </span> </div> </div> <div class="filter-modal-add-condition-settings-item filter-modal-add-condition" ng-if="condition.Type.value === \'subject\' || condition.Type.value === \'sender\' || condition.Type.value === \'recipient\'"> <input class=filter-modal-add-condition-input type=text ng-model=condition.value placeholder-translate="Text or pattern" placeholder-translate-context="Filter modal condition" ng-keypress="$event.keyCode === 13 && ctrl.addValue(condition, $event)" ng-blur=ctrl.addValue(condition) /> <button class="filter-modal-add-condition-button pm_button" ng-disabled=!condition.value type=button> <i class="fa fa-check"></i> </button> </div> </div> </div> <div class=filter-modal-condition-remove> <button type=button pt-tooltip-translate=Remove pt-tooltip-translate-context=Action ng-hide="ctrl.filter.Simple.Conditions.length === 1" ng-click=ctrl.removeCondition(condition) class="pm_button white"> <i class="fa fa-trash"></i> </button> </div> </div> </div> <button type=button class="pm_button filterModal-add-condition-button" ng-click=ctrl.addCondition() translate translate-context=Action>Add condition</button> </fieldset> <fieldset data-mode=action class=filter-simple-only> <legend translate-context=Title translate translate-context=Title>Actions</legend> <label> <custom-checkbox class=filterModal-checkbox data-custom-ng-model=ctrl.hasLabels></custom-checkbox> <span translate-context="Filter modal label" translate>Apply labels</span> </label> <div class="alert pm_grid filter-modal-label-container" ng-show=ctrl.hasLabels> <div class=col-1-4 ng-repeat="label in ctrl.filter.Simple.Actions.Labels track by label.ID | orderBy: \'Order\'"> <label class=filter-modal-label> <custom-checkbox data-custom-ng-model=label.Selected></custom-checkbox> <i class=fa ng-class="{ \'fa-folder\': label.Exclusive, \'fa-tag\': !label.Exclusive }" ng-style="{color: label.Color}"></i> <span class=ellipsis title="{{ ::label.Name }}">{{ ::label.Name }}</span> </label> </div> <div class="col-1-4 filter-modal-label-add"> <button type=button class="pm_button white" ng-click=ctrl.addLabel() translate translate-context=Action>Add label</button> </div> </div> <label> <custom-checkbox class=filterModal-checkbox data-custom-ng-model=ctrl.hasMove></custom-checkbox> <span translate-context="Filter modal label" translate>Move to</span> </label> <div class="alert pm_grid" ng-show=ctrl.hasMove> <div class=col-1-4> <label class=filter-modal-label> <custom-radio data-custom-ng-model=ctrl.filter.Simple.Actions.Move data-custom-value=inbox></custom-radio> <i class="fa fa-inbox"></i> <span class=ellipsis translate translate-context=Label>Inbox</span> </label> </div> <div class=col-1-4> <label class=filter-modal-label> <custom-radio data-custom-ng-model=ctrl.filter.Simple.Actions.Move data-custom-value=archive></custom-radio> <i class="fa fa-archive"></i> <span class=ellipsis translate translate-context=Label>Archive</span> </label> </div> <div class=col-1-4> <label class=filter-modal-label> <custom-radio data-custom-ng-model=ctrl.filter.Simple.Actions.Move data-custom-value=spam></custom-radio> <i class="fa fa-ban"></i> <span class=ellipsis translate translate-context=Label>Spam</span> </label> </div> <div class=col-1-4> <label class=filter-modal-label> <custom-radio data-custom-ng-model=ctrl.filter.Simple.Actions.Move data-custom-value=trash></custom-radio> <i class="fa fa-trash-o"></i> <span class=ellipsis translate translate-context=Label>Trash</span> </label> </div> <div class=col-1-4 ng-repeat="folder in ctrl.folders track by folder.ID"> <label class=filter-modal-label> <custom-radio data-custom-ng-model=ctrl.filter.Simple.Actions.Move data-custom-value="{{ ::folder.Path }}"></custom-radio> <i class="filter-modal-label-item-icon fa" ng-class="{ \'fa-folder\': folder.Exclusive, \'fa-tag\': !folder.Exclusive }" ng-style="{ color: folder.Color }"></i> <span class=ellipsis title="{{ ::folder.Name }}">{{ ::folder.Name }}</span> </label> </div> <div class="col-1-4 filter-modal-folder-add"> <button type=button class="pm_button white" ng-click=ctrl.addFolder() translate translate-context=Action>Add folder</button> </div> </div> <label> <custom-checkbox class=filterModal-checkbox data-custom-ng-model=ctrl.hasMark></custom-checkbox> <span translate-context="Filter modal label" translate>Mark as</span> </label> <div class="alert pm_grid filter-modal-markdetails" ng-show=ctrl.hasMark> <div class=col-1-4> <label> <custom-checkbox data-custom-ng-model=ctrl.filter.Simple.Actions.Mark.Read></custom-checkbox> <span class=ellipsis translate translate-context=Label>Read</span> </label> </div> <div class=col-1-4> <label> <custom-checkbox data-custom-ng-model=ctrl.filter.Simple.Actions.Mark.Starred></custom-checkbox> <span class=ellipsis translate translate-context=Label>Starred</span> </label> </div> </div> <div ng-if=::ctrl.isPaid> <label> <custom-checkbox class=filterModal-checkbox data-custom-ng-model=ctrl.hasVacation></custom-checkbox> <span translate-context="Filter modal label" translate>Send auto reply</span> </label> <div class="alert pm_grid filter-modal-vacation" ng-show=ctrl.hasVacation> <squire id=vacationMessage class="no-resize error_tooltip" allow-data-uri=true data-value=ctrl.filter.Simple.Actions.Vacation data-type-content=OOF-Message></squire> </div> </div> </fieldset> </div> </div> <footer class=modal-footer> <button type=button class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button class="pm_button primary modal-footer-button disabled-if-network-activity" translate translate-context=Action>Save</button> </footer> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},OUDj:function(t,e){var a=window.angular,n="templates/directives/contact/contactItem.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<ul class=contactItem-container data-is-disabled=!UI.sortableState data-as-sortable=itemContactDragControlListeners data-ng-model=UI.items> <li class=contactItem-row ng-if=!item.hide ng-repeat="item in UI.items track by item.uuid" as-sortable-item> <div class="contactItem-sortable-wrapper ng-message-wrapper" as-sortable-item-handle> <label class=contactItem-label> <input type=text placeholder="{{ UI.placeholder }}" class=form-control ng-model=item.label ng-class="{ \'contactItem-label-editable\' : UI.allowCustom, \'contactItem-label-selectable\': UI.selectable }" ng-change=setLabel(item) ng-readonly=!UI.allowCustom ng-required=UI.required ng-click="toggleSelector($event, item)"> <i class="fa itemIcon" ng-class=UI.iconClass></i> <i class=fa ng-class="{\'fa-chevron-down\': !item.displaySelector, \'fa-chevron-up\': item.displaySelector}" ng-click="toggleSelector($event, item)"></i> <ul class=contactItem-selectType ng-show="item.displaySelector && UI.labels.length > 1"> <li ng-repeat="label in UI.labels track by $index" ng-class="{ selected: item.label.toUpperCase() === label.toUpperCase() }"> <a ng-click="setLabel(item, label)">{{ label }}</a> </li> </ul> </label> <div class=contactItem-aside> <div class=contactItem-itemEdit> <div class=contactItem-inputs> <div class=pm_select ng-if="UI.mode === \'select\'"> <select name="{{ ::UI.inputName }}" placeholder="{{ UI.placeholder }}" ng-model=item.value ng-change=change() ng-options="option as option.name for option in UI.options track by option.value"> </select> <i class="fa fa-angle-down"></i> </div> <input ng-if="UI.mode === \'singleLine\'" type="{{ ::UI.inputType }}" name="{{ ::UI.inputName+$index }}" data-valid-email placeholder="{{ UI.placeholder }}" class="form-control contactItem-field" ng-attr-autofocus={{::UI.autofocus}} ng-class="{ \'contactItem-input-with-icon\': UI.inputType === \'email\' }" ng-model=item.value ng-change=change()> <textarea ng-if="UI.mode === \'multiLine\'" placeholder="{{ UI.placeholder }}" class="form-control contactItem-field" ng-model=item.value ng-change=change()></textarea> <contact-address-input ng-if="UI.mode === \'address\'" data-focused=config.isFocusedAddress data-value=item.value data-form=form></contact-address-input> <contact-photo-row ng-if="UI.mode === \'photo\'" data-value=item.value data-form=form></contact-photo-row> </div> <div class=contactItem-actions> <copy ng-if="UI.mode === \'address\' && !config.isFocusedAddress" data-value=getAddressValue(item) pt-tooltip-translate="Copy address" pt-tooltip-translate-context=Tooltip></copy> <button ng-if="!UI.unique && visibleItems().length > 1" type=button class=contactItem-delete data-action=remove data-index="{{ $index }}" pt-tooltip-translate="Remove Entry" pt-tooltip-translate-context=Action></button> <button ng-if="!UI.unique && visibleItems().length" type=button class=contactItem-add data-action=add pt-tooltip-translate="Add Entry" pt-tooltip-translate-context=Action></button> <a ng-if="UI.infoLink && UI.infoTooltip && $index === 0" href="{{ ::UI.infoLink }}" target=_blank class=text-purple> <i class="fa fa-info-circle contact-item-info" pt-tooltip="{{ ::UI.infoTooltip }}"></i> </a> <i class="fa fa-info-circle contact-item-info" ng-if="!UI.infoLink && UI.infoTooltip && $index === 0" pt-tooltip="{{ ::UI.infoTooltip }}"></i> <advanced-settings-btn class=contactItem-btn-settings ng-if="UI.inputType === \'email\' && item.value" data-contact=contact data-form=form data-model=item></advanced-settings-btn> </div> </div> <div class=contactItem-validation ng-messages=form[UI.inputName+$index].$error role=alert> <div class=ng-messages-errors> <p ng-message=email class=text-red translate-context=Error translate>Invalid email</p> </div> </div> </div> </div> </li> <div class=contactItem-footer> <button ng-if="UI.items.length > 1 && UI.sortable" type=button data-action=toggleSortable class=contactItem-toggle-sort> <span class=contactItem-toggle-sort-enable translate translate-context=Action>Change order</span> <span class=contactItem-toggle-sort-save translate translate-context=Action>Save order</span> </button> </div> </ul> ')}])}t.exports=n},"OX+9":function(t,e){var a=window.angular,n="templates/ui/timePicker.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="input-icon timepickerContainer"> <em class="fa fa-clock-o searchForm-icon"></em> <input type=text class="timepicker always-show-ng-invalid" required name={{::eventKey}} ng-model=model.currentTime placeholder-translate-context=Placeholder placeholder-translate=HH:MM> </div> ')}])}t.exports=n},Obzp:function(t,e){var a=window.angular,n="templates/modals/decryptImportKey.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit="passwordModalForm.$valid && ctrl.submit()" name=passwordModalForm novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Private Key password required</h4> </div> <div class="modal-body pm_form"> <div class=multi-line-label> <label for=password translate translate-context="Label in the modal which ask the user to enter his password or mailbox password">Enter the password for key with fingerprint <code class=flex-space-left>{{ ctrl.fingerprint }}</code>.</label> </div> <input type=password autofocus ng-model=ctrl.password id=password placeholder-translate=Password name=password placeholder-translate-context=Placeholder required/> <div ng-messages=passwordModalForm.password.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button" translate translate-context=Action>Submit</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},OqGN:function(t,e){var a=window.angular,n="templates/user/humanVerification.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_panel pm_form wide humanVerification-container"> <div class="wrapper humanVerification-wrapper" id=verification-panel ng-class="{\n            \'humanVerification-type-email\': verificator === \'email\',\n            \'humanVerification-type-captcha\': verificator === \'captcha\',\n            \'humanVerification-type-sms\': verificator === \'sms\',\n            \'humanVerification-type-donation\': verificator === \'donation\',\n            \'humanVerification-show-email\': showEmail,\n            \'humanVerification-show-captcha\': showCaptcha,\n            \'humanVerification-show-sms\': showSms,\n            \'humanVerification-show-donation\': showPayment,\n        }"> <span class="titleLabel label" for=password data-step=5> <span translate translate-context=Title translate-comment="Antispam section of account creation">Are you human?</span> </span> <p class=help translate-context=Info translate>To fight spam, please verify you are human.</p> <p class="help humanVerification-help-privacy" translate-context=Info translate>Your email or phone number will not be linked to the account created. It is only used during the signup process. A hash will be saved to prevent abuse of the ProtonMail systems.</p> <div class=humanVerification-block-captcha> <label for=id-signup-radio-captcha class="signup-radio-label humanVerification-label-captcha"> <custom-radio data-custom-ng-model=verificator data-custom-value=captcha data-custom-id=id-signup-radio-captcha></custom-radio> <strong class=signup-radio-label-text>CAPTCHA</strong> </label> </div> <div class=humanVerification-block-email> <label for=id-signup-radio-email class=signup-radio-label> <custom-radio data-custom-ng-model=verificator data-custom-value=email data-custom-id=id-signup-radio-email></custom-radio> <strong class=signup-radio-label-text translate translate-context=Title>Email</strong> </label> </div> <div class=humanVerification-block-sms> <span class="pull-right humanVerification-sms-details">(<a href=# ng-click="whySMS = !whySMS" translate-context=Link translate>Why is this required?</a>)</span> <label for=id-signup-radio-sms class=signup-radio-label> <custom-radio data-custom-ng-model=verificator data-custom-value=sms data-custom-id=id-signup-radio-sms></custom-radio> <strong class=signup-radio-label-text translate translate-context=Title>SMS</strong> </label> </div> <div class=humanVerification-block-donation> <label for=id-signup-radio-donate class=signup-radio-label> <custom-radio data-custom-ng-model=verificator data-custom-value=donation data-custom-id=id-signup-radio-donate></custom-radio> <strong class=signup-radio-label-text translate translate-context=Title>Donate</strong> </label> </div> <div ng-show=whySMS class="spacing-top spacing-bottom"> <div class="alert alert-info" translate-context="About human verification" translate> <p>Too many ProtonMail accounts have been created from your connection.</p> <p>Thus, we are requesting additional verification to ensure you are human and not a spam bot.</p> <p>Because Tor or free VPNs are frequently abused by spammers, this check may be triggered because of the Tor or VPN exit node you are using.</p> </div> </div> <code-verificator data-method=email ng-if="verificator === \'email\'" data-code-retry=model.confirmationType data-code=model.emailCodeVerification class="spacing-top spacing-bottom humanVerification-form-email"></code-verificator> <code-verificator data-method=sms ng-if="verificator === \'sms\'" data-code-retry=model.confirmationType data-code=model.smsCodeVerification class="spacing-top spacing-bottom humanVerification-form-sms"></code-verificator> <captcha ng-if="verificator === \'captcha\'" class=humanVerification-form-captcha></captcha> <donation data-type=donation data-action=humanVerification data-method=currentMethod class="spacing-top humanVerification-form-donation"></donation> <p class="text-center humanVerification-completeSetup"> <button type=submit class="pm_button primary large humanVerification-completeSetup-create" ng-disabled="model.emailCodeVerification === \'\' && model.captcha_token === false && model.smsCodeVerification === \'\'" translate translate-context=Action>Complete setup</button> </p> </div> </div> ')}])}t.exports=n},OtD5:function(t,e){var a=window.angular,n="templates/attachments/eventsAttachments.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="eventsAttachments-container eventsAttachments-hidden"> <details class=eventsAttachments-details ng-repeat="event in model.events track by event.uid"> <summary class=eventsAttachments-summary> <i class="fa fa-calendar"></i> <span class=eventsAttachments-placeholder ng-if=!event.summary translate-context=Info translate>Attached Event</span> <span ng-if=event.summary> <strong>{{ event.summary }}</strong> / {{ ::dateFormat(event) }} </span> </summary> <div ng-if=event.summary class=eventsAttachments-details-wrapper> <table class=eventsAttachments-details-table> <tr ng-if=event.summary> <th scope=row translate translate-context=Info>Summary</th> <td> {{ ::event.summary }} <button class="pm_button link eventsAttachments-download-link" data-event-uid={{event.uid}}> <i class="fa fa-download btnDownloadAttachments-icon-download"></i> <span translate translate-context=Action>Download</span> </button> </td> </tr> <tr ng-if=event.description> <th scope=row translate translate-context=Info>Description</th> <td class=eventsAttachments-description ng-bind=::event.description></td> </tr> <tr> <th scope=row translate translate-context=Info>When</th> <td> {{ ::dateFormat(event, true) }} </td> </tr> <tr ng-if=event.organizer> <th scope=row translate translate-context=Info>Organizer</th> <td><attendee-item data-attendee="{{ ::event.organizer }}"></attendee-item></td> </tr> <tr ng-if=event.attendeesList.length> <th scope=row translate translate-context=Info>Attendees</th> <td> <ul> <li ng-repeat="attendee in event.attendeesList track by $id(attendee)"> <attendee-item data-attendee="{{ ::attendee }}"></attendee-item> </li> </ul> </td> </tr> <tr ng-if=event.location> <th scope=row translate translate-context=Info>Location</th> <td>{{ ::event.location }}</td> </tr> </table> </div> </details> </div> ')}])}t.exports=n},P4p2:function(t,e){!function(t){var e=t.prototype,a=e.parseFromString;try{if((new t).parseFromString("","text/html"))return}catch(n){}e.parseFromString=function(t,e){if(/^\s*text\/html\s*(?:;|$)/i.test(e)){var n=document.implementation.createHTMLDocument("");return t.toLowerCase().indexOf("<!doctype")>-1?n.documentElement.innerHTML=t:n.body.innerHTML=t,n}return a.apply(this,arguments)}}(DOMParser),window._rAF=window._rAF||window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,16)}},P7f5:function(t,e){var a=window.angular,n="templates/partials/conversation-placeholder.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section> <div id=pm_latest class=conversationPlaceholder ng-if=showWelcome> <header translate translate-context=Title>Welcome</header> <section id=storageStatus ng-show="user.UsedSpace > 0"> <div class=wrap> <placeholder-progress></placeholder-progress> <span> <strong>{{ ::user.UsedSpace | percentage:user.MaxSpace }}%</strong> <span translate-context=Info translate>Storage space used.</span> </span> </div> </section> <section ng-if=!isFree> <a href=https://protonmail.com/blog/best-secure-email-app/ target=_blank title-translate="Learn More" title-translate-context=Link> <img src=/assets/img/welcome/mobile.jpg /> </a> </section> <section ng-if=isFree> <a ui-sref="secured.dashboard({scroll: true})" class="text-center latest-upgrade"> <img src=/assets/img/latest/privacy.jpg /> <button type=button class="pm_button primary" translate translate-context=Action>Upgrade account</button> </a> </section> <div class="pm_grid no-padding flex flex-row"> <div class=col-1-2> <section> <a href=https://shop.protonmail.com target=_blank> <img src=/assets/img/welcome/shop.jpg /> </a> </section> </div> <div class=col-1-2> <section> <a href=https://protonmail.com/support/knowledge-base/custom-domain-support/ target=_blank> <img src=/assets/img/welcome/domain.jpg /> </a> </section> </div> </div> </div> <count-elements-selected id=pm_placeholder ng-if=!showWelcome></count-elements-selected> </section> ')}])}t.exports=n},PDpG:function(t,e){var a=window.angular,n="templates/modals/reactivateKeyModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <form class=modal-dialog ng-submit="passwordModalForm.$valid && ctrl.submit()" name=passwordModalForm novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context=Title translate>Reactivate key</h4> </div> <div class="modal-body pm_form"> <div class=multi-line-label> <label ng-if="ctrl.passwordMode === 1" for=password translate translate-context="Label in the modal which ask the user to enter his password or mailbox password">Enter your previous mailbox password from before your account was reset:</label> <label ng-if="ctrl.passwordMode === 2" for=password translate translate-context="Label in the modal which ask the user to enter his password or mailbox password">Enter your previous password from before your account was reset:</label> </div> <input type=password autofocus ng-model=ctrl.password id=password placeholder-translate=Password name=password placeholder-translate-context=Placeholder required/> <div ng-messages=passwordModalForm.password.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate-context=Action translate>Cancel</button> <div class=modal-footer-button> <button type=button ng-click=ctrl.import() class="pm_button link">Upload backup key</button> <button class="pm_button primary" translate-context=Action translate>Submit</button> </div> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},PLun:function(t,e){var a=window.angular,n="templates/modals/exportKeyModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h3 class=modal-title translate translate-context=Title>Export PGP key</h3> </div> <div class=modal-body> <p class="alert alert-info" translate-context=Info translate>Do you want to export the public key or the private key?</p> </div> </div> <div class=modal-footer> <button type=submit class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <div class=modal-footer-button> <button type=button class=pm_button ng-click=ctrl.exportPrivate() translate translate-context=Action>Private key</button> <button type=submit class="pm_button primary" ng-click=ctrl.exportPublic() translate translate-context=Action>Public key</button> </div> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},PNCj:function(t,e){var a=window.angular,n="templates/modals/activateOrganization.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit="activationModalForm.$valid && ctrl.submit()" name=activationModalForm novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title>{{ ctrl.title }}</h4> </div> <div class="modal-body pm_form"> <div class="alert alert-info" ng-show=ctrl.message.length ng-bind-html=ctrl.message></div> <p>{{ ctrl.prompt }}</p> <div class=margin> <password data-autofocus=true data-value=ctrl.inputCode data-id=inputCode placeholder-translate-context=Placeholder placeholder-translate=Password data-name=inputCode data-form=activationModalForm></password> </div> <div class="{{ ctrl.alertClass }}" ng-show=ctrl.alert.length>{{ ctrl.alert }}</div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <div class=modal-footer-button> <button type=button class=pm_button ng-click=ctrl.reset() ng-show=ctrl.showReset translate translate-context=Action>Reset Keys</button> <button type=submit class="pm_button primary" translate translate-context=Action>Submit</button> </div> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"PS/N":function(t,e){var a=window.angular,n="templates/modals/welcome.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{this.class}}" role=dialog style=display:block id=welcomeModal> <form class="modal-dialog modal-sm" name=welcomeModal method=post ng-submit=ctrl.next() novalidate> <div class=modal-content> <div class=modal-header> <h3 class=modal-title translate translate-context=Title>Welcome to ProtonMail</h3> </div> <div class=modal-body> <section class=pm_form> <p class="alert alert-info"> <strong translate translate-context=Title>You now have an encrypted email account!</strong><br/> <span translate translate-context=Info>Below are optional settings you can use to customize your account. You can always find these on your Settings page.</span> </p> <br/> <div class=pm_grid> <div class=col-1-3> <label for=displayName translate-context=Title translate>Display name</label> </div> <div class=col-2-3> <input id=displayName type=text name=displayName ng-model=ctrl.displayName placeholder-translate-context=Placeholder placeholder-translate="Display name"/> <p class=help-block><small translate translate-context=Info>This is the \'From\' name that people will see when you email them.</small></p> </div> </div> </section> <section class=pm_form> <hr/> <div class=pm_grid> <div class=col-1-3> <label translate-context=Label translate>Follow us</label> </div> <div class=col-2-3> <ul class=welcome-socialList-container> <li class=welcome-socialList-item><a class="pm_button round big" target=_blank href=https://twitter.com/ProtonMail><i class="fa fa-twitter"></i></a> </li><li class=welcome-socialList-item><a class="pm_button round big" target=_blank href=https://www.facebook.com/protonmail/ ><i class="fa fa-facebook"></i></a> </li><li class=welcome-socialList-item><a class="pm_button round big" target=_blank href=https://www.instagram.com/protonmail/ ><i class="fa fa-instagram"></i></a> </li><li class=welcome-socialList-item><a class="pm_button round big" target=_blank href=https://www.reddit.com/r/ProtonMail/ ><i class="fa fa-reddit"></i></a> </li><li class=welcome-socialList-item><a class="pm_button round big" target=_blank href=https://github.com/ProtonMail><i class="fa fa-github"></i></a> </li></ul> </div> </div> <div class=pm_grid> <div class=col-1-3> <label translate-context=Label translate>Download App</label> </div> <div class=col-2-3> <ul class=welcome-socialList-container> <li class=welcome-socialList-item><a class="pm_button round big" target=_blank href="https://play.google.com/store/apps/details?id=ch.protonmail.android"><i class="fa fa-android"></i></a></li><li> </li><li class=welcome-socialList-item><a class="pm_button round big" target=_blank href=https://itunes.apple.com/app/protonmail-encrypted-email/id979659905><i class="fa fa-apple"></i></a></li><li> </li></ul> </div> </div> </section> </div> </div> <div class=modal-footer> <button id=confirmModalBtn type=submit class="pm_button primary modal-footer-button" translate translate-context=Action>Finish </button></div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},PSo2:function(t,e){var a=window.angular,n="templates/contact/contactSchemeSelector.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactSchemeSelector-container> <label for=contactSchemeSelector class=contactSchemeSelector-label> <span translate-context="Label for contact Scheme selector" translate>Cryptographic scheme</span> <a href=https://protonmail.com/support/knowledge-base/pgp-mime-pgp-inline/ target=_blank> <i class="fa fa-info-circle text-purple" pt-tooltip-translate-context="Info for contact Scheme selector" pt-tooltip-translate="Select the PGP scheme to be used when signing or encrypting to an user. Note that PGP/Inline forces plain text messages."></i> </a> </label> <span class=pm_select> <select id=contactSchemeSelector ng-model=scheme ng-options="option.label for option in options track by option.value" ng-change=onChange()></select> <i class="fa fa-angle-down"></i> </span> </div> ')}])}t.exports=n},Pbhj:function(t,e){var a=window.angular,n="templates/attachments/btnDownloadAttachments.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<a class=btnDownloadAttachments-container pt-tooltip-translate-context="Download attachments" pt-tooltip-translate="Download all"> <i class="fa fa-cog fa-spin btnDownloadAttachments-icon-loader"></i> <i class="fa fa-download btnDownloadAttachments-icon-download"></i> </a> ')}])}t.exports=n},PnKe:function(t,e){var a=window.angular,n="templates/search/searchContact.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class=searchForm-container name=searchForm novalidate> <div class=search-form-fieldset> <button class=searchForm-action-button-default> <i class="fa fa-search"></i> </button> <input ng-model=query class="search-form-fieldset-input searchInput searchInput-noClearSearch placeholder-white no-outline" type=search autocomplete=off> <button type=reset class=searchForm-action-button-clear> <i class="fa fa-times"></i> </button> </div> </form> ')}])}t.exports=n},Q2ql:function(t,e){var a=window.angular,n="templates/payment/giftCodeInput.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=giftCodeInput-container> <i class="giftCodeInput-icon fa fa-gift"></i> <input type=text id=giftCodeInput class=giftCodeInput-input name=giftCodeInput ng-model=code placeholder=AAAA-BBBB-CCCC-DDDD autocomplete=off required> <div ng-messages=form.giftCodeInput.$error class=giftCodeInput-errors> <p ng-message=required class=giftCodeInput-errors translate-context=Error translate>Field required</p> </div> </div> ')}])}t.exports=n},QNQp:function(t,e){var a=window.angular,n="templates/contact/contactEncryptionModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal contact-encryption-modal" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h4 class=modal-title>{{::ctrl.title}}</h4> </header> <div class=modal-body> <form class=contactDetails-container name=contactForm novalidate> <contact-pgp data-form=ctrl.form data-model=ctrl.model data-email="{{ ctrl.email }}" data-internal-keys=ctrl.internalKeys></contact-pgp> </form> </div> </div> <footer class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate-context=Action translate>Cancel</button> <button class="pm_button modal-footer-button" tabindex=1 ng-click=ctrl.save() ng-disabled="ctrl.internalKeys.RecipientType !== 1 && !ctrl.model.Key[0].value && ctrl.model.Encrypt[0].value"> <span ng-if=ctrl.directSave translate-context=Action translate>Save</span> <span ng-if=!ctrl.directSave translate-context=Action translate>Done</span> </button> </footer> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},Qkon:function(t,e){var a=window.angular,n="templates/settings/chooseRightToLeft.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="chooseTextDirection-container pm_select inline"> <label> <span class=sr-only translate translate-context=Label>Composer Text Direction</span> <select class=chooseTextDirection-select ng-model=model> <option value=0 translate-context=Option translate>Left to Right</option> <option value=1 translate-context=Option translate>Right to Left</option> </select> <i class="fa fa-angle-down"></i> </label> </div> ')}])}t.exports=n},Qo52:function(t,e){var a=window.angular,n="templates/ui/customRadio.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="customRadio-container customMaskInput-container"> <input id=customRadio type=radio class="customRadio-input customMaskInput-input-radio"> <label for=customRadio class="customRadio-mask customMaskInput-mask"></label> </div> ')}])}t.exports=n},QxbR:function(t,e){var a=window.angular,n="templates/command/commandPalette.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class=commandPalette-container novalidate ng-class="{ \'commandPalette-visible\': isVisible }"> <button type=reset class="commandPalette-btn-close fa fa-close"></button> <div class=commandPalette-field> <label for="" class=commandPalette-label>Command</label> <autocomplete-command data-is-visible=isVisible class=commandPalette-input-command></autocomplete-command> </div> </form>')}])}t.exports=n},Ri7z:function(t,e){var a=window.angular,n="templates/contact/contactNoResult.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactNoResult-container> <i class="fa contactNoResult-icon fa-address-book-o"></i> <h3 class="contactNoResult-title contactNoResult-title-empty" translate-context=Info translate>You have no contacts</h3> <h3 class="contactNoResult-title contactNoResult-title-no-result" translate-context=Info translate>No contact found</h3> <div class=contactNoResult-text-block> <span translate-context="You can Add contact or Import contacts" translate>You can</span> <button class="pm_button primary" data-action=add translate-context=Action translate-comment="Add contact button in no result placeholder" translate>Add contact</button> <span translate-context="You can Add contact or Import contacts" translate>or</span> <button class="pm_button contactNoResult-import" data-action=import translate-context=Action translate-comment="Import contacts button in no result placeholder" translate>Import contacts</button> </div> </div> ')}])}t.exports=n},RnhZ:function(t,e,a){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function o(t){var e=r(t);return a(e)}function r(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="RnhZ"},RtZx:function(t,e){var a=window.angular,n="templates/autoresponder/autoresponder.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=autoresponder-container> <section class=pm_form ng-if=!mock> <p class="alert alert-info" translate-context=Info translate>Automatic replies can respond automatically to incoming messages (such as when you are on vacation and can\'t respond).</p> </section> <form name=autoresponderForm novalidate> <div class="pm_grid no-padding no-margin"> <autoresponder-time-section data-mock="{{ ::mock }}" data-form=autoresponderForm></autoresponder-time-section> <section class="pm_form col-1-2" ng-if=model.IsEnabled> <div class=clearfix> <div class=col-1-4> <label for=autoresponder-message translate-context=Label translate>Response</label> </div> <div class=col-3-4> <autoresponder-message data-message=model.Message data-disabled="{{ ::mock }}"></autoresponder-message> </div> </div> </section> </div> <div class="pm_grid no-padding no-margin"> <div class="col-1-8 desktopOnly">&nbsp;</div> <div class=col-7-8> <button class="pm_button primary" id=autoresponder-save ng-if=model.IsEnabled translate-context="Action autoresponder" translate ng-disabled="!isValid() || mock || submitting" type=submit>Save</button> <a href=https://protonmail.com/support/knowledge-base/autoresponder/ target=_blank class="pm_button link" translate-context=Link translate>Learn more</a> </div> </div> </form> </div> ')}])}t.exports=n},S6tf:function(t,e){var a=window.angular,n="templates/modals/twofactor/recoveryCode.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small very-important {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context=Title translate>Two-factor authentication enabled</h4> </div> <div class="modal-body pm_form"> <p class="alert alert-info"> <strong translate-context=Info translate>Important: Please make sure you saved the recovery codes. Otherwise you can permanently lose access to your account if you lose your 2FA device.</strong> <span translate-context=Info translate>If you lose your two-factor-enabled device, these codes can be used instead of the 6-digit 2FA code to log into your account. Each code can only be used once.</span> </p> <div class="pm_grid text-center"> <div class=col-4-8> <ul> <li ng-repeat="c in ctrl.recoveryCodesFirstHalf" ng-bind=c></li> </ul> </div> <div class=col-4-8> <ul> <li ng-repeat="c in ctrl.recoveryCodesSecondHalf" ng-bind=c></li> </ul> </div> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.download() translate translate-context=Action>Download</button> <button type=button class="pm_button primary modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Done</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},S9Fb:function(t,e){var a=window.angular,n="templates/attachments/listAttachments.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=attachmentArea class=listAttachments-container> <header class=listAttachments-header> <span class=title> <strong class=listAttachments-title-size>{{ model.attachmentsSize() | humanSize }}</strong> <span ng-show="model.Attachments.length - model.NumEmbedded > 0" class=listAttachments-title-files> <i class="fa fa-paperclip"></i> {{ model.Attachments.length - model.NumEmbedded }} <span translate translate-n="model.Attachments.length - model.NumEmbedded" translate-plural="files attached" translate-context=Info>file attached</span> </span> <span ng-if="model.NumEmbedded > 0" class=listAttachments-title-embedded> <i class="fa fa-image embedded"></i> {{ model.NumEmbedded }} <span translate translate-context=Info translate-n=model.NumEmbedded translate-plural="embedded images">embedded image</span> </span> <span ng-if=model.Attachments.length class=listAttachments-title-download> <btn-download-attachments data-model=model class=listAttachments-btn-downloadAll></btn-download-attachments> </span> </span> </header> <section class=listAttachments-list> <attachment-element ng-repeat="attachment in model.Attachments track by $id(attachment)" data-attachment=attachment data-message=model> </attachment-element> </section> </div> ')}])}t.exports=n},SaIr:function(t,e){var a=window.angular,n="templates/message/messageResign.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=message-resign-container> <div class=message-resign-notice> <span class=message-resign-notice-text translate-context=Info translate>The message signature could not be verified as the signature on the contact is invalid.</span> <a class=message-resign-notice-link href=https://protonmail.com/support/knowledge-base/sending-a-message-using-pgppgp/ target=_blank translate-context=Action translate>Learn more</a> </div> <button type=button class="message-resign-button pm_button"> <span translate-context=Action translate>RE-SIGN</span> </button> </div> ')}])}t.exports=n},"Sbr+":function(t,e){var a=window.angular,n="templates/modals/squire/addLink.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal important small {{ctrl.class}}" role=dialog> <form method=post class=modal-dialog ng-submit="addLinkModal.$valid && ctrl.submit()" name=addLinkModal data-squire-prevent-close novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title>{{ ::ctrl.formTitle }}</h4> </div> <div class="modal-body pm_form pm_grid"> <add-link link=ctrl.link form=addLinkModal></add-link> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button addLink-cancel-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel </button> <button ng-if=::ctrl.isUpdate type=button class="pm_button modal-footer-button addLink-remove-button" ng-click=ctrl.delete()>{{ ::ctrl.deleteTitle }} </button> <button type=submit class="pm_button primary modal-footer-button addLink-insert-button" ng-disabled="addLinkModal.$valid === false" ng-click=ctrl.submit()>{{ ::ctrl.actionTitle }} </button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},Sdia:function(t,e){var a=window.angular,n="templates/modals/confirm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <form name=confirmForm class=modal-dialog ng-submit=ctrl.confirm() novalidate> <button type=button ng-if=!ctrl.hideClose ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header ng-show=ctrl.title> <h4 class=modal-title> <i ng-if=ctrl.icon class="{{ ::ctrl.icon }}"></i> {{ ctrl.title }} </h4> </div> <div class=modal-body> <div class="no-margin-bottom {{::ctrl.classNameMessage}}" ng-bind-html=::ctrl.message></div> <a href="{{ ::ctrl.learnMore }}" ng-if=ctrl.learnMore target=_blank class="pm_button link" translate-context=Link translate>Learn more</a> </div> </div> <div class=modal-footer> <button id=cancelModalBtn type=button class="pm_button modal-footer-button" ng-click="ctrl.cancel(\'btn\')">{{ ::ctrl.cancelText }}</button> <button id=confirmModalBtn autofocus class="pm_button {{::ctrl.confirmClass}} modal-footer-button">{{ ::ctrl.confirmText }}</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"Sms+":function(t,e){var a=window.angular,n="templates/modals/label.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class="pm_modal small important {{ctrl.class}} labelModal-container" role=dialog id=labelModal> <form class="modal-dialog labelModal-form" name=editLabelForm ng-submit=ctrl.create(editLabelForm)> <button ng-click=ctrl.cancel() type=button aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header ng-show=ctrl.title> <h3 class=modal-title>{{ ::ctrl.title }}</h3> </header> <div class="modal-body pm_form pm_grid"> <div class=row> <label for=labelName class=col-1-4 translate translate-context=Label>Name</label> <div class="col-3-4 ng-message-wrapper"> <input type=text class="form-control labelModal-input-name" autofocus id=labelName name=label data-valid-label ng-model=ctrl.name placeholder-translate-context=Placeholder placeholder-translate=Name required> <div ng-messages=editLabelForm.label.$error role=alert class="text-red labelModal-errors"> <p ng-message=required translate-context=Error translate>You must set a name</p> <p ng-message=validLabel> <span translate-context=Error translate>Invalid name. Forbidden char. ex:</span> &#60;&#62; </p> </div> </div> </div> <div class=row> <label class=col-1-4 translate translate-context=Label>Color</label> <div class=col-3-4> <label-color-selector data-color=ctrl.color></label-color-selector> </div> </div> <div class=row ng-if="ctrl.ID && ctrl.exclusive"> <label for=labelNotify class=col-1-4 translate translate-context=Title translate-comment="Desktop notification">Notification</label> <div class=col-3-4> <toggle status=ctrl.notify id=labelNotify data-id=labelNotify></toggle> </div> </div> </div> </div> <footer class=modal-footer> <button class="pm_button labelModal-btn-cancel modal-footer-button disabled-if-network-activity" type=reset ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button class="pm_button primary modal-footer-button labelModal-btn-save disabled-if-network-activity" translate translate-context=Action>Save</button> </footer> </form> <div class=modal-overlay></div> </section> ')}])}t.exports=n},SzbS:function(t,e){var a=window.angular,n="templates/contact/dropdownGroups.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=dropdownGroups-container> <header class=dropdown-folder-title> <p translate translate-context=title>Add to</p> </header> <label class=dropdown-folder-search> <i class="fa fa-search dropdown-folder-search-icon"></i> <input class=dropdown-folder-search-input type=search placeholder-translate="Filter groups" placeholder-translate-context="Contact group dropdown placeholder" ng-model=searchValue ng-minlength=1> </label> <div class="dropdown-folder-fullwidth scrollbox-container" ng-if="labels.length > 0"> <ul class=scrollbox-container-group> <li class="dropdown-folder-scrollbox-group-item dropdownGroups-item" ng-repeat="label in (filteredLabels = (labels | filter: {Name: searchValue} | orderBy: \'Order\')) track by label.ID"> <label class=dropdownGroups-option-label> <div class=dropdownGroups-option-name> <i class="fa fa-users" ng-style=color(label)></i> <span class="ellipsis dropdownGroups-option-value">{{ label.Name }}</span> </div> <custom-checkbox data-class=dropdownGroups-option-checkbox data-custom-ng-model=label.Selected data-custom-class=scrollbox-container-group-item-empty data-custom-ui-indeterminate="label.Selected === null"></custom-checkbox> </label> </li> <li class=scrollbox-container-group-item-empty ng-if=!filteredLabels.length translate translate-context=Info>no contact group found</li> </ul> </div> <div class=dropdown-folder-create> <button class=dropdown-folder-create-button data-action=create> <span class=dropdown-folder-create-button-inner translate-context=Action translate>Create a new group</span> <i class=dropdown-folder-create-value>{{searchValue}}</i> </button> <button data-action=apply class="pm_button primary dropdown-label-apply" tabindex=1 ng-disabled=networkActivity.loading() translate-context=Action translate>Apply</button> </div> </div> ')}])}t.exports=n},T0rJ:function(t,e){var a=window.angular,n="templates/contact/actionContactGroup.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<button type=button class=actionContactGroup-container></button> ")}])}t.exports=n},T45i:function(t,e){var a=window.angular,n="templates/payment/donation.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form name=donationForm class="pm_form donationForm-container" ng-class="{\n        \'donationForm-method-card\': model.method.value === \'use.card\',\n        \'donationForm-method-payal\': model.method.value === \'paypal\',\n        \'donationForm-method-newcard\': model.method.value === \'card\',\n        \'donationForm-method-cash\': model.method.value === \'cash\'\n    }" data-form-is-invalid novalidate> <p class="alert alert-info donationForm-info" translate-context=Info translate>Donations are added as credit to your ProtonMail account and can be used to purchase account upgrades.</p> <label for=otherAmount translate translate-context=Title>Amount</label> <div class="pm_grid flex flex-mobileShrink donateModal-choose-amount"> <div class=col-1-4> <button type=button class="pm_button fullwidth donationForm-btn-amount" ng-class="{ success: model.amount === 5 }" data-amount=5>5</button> </div> <div class=col-1-4> <button type=button class="pm_button fullwidth donationForm-btn-amount" ng-class="{ success: model.amount === 10 }" data-amount=10>10</button> </div> <div class=col-1-4> <button type=button class="pm_button fullwidth donationForm-btn-amount" ng-class="{ success: model.amount === 25 }" data-amount=25>25</button> </div> <div class=col-1-4> <button type=button class="pm_button fullwidth donationForm-btn-amount" ng-class="{ success: model.amount === 50 }" data-amount=50>50</button> </div> </div> <div class="pm_grid flex flex-mobileShrink donationForm-amount-row-2 donateModal-choose-amount"> <div class=col-1-4> <button type=button class="pm_button fullwidth donationForm-btn-amount" ng-class="{ success: model.amount === 100 }" data-amount=100>100</button> </div> <div class=col-1-4> <button type=button class="pm_button fullwidth donationForm-btn-amount" ng-class="{ success: model.amount === 250 }" data-amount=250>250</button> </div> <div class="col-1-4 donateModal-choose-otheramount"> <input type=number min=2 max=999999 id=otherAmount name=otherAmount ng-model=model.otherAmount ng-focus=onFocusOtherAmount() placeholder-translate-context="Other amount to donate" placeholder-translate=Other> </div> <div class="col-1-4 donateModal-choose-currency"> <div class=pm_select> <select class=donateModal-select-currency ng-model=model.currency ng-options="currency.label for currency in currencies"></select> <i class="fa fa-angle-down"></i> </div> </div> </div> <div class=donateModal-choose-errors ng-messages=donationForm.otherAmount.$error> <p ng-message=number class=text-red translate-context=Error translate>Invalid number</p> <p ng-message=min class=text-red translate-context=Error translate>Due to credit card processing fees, we cannot accept donations smaller than 2.</p> <p ng-message=max class=text-red translate-context=Error translate>Thank you for your willingness to donate. The maximum we can accept in single donations is 999 999 at this moment. Thank you</p> </div> <div class=donationForm-paymentMethod> <label for=paymentMethod translate-context=Title translate>Select payment method:</label> <div class=pm_select> <select id=paymentMethod ng-model=model.method ng-options="method.label for method in methods"></select> <i class="fa fa-angle-down"></i> </div> </div> <p ng-if="model.method.value === \'cash\'" class="donationForm-about-cash alert alert-info" translate-context=Info translate>To pay via Cash, please email us at <strong>contact@protonmail.com</strong> for instructions.</p> <card-view ng-if="model.method.value === \'card\'" class=donationForm-cardView data-card=model.card data-form=donationForm></card-view> <paypal-view ng-if="model.method.value === \'paypal\' && !donationForm.otherAmount.$error.max" data-type={{::type}} data-amount=getAmount() data-currency=model.currency.value data-callback=paypalCallback></paypal-view> <bitcoin-view ng-if="model.method.value === \'bitcoin\'" class=donateModal-bitcoin data-type={{::type}} data-currency=model.currency.value data-amount=getAmount()></bitcoin-view> <footer class="text-center spacing-top donationForm-footer"> <button class="pm_button primary large donationForm-btn-submit disabled-if-network-activity" translate translate-context=Action>complete setup</button> </footer> </form> ')}])}t.exports=n},TEKn:function(t,e){var a=window.angular,n="templates/attachments/attachmentElement.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="listAttachments-att pm_button"> <a data-attachment-id={{::attachment.ID}} class=listAttachments-item ng-class="{ \'dead\': attachment.decrypting, \'remove\': (\'eo.reply\' | includedByState) }" data-download-text="{{ \'Download\' | translate:\'Action\' }}" title="{{ ::attachment.Name }} ({{ ::attachment.Size | humanSize }})"> <em></em> <icon-attachment></icon-attachment> <i class="fa fa-cog fa-spin listAttachments-icon-loader"></i> <i class="fa fa-download listAttachments-icon-download listAttachments-signature-icon"></i> <div class=listAttachments-signature-warning pt-tooltip-translate="Sender verification failed" pt-tooltip-translate-context="Attachment modifier tooltip"> <span class="fa-stack fa-lg"> <i class="fa listAttachments-modifier-shadow fa-warning fa-stack-2x"></i> <i class="fa fa-warning pt-fa-bg-white fa-stack-2x"></i> </span> </div> <div class=listAttachments-unencrypted-warning pt-tooltip-translate="Unencrypted PGP/Inline attachment" pt-tooltip-translate-context="Attachment modifier tooltip"> <span class="fa-stack fa-lg"> <i class="fa listAttachments-modifier-shadow fa-unlock fa-stack-2x"></i> <i class="fa fa-unlock fa-stack-2x"></i> </span> </div> <div class=listAttachments-signature-ok pt-tooltip-translate="Sender verification passed" pt-tooltip-translate-context="Attachment modifier tooltip"> <span class="fa-stack fa-lg"> <i class="fa listAttachments-modifier-shadow fa-circle fa-stack-2x"></i> <i class="fa fa-check-circle pt-fa-bg-white fa-stack-2x"></i> </span> </div> <strong class=name>{{ ::attachment.Name }}</strong> <span class=size>{{ ::attachment.Size | humanSize }}</span> </a> <button data-attachment-id={{::attachment.ID}} class="listAttachments-btn-action-remove removeButton"> <i class="fa fa-times"></i> </button> </div> ')}])}t.exports=n},TRod:function(t,e){var a=window.angular,n="templates/elements/countElementsSelected.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="countElementsSelected-container pm-flex-content-vertical-center"> <i class="fa fa-check-square countElementsSelected-icon"></i> <number-element-selected class=countElementsSelected-title data-number=numberElementChecked></number-element-selected> <div> <button class="pm_button countElementsSelected-btn-unselect conversationPlaceholder-btn-unselect" ng-show="numberElementChecked > 0" translate translate-context=Action>Deselect all</button> </div> </div> ')}])}t.exports=n},TbP7:function(t,e){var a=window.angular,n="templates/modals/feedback.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} feedback" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit=ctrl.submit()> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Feedback form</h4> </div> <div class="modal-body pm_form"> <p translate translate-context=Info>What do you think of ProtonMail version 3.0?</p> <textarea ng-model=ctrl.fdbckTxt placeholder-translate-context="Write a feedback about ProtonMail" placeholder-translate="Your thoughts..."></textarea> <p class="alert alert-info" translate-context=Info translate-comment="feedback modal text" translate><strong>This will only be shown once.</strong> ProtonMail is a global effort. Your feedback is very important in our mission to make encryption available for everyone. Thank You!</p> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.close() translate translate-context=Action>Close</button> <button tabindex=1 type=button class="pm_button primary modal-footer-button" ng-click=ctrl.submit() translate translate-context=Action>Send</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"U+PO":function(t,e){var a=window.angular,n="templates/partials/safari.attachment.warning.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="modal fade" id=safariAttachmentModal tabindex=-1 role=dialog> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <button type=button class=close data-dismiss=modal> <i aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times"></i> <span class=sr-only translate translate-context=Action>Close</span> </button> <h4 class=modal-title translate translate-context=Title>Downloading</h4> </div> <div class=modal-body> <p class="alert alert-info" translate translate-context=Info>Safari does not fully support downloading encrypted attachments.</p> <p translate translate-context=Info>Your attachments are secure and encrypted, but to download them requires extra work. We recommend using a different web browser such as Chrome or Firefox for a better user experience.</p> <p><strong translate translate-context=Info>To download attachments in Safari:</strong></p> <ol> <li translate translate-comment="safari attachment instructions" translate-context=Info>Click your attachment once to decrypt it. Once decryption finishes you will see a download arrow icon appear.</li> <li translate translate-comment="safari attachment instructions" translate-context=Info>Right-click on your attachment and choose \'Download linked file as...\'</li> <li translate translate-comment="safari attachment instructions" translate-context=Info>You will be prompted to save the attachment.</li> <li translate translate-comment="safari attachment instructions" translate-context=Info>Name your attachment from \'unknown\' to the correct name, including the file extension.</li> </ol> <p translate translate-context=Info>For more help please contact us directly: support@protonmail.com</p> </div> <div class=modal-footer> <button type=button data-dismiss=modal class="btn btn-default modal-footer-button" translate translate-context=Action>Close</button> </div> </div> </div> </div> ')}])}t.exports=n},"UI/w":function(t,e){var a=window.angular,n="templates/ui/atomLoader.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=atomLoader> <div class=atomLoader-container> <div class=atomLoader-item></div> <div class=atomLoader-item2></div> <div class=atomLoader-item3></div> <div class=atomLoader-proton></div> </div> <p class=atomLoader-text></p> </div> ")}])}t.exports=n},UShx:function(t,e){var a=window.angular,n="templates/modals/domain/dmarc.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} domains" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <domains-menu-step></domains-menu-step> <span ng-show="ctrl.domain.DmarcState === 0 || ctrl.domain.DmarcState === 1 || ctrl.domain.DmarcState === 2" class="pull-right pm_badge error" translate translate-context="DMARC configuration status badge" translate-comment="DMARC status badge">Not set</span> <span ng-show="ctrl.domain.DmarcState === 3" class="pull-right pm_badge success" translate translate-comment="DMARC status badge" translate-context="DMARC configuration status badge">Set</span> <h4 class=modal-title>7. DMARC <em translate translate-comment="DMARC status badge" translate-context="DMARC configuration status badge">Optional</em><em>, </em><em translate translate-context="DMARC configuration status badge" translate-comment="DMARC status badge">advanced</em></h4> </div> <div class="modal-body pm_form"> <p><span translate translate-context=Info>If you have set both SPF and DKIM, DMARC allows you to specify how other email services should deliver email for your domain if both SPF and DKIM checks have failed. This can make it harder for spammers pretending to be you but may also cause delivery issues if not done properly. Feel free to ignore and skip DMARC unless you really want strict policies such as <strong>p=quarantine</strong> or <strong>p=reject</strong>.</span> <a target=_blank href=https://protonmail.com/support/knowledge-base/anti-spoofing/ translate translate-context=Action>Learn more</a></p> <p translate translate-context=Info>Here is a basic DMARC record that does nothing except email you reports.</p> <div class=pm_table> <table class=record> <tr> <th scope=col style=width:3rem translate translate-context=Title translate-context="table heading">Type</th> <th scope=col style=width:6.5rem translate translate-context=Title translate-context="table heading">Host name</th> <th scope=col style=width:12rem translate translate-context=Title translate-context="table heading">Value / Data / Points to</th> </tr> <tr> <td><code>TXT</code></td> <td><code>_dmarc</code></td> <td><code>v=DMARC1; p=none; rua=mailto:address@yourdomain.com</code></td> </tr> </table> </div> <p class="alert alert-info"><strong>p=none</strong> has no effect on email delivery.</p> <p class="alert alert-info"><strong>address@yourdomain.com</strong> is where you will receive DMARC reports from other email services</p> </div> </div> <div class="modal-footer clearfix"> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.close() translate translate-context=Action>Close</button> <button type=button class="pm_button primary modal-footer-button" ng-click=ctrl.verify() translate translate-context=Action>Finish</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},UvyT:function(t,e){var a=window.angular,n="templates/squire/squireSelectColor.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=squireSelectColor-container> <button type=button class=squireToolbar-action-color pt-tooltip-translate-context=Action pt-tooltip-translate="Change color" data-squire-details=popover.form data-squire-actions=changeColor> <i class="fa fa-font" aria-hidden=true></i> <mark></mark> <i class="fa fa-angle-down"></i> </button> <form novalidate data-squire-popover data-action=changeColor name=changeColor class="squire-popover squire-popover-second squireSelectColor-popover changeColor-hidden"> <color-popover></color-popover> <color-popover data-mode=highlight></color-popover> </form> </div> ')}])}t.exports=n},"V/dF":function(t,e){var a=window.angular,n="templates/message/messagePublicKeyPinning.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=message-pinning-container> <div class=message-pinning-notice> <span class=message-pinning-notice-text translate-context=Info translate>This sender\'s public key has not been trusted yet</span> <button class="pm_button link" data-action=never-show translate-context=Action translate>Never show</button> </div> <button type=button data-action=settings class="message-pin-show-button pm_button" translate-context=Action translate>TRUST KEYS</button> </div> ')}])}t.exports=n},V03A:function(t,e){var a=window.angular,n="templates/user/signupPayForm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=signupPayForm-container> <header class="text-center header signupPayForm-header"> <img class=signupPayForm-header-logo src=/assets/img/logo/logo-purple.svg height=34 /> <h2 class=signupPayForm-header-title> <i class="fa fa-money"></i> <span translate translate-context=Title>Billing Information</span> </h2> <p class=signupPayForm-thanks></p> </header> <hr/> <div class=pm_grid> <div class="col-1-4 bold" translate translate-context=Title>Overview</div> <div class="col-3-4 pm_table"> <table class=print> <tbody> <tr> <th scope=row translate translate-context=Title>Plan</th> <td> <strong class=signupPayForm-plan-name>{{ ::plan.name }}</strong> </td> </tr> <tr> <th scope=row translate translate-context=Title>Billing</th> <td> <strong class=signupPayForm-plan-billing>{{ ::plan.billing }}</strong> </td> </tr> <tr class=signupPayForm-gift-amount-row> <th scope=row translate-context=Title translate>Gift code</th> <td> <strong class="signupPayForm-plan-gift text-green">{{ plan.gift }}</strong> </td> </tr> <tr> <th scope=row translate translate-context=Title>Price</th> <td> <strong class=signupPayForm-plan-price>{{ plan.price }}</strong> </td> </tr> </tbody> </table> </div> </div> <form name=payForm novalidate class=pm_form> <div class=signupPayForm-paymentInfo> <div class="pm_grid margin"> <div class=col-1-2> <label for=paymentMethod translate translate-context=Title translate-comment="form label">Payment method</label> </div> <div class=col-1-2> <div class=pm_select> <select id=paymentMethod ng-model=method ng-change=onPaymentMethodChange() ng-options="method.label for method in methods"></select> <i class="fa fa-angle-down"></i> </div> </div> </div> <div class=pm_grid ng-if="method.value === \'card\'"> <card-view data-card=account.card data-form=payForm></card-view> </div> <div class=pm_grid ng-if="method.value === \'paypal\'"> <paypal-view data-callback=onPaypalSuccess data-currency=payment.Currency data-amount=payment.AmountDue></paypal-view> </div> </div> <div class="pm_grid signupPayForm-gift-row"> <div class="col-1-4 bold"> <label for=giftCodeInput translate-context=Title translate>Gift code</label></div> <div class="col-3-4 signupPayForm-gift-col"> <gift-code-btn data-action=displayGiftSignup></gift-code-btn> <gift-code-input data-code=giftCode data-form=payForm></gift-code-input> <button class="signupPayForm-btn-apply pm_button" type=button translate-context=Action translate>Apply</button> </div> </div> <footer class="text-center signupPayForm-footer"> <button class="pm_button primary large signupPayForm-btn-submit disabled-if-network-activity" type=submit translate translate-context=Action>Submit</button> <button class="pm_button primary large signupPayForm-btn-retry disabled-if-network-activity" type=submit translate translate-context=Action>Retry</button> <button class="pm_button link signupPayForm-btn-cancel disabled-if-network-activity" signup-step-link=3 translate translate-context=Action>Cancel</button> </footer> </form> </div> ')}])}t.exports=n},VKAp:function(t,e){var a=window.angular,n="templates/partials/conversations.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<toolbar-desktop ng-if=!mobileMode></toolbar-desktop> <toolbar-mobile ng-if=mobileMode></toolbar-mobile> <div id=wrapper ng-class="{ hasElementsSelected: numberElementChecked }"> <list-rows ng-if="displayType(\'rows\')"></list-rows> <list-mobile ng-if="displayType(\'mobile\')"></list-mobile> <list-columns ng-if="displayType(\'columns\')"></list-columns> <div id=conversation-view ui-view=view></div> <conversation-placeholder id=pm_view class=columns ng-class="{ \'latest\': !idDefined() }" ng-if="displayType(\'placeholder\')"></conversation-placeholder> </div> ')}])}t.exports=n},VRFI:function(t,e){var a=window.angular,n="templates/contact/contactError.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactError-container> <div class=contactError-item-encrypted> <h2 translate-context=Info translate-comment="errors for contact" translate>Decryption error</h2> <p translate-context=Info translate-comment="errors for contact" translate>Decryption of this content failed</p> <p class=contactError-row> <reactivate-keys-btn type=button data-contact=contact data-action=reactivateKeys class=contactError-action-reactivateKeys></reactivate-keys-btn> <a href=https://protonmail.com/support/knowledge-base/encrypted-contacts/ title="Encrypted Contacts" target=_blank translate-context=Link translate>Learn more</a> </p> </div> <div class=contactError-item-verification> <div class=contactError-content> <h2 translate-context=Info translate-comment="errors for contact" translate>Verification error</h2> <p translate-context=Info translate-comment="errors for contact" translate>Verification of this contents signature failed</p> <p><a href=https://protonmail.com/support/knowledge-base/encrypted-contacts/ title="Encrypted Contacts" target=_blank translate-context=Link translate>Learn more</a></p> </div> <button pt-tooltip-translate="Save the contact with your current keys" pt-tooltip-translate-context=Tooltip type=button data-action=resign class="pm_button contactError-action-resign">Re-Sign</button> </div> </div> ')}])}t.exports=n},VSUr:function(t,e){var a=window.angular,n="templates/layout/auth.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<header-no-auth></header-no-auth> <div id=mainContainer class=container-fluid> <div class=row> <div ui-view=panel></div> </div> </div> ")}])}t.exports=n},Ve96:function(t,e){var a=window.angular,n="templates/views/appearance.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class=settings> <div class="row pm_grid" id=settingsAppearance> <section class="setting pm_form col-1-2"> <header-block class=settingsAppearance-header-composer> <h2 class=settingsAppearance-title-composer translate translate-context=Title>Composer</h2> </header-block> <p class="alert alert-info"><span id=saveComposerModeDescAria translate-context=Info translate>This sets the default composer size. Two sizes are available, a smaller popup composer, and a bigger full screen composer.</span> <a href=https://protonmail.com/support/knowledge-base/composer/ target=_blank translate-context=Action translate-comment="learn more link" translate>Learn more</a></p> <div class="radio col-1-2 multi-line-label"> <label class=visual-label> <custom-radio data-custom-ng-model=appearance.ComposerMode data-custom-ng-value=0 data-custom-ng-change=saveComposerMode(composerMode) data-custom-aria-describedby=saveComposerModeDescAria></custom-radio> <span translate translate-context=Action translate-comment="form option">Popup</span> <span class=visual-label-lineBreak></span> <img src=assets/img/settings/pop.gif alt=""/> </label> </div> <div class="radio col-1-2 multi-line-label"> <label class=visual-label> <custom-radio data-custom-ng-model=appearance.ComposerMode data-custom-ng-value=1 data-custom-ng-change=saveComposerMode(composerMode) data-custom-aria-describedby=saveComposerModeDescAria></custom-radio> <span translate translate-context=Info translate-comment="form option">Maximized</span> <span class=visual-label-lineBreak></span> <img src=assets/img/settings/max.gif alt=""/> </label> </div> </section> <section class="setting pm_form col-1-2"> <header-block class=settingsAppearance-header-layout> <h2 class=settingsAppearance-title-layout translate translate-context=Title>Layout</h2> </header-block> <p class="alert alert-info"><span id=saveLayoutModeDescAria translate-context=Info translate>ProtonMail supports both column and row layouts for the inbox. Using this setting, it is possible to change between the two layouts.</span> <a href=https://protonmail.com/support/knowledge-base/change-inbox-layout target=_blank translate translate-context=Action>Learn more</a></p> <div class="radio col-1-2 multi-line-label"> <label class=visual-label> <custom-radio data-custom-ng-model=appearance.ViewLayout data-custom-ng-value=0 data-custom-ng-change=saveLayoutMode(composerMode) data-custom-aria-describedby=saveLayoutModeDescAria></custom-radio> <span translate translate-context=Info translate-comment="form option">Column</span> <span class=visual-label-lineBreak></span> <img src=/assets/img/settings/col.gif alt=""/> </label> </div> <div class="radio col-1-2 multi-line-label"> <label class=visual-label> <custom-radio data-custom-ng-model=appearance.ViewLayout data-custom-ng-value=1 data-custom-ng-change=saveLayoutMode(composerMode) data-custom-aria-describedby=saveLayoutModeDescAria></custom-radio> <span translate translate-context=Info translate-comment="form option">Row</span> <span class=visual-label-lineBreak></span> <img src=/assets/img/settings/row.gif alt=""/> </label> </div> </section> </div> <div class="row pm_grid"> <section class="setting pm_form col-1-2"> <header-block class=settingsAppearance-header-toolbar> <h2 class=settingsAppearance-title-toolbar translate translate-context=Title>Toolbar</h2> </header-block> <p class="alert alert-info" id=saveButtonsPositionDescAria translate-context=Info translate>Choose your preferred button order for marking messages as read / unread.</p> <div class=toolbar-button-options> <label> <custom-radio data-custom-ng-change=saveButtonsPosition() data-custom-ng-model=appearance.MessageButtons data-custom-ng-value=0 data-custom-aria-describedby=saveButtonsPositionDescAria></custom-radio> <span class="pm_buttons pull-left" pt-tooltip-translate="Mark as read - Mark as unread" pt-tooltip-translate-context=Action> <span class=sr-only translate translate-context=Action>Mark as read - Mark as unread</span> <a href=# class=dead role=presentation tabindex=-1><i class="fa fa fa-eye"></i></a> <a href=# class=dead role=presentation tabindex=-1><i class="fa fa fa-eye-slash"></i></a> </span> </label> <label> <custom-radio data-custom-ng-change=saveButtonsPosition() data-custom-ng-model=appearance.MessageButtons data-custom-ng-value=1 data-custom-aria-describedby=saveButtonsPositionDescAria></custom-radio> <span class="pm_buttons pull-left" pt-tooltip-translate="Mark as unread - Mark as read" pt-tooltip-translate-context=Action> <span class=sr-only translate translate-context=Action>Mark as unread - Mark as read</span> <a href=# class=dead role=presentation tabindex=-1><i class="fa fa fa-eye-slash"></i></a> <a href=# class=dead role=presentation tabindex=-1><i class="fa fa fa-eye"></i></a> </span> </label> </div> </section> <section class="setting pm_form col-1-2"> <header-block class=settingsAppearance-header-conversation> <h2 class=settingsAppearance-title-conversation translate translate-context=Title>Conversation Grouping</h2> </header-block> <p class="alert alert-info" translate-context=Info translate>Conversation Grouping automatically groups messages in the same conversation together.</p> <div class=pm_grid> <div class=col-1-2> <label for=changeViewMode translate-context=Label translate>Use conversation grouping</label> </div> <div class=col-1-2> <toggle status=appearance.viewMode name=changeViewMode data-id=changeViewMode></toggle> </div> </div> <div class=pm_grid ng-show=appearance.viewMode> <div class=col-1-2> <label for=changeStickyLabels> <span translate-context=Label translate>Use sticky labels</span> <i class="fa fa-info-circle" pt-tooltip-translate="When a label is added to a message in a conversation, all future messages you send or receive will have that same label automatically applied." pt-tooltip-translate-context=Tooltip></i> </label> </div> <div class=col-1-2> <toggle status=appearance.stickyLabels name=changeStickyLabels data-id=changeStickyLabels></toggle> </div> </div> </section> </div> <div class="row pm_grid"> <section class="setting pm_form col-1-2"> <form method=post novalidate ng-submit="themeForm.$valid && saveTheme(themeForm)" name=themeForm class=bottomRow> <header-block class=settingsAppearance-header-theme> <h2 class=settingsAppearance-title-theme translate translate-context=Title>Custom theme</h2> </header-block> <div class=margin ng-class="{\'has-error\': (themeForm.cssTheme.$touched || themeForm.$submitted) && themeForm.cssTheme.$error.required}"> <p class="alert alert-info" id=cssThemeDescAria translate-context=Info translate>Custom themes from third-parties can potentially betray your privacy. Only use themes from trusted sources.</p> <label for=cssTheme class=sr-only translate-context=Label translate>Custom theme</label> <textarea class=code placeholder-translate="Paste your CSS code here (limited to 200,000 characters)" placeholder-translate-context="Dashboard, custom theme input" id=cssTheme name=cssTheme ng-model=appearance.cssTheme maxlength=200000 aria-describedby=cssThemeDescAria></textarea> </div> <div class=text-right> <button type=button class=pm_button ng-click=clearTheme() translate-context=Action translate>Reset theme</button> <button type=submit class="pm_button primary" translate-context=Action translate>Save</button> </div> </form> </section> <section class="setting pm_form col-1-2"> <header-block class=settingsAppearance-header-addtheme> <h2 class=settingsAppearance-title-addtheme translate translate-comment="legend / form heading for adding custom CSS theme code" translate-context=Title>Additional themes</h2> </header-block> <p class="alert alert-warning"> <i class="fa fa-exclamation-triangle"></i> <span translate-context=Info translate>Loading themes will override your current theme!</span> </p> <p> <button class=pm_button ng-click=loadThemeClassic() translate-context=Action translate>Load classic theme</button> <button ng-if=false class=pm_button ng-click=enableThemeEdison() translate-context=Action translate>Load edison theme</button> </p> </section> </div> <div class="row pm_grid"> <section class="pm_form col-1-2"> <header-block class=settingsAppearance-header-moved> <h2 class=settingsAppearance-title-moved translate translate-comment="Section heading" translate-context=Title>Sent / Drafts folders appearance</h2> </header-block> <p class="alert alert-info" translate-context="Bubbule info in appearance sent and drafts folders" translate>Setting to \'Include Moved\' means that sent / drafts messages that have been moved to other folders will continue to appear in the Sent/Drafts folder.</p> <moved-select></moved-select> <a href=https://protonmail.com/support/knowledge-base/include-moved-messages target=_blank class="pm_button link" translate-context=Link translate>Learn more</a> </section> <section class="setting pm_form col-1-2"> <header-block class=settingsAppearance-header-addtheme> <h2 class=settingsAppearance-title-addtheme translate translate-comment="Choose the default composer mode" translate-context=Title>Composer mode</h2> </header-block> <p> <choose-composer-mode></choose-composer-mode> </p> </section> </div> <div class="row pm_grid"> <section class="pm_form col-1-2"> <header-block class=settingsAppearance-header-textDirection> <h2 class=settingsAppearance-title-textDirection translate translate-comment="Section heading" translate-context=Title>Composer Text Direction</h2> </header-block> <choose-right-to-left></choose-right-to-left> </section> </div> </div> </div> ')}])}t.exports=n},WEo0:function(t,e){var a=window.angular,n="templates/views/signup.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<signup-user-form class="pm_panel wide signUpProcess-step-1" ng-if="step === 1" data-account=account data-domains=domains></signup-user-form> <div class="pm_panel wide signUpProcess-step-2" ng-show="step === 2"> <div class=text-center> <div class=genNewKeys-loader-container> <atom-loader data-loader-theme=primary></atom-loader> </div> <h2 class=text-center ng-show=!signupError translate translate-context=Title>Generating keys...</h2> </div> <p class=alert translate-context=Info translate>This can take a few seconds or a few minutes depending on your device.</p> </div> <signup-human-form data-account=account class=signUpProcess-step-3 ng-if="!isFromInvitation && step === 3"></signup-human-form> <signup-pay-form data-plans=plans data-payment=payment data-account=account class="pm_panel wide signUpProcess-step-4" ng-if="step === 4"></signup-pay-form> <signup-creation-process class="pm_panel wide signUpProcess-step-5" ng-show="step === 5"></signup-creation-process> <footer id=pm_footer class=static> <app-copyright></app-copyright> </footer> ')}])}t.exports=n},WfVW:function(t,e){var a=window.angular,n="templates/sidebar/sidebarLabels.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div id=sidebarLabels class=sidebarLabels-container ng-scrollbars ng-scrollbars-config=::scrollbarConfig ng-scrollbars-update=updateScrollbar> <div class=labels> <menu-label class=sidebarApp-menu></menu-label> <manage-contact-group-link data-mode=create class=sidebarLabels-manageGroup></manage-contact-group-link> </div> </div> ")}])}t.exports=n},WgLI:function(t,e){var a=window.angular,n="templates/layout/login.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<header-no-auth></header-no-auth> <div class=row> <div ui-view=panel></div> </div> <div id=pm_footer> <p><app-copyright></app-copyright> <app-version></app-version></p> </div> ")}])}t.exports=n},Wssu:function(t,e){var a=window.angular,n="templates/ui/navigation/navigationBlackFriday.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<li class=navigationBlackFriday> <button class="navigationBlackFriday-button navigation-link"> <i class="navigation-icon navigationBlackFriday-icon"></i> <span class=navigation-title></span> </button> </li> ')}])}t.exports=n},"X/lc":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return s}));var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return t|e},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return t^e},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return t&~e},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return(t&e)===e}},XFRG:function(t,e){var a=window.angular,n="templates/contact/contactGroupsDropdown.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="contactGroupsDropdown-container pm_buttons"> <a class="pm_trigger open-folder toolbarDesktop-select-folder" data-dropdown data-dropdown-no-auto-close=true data-dropdown-type={{::type}} ng-class="{disabled: isDisabled()}" pt-tooltip-translate="Add to contact group" pt-tooltip-translate-context="Action toolbar"> <i class="fa fa-users"></i> </a> <div class="pm_dropdown wide contactGroupsDropdown-dropdown"> <dropdown-groups data-type=type data-action=action data-model=model data-contact=contact class=contactGroupsDropdown-folders data-elements=getElements></dropdown-groups> </div> </div> ')}])}t.exports=n},XSdg:function(t,e){var a=window.angular,n="templates/modals/domain/address.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} domains" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <domains-menu-step></domains-menu-step> <h4 class=modal-title>3. <span translate translate-context=Title>Addresses</span> (<em translate-context=Info translate>Required</em>)</h4> </div> <div class="modal-body pm_form"> <p translate-context=Info translate>Please add addresses to send and receive email with this domain</p> <button ng-click=ctrl.addAddress() class="pm_button primary" translate-context=Action translate-comment=button translate>Add Address</button> <button ng-click=ctrl.addMember() ng-show=ctrl.showMember class=pm_button translate-context=Action translate-comment=button translate>Add user</button> <div ng-if="ctrl.domain.Addresses.length > 0"> <p><strong translate translate-context=Title translate-comment="added addesses table label / heading">Domain addresses</strong></p> <div class=pm_table> <table class="pm_form fixedLayout bordered"> <thead> <tr> <th scope=col translate translate-context=Title translate-comment="table heading">User</th> <th scope=col translate translate-context=Title translate-comment="table heading">Address</th> </tr> </thead> <tbody> <tr ng-repeat="address in ctrl.domain.Addresses" ng-class="{\'disabled\': address.Status === 0}"> <td ng-bind=address.Email></td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="modal-footer clearfix"> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.close() translate translate-context=Action>Close</button> <button type=button class="pm_button primary modal-footer-button" ng-click=ctrl.next() ng-show="ctrl.domain.State > 0" translate translate-context=Action>Next</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},XYMp:function(t,e){var a=window.angular,n="templates/dashboard/customProPlanModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <form class="modal-dialog customProPlan-modal" name=customPlanForm ng-submit=ctrl.submit() ng-class="{ \'customProPlan-needMoreMember\': ctrl.needMoreMember }" novalidate> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context="Title for the custom plan modal" translate>Plan Details</h4> </div> <div class=modal-body> <label translate-context="Label in the custom plan modal" translate>Users</label> <div class=pm_grid> <div class=col-3-4> <slider data-value=ctrl.sliders.members.value data-options=ctrl.sliders.members.options></slider> </div> <div class=col-1-4> <strong class="customProPlan-counter customProPlan-members-counter">{{ ctrl.format(\'members\') }}</strong> <button type=button ng-click=ctrl.needMore() class="pm_button link customProPlan-members-link" translate-context=Action translate>Need more users?</button> </div> </div> <label translate-context="Label in the custom plan modal" translate>Total Storage</label> <div class=pm_grid> <div class=col-3-4> <slider data-value=ctrl.sliders.storage.value data-options=ctrl.sliders.storage.options></slider> </div> <div class=col-1-4> <strong class=customProPlan-counter>{{ ctrl.format(\'storage\') }}</strong> </div> </div> <label translate-context="Label in the custom plan modal" translate>Total Addresses</label> <div class=pm_grid> <div class=col-3-4> <slider data-value=ctrl.sliders.addresses.value data-options=ctrl.sliders.addresses.options></slider> </div> <div class=col-1-4> <strong class=customProPlan-counter>{{ ctrl.format(\'addresses\') }}</strong> </div> </div> <p class="alert alert-info" translate-context="Info present in the custom professional plan modal" translate>Each user adds 5GB of storage and 5 addresses to your organization. Professional plans start with 5 addresses included. Storage and addresses can be distributed among users however you wish.</p> </div> </div> <div class=modal-footer> <button type=button ng-click=ctrl.close() class="pm_button modal-footer-button" translate-context=Action translate>Cancel</button> <button tabindex=1 class="pm_button primary modal-footer-button" translate-context=Action translate>Save</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},XvzN:function(t,e){var a=window.angular,n="templates/labels/labelColorSelector.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<ul class=labelColorSelector-container> <li class=labelColorSelector-item ng-repeat="c in colors track by c" ng-style="{ \'color\': c }"> <input tabindex="{{ 2 + $index}}" type=radio value={{::c}} name=paletteColor aria-labelledby="Color {{::c}}" class=labelColorSelector-input-color> <div class=labelColorSelector-item-mask><i class="fa fa-check"></i></div> </li> </ul> ')}])}t.exports=n},XwBX:function(t,e){var a=window.angular,n="templates/contact/contactSignToggle.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactSignToggle-container> <label for=contactSignToggle class=contactSignToggle-label> <span translate-context="Label for contact Sign toggle" translate>Sign</span> </label> <toggle class=small data-id=contactSignToggle data-name=advancedSetting data-type=updateSign data-status=value data-on=ON data-off=OFF></toggle> </div>')}])}t.exports=n},XydG:function(t,e,a){"use strict";a.d(e,"a",(function(){return u})),a.d(e,"d",(function(){return m})),a.d(e,"c",(function(){return g})),a.d(e,"b",(function(){return b}));var n,o=a("lSNA"),r=a.n(o),s=a("cnVF"),l={"tel:":s.rb.PHONE,"mailto:":s.rb.EMAIL,"http://":s.rb.WEB,"https://":s.rb.WEB},i=(n={},r()(n,s.rb.PHONE,{regex:/^tel:/,defaultPrefix:"tel:"}),r()(n,s.rb.EMAIL,{regex:/^mailto:/,defaultPrefix:"mailto:"}),r()(n,s.rb.WEB,{regex:/^http(|s):\/\//,defaultPrefix:"https://"}),n),c=Object.keys(i).map((function(t){return"(".concat(i[t].regex.source,")")})).join("|"),d=new RegExp(c),u=function(t){var e=(t.sort||"").startsWith("-")?"-":"";return{order:""===e?"asc":"desc",sort:(t.sort||"").substr(e.length)}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=d.exec(t)||[];return e[0]},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=p(t);return e&&-1===e.indexOf("http")?t.replace(e,""):t},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://";return l[t]},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=p(t);return f(e)},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.rb.WEB;return i[t]},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.rb.WEB,a=t.trim(),n=v(e),o=n.regex,r=n.defaultPrefix;return""===t?"":o.test(a)?a:"".concat(r).concat(a)}},"Y/rn":function(t,e){var a=window.angular,n="templates/directives/contact/contactPublicKeyLabel.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactPublicKeyLabel-container> <label class=contactPublicKeyLabel-label>{{ ::text }}</label> <button type=button class="pm_button contactPublicKeyLabel-button" data-action=add translate-context=Action translate>Upload key</button> </div> ')}])}t.exports=n},YIcE:function(t,e){var a=window.angular,n="templates/contact/contactPhotoForm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class="contactPhotoForm-container pm_form" name=contactPhotoForm ng-submit=ctrl.submit() novalidate> <div class=pm_grid> <div class=col-1-3> <label for=contactPhotoModal-uri translate-context=Label translate>Add image URL</label> </div> <div class=col-2-3> <input type=url id=contactPhotoModal-uri ng-model=ctrl.uri placeholder-translate-context=Placeholder placeholder-translate="Image URL"> </div> </div> <div class=pm_grid> <div class=col-1-3> <label for=contactPhotoModal-upload translate-context=Label translate>Upload picture</label> </div> <div class=col-2-3> <label for=contactPhotoModal-upload class=contactPhotoModal-input-label translate-context=Action translate>Upload picture</label> <input type=file accept=image/* class=contactPhotoModal-input-file id=contactPhotoModal-upload> </div> </div> </form> ')}])}t.exports=n},YVQz:function(t,e){var a=window.angular,n="templates/bugReport/newBugReport.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button type=button class=newBugReport-container> <div class=newBugReport-wrapper> <i class="newBugReport-icon fa fa-bug sidebarApp-icon"></i> <span translate-context=Action translate>Report bug</span> </div> </button> ')}])}t.exports=n},YdBq:function(t,e){var a=window.angular,n="templates/message/messageContactsIcon.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<span class=messageContacts-icon> <svg class=signed-lock ng-if=\"email.Encryption.substr(-6) === 'pinned'\" viewBox=\"0 0 374.8 337.1\" ng-class=\"{\n        'internal': email.Encryption === 'pgp-pm-pinned',\n        'pgp': email.Encryption === 'pgp-inline-pinned' || email.Encryption === 'pgp-mime-pinned'\n    }\" pt-tooltip=\"{{ ::email.tooltip }}\"> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-lock-signed></use> </svg> <i class=fa ng-if=\"(email.Encryption !== 'none' || email.Authentication !== 'none') && email.Encryption.substr(-6) !== 'pinned'\" ng-class=\"{\n        'text-purple': email.Authentication === 'pgp-pm' || email.Authentication === 'pgp-eo'\n            || email.Encryption === 'pgp-pm' || email.Encryption === 'pgp-eo',\n        'pgp': email.Authentication === 'pgp-inline' || email.Authentication === 'pgp-mime'\n            || email.Encryption === 'pgp-inline' || email.Encryption === 'pgp-mime',\n        'fa-pencil': email.Authentication !== 'none' &&  email.Encryption === 'none',\n        'fa-lock': email.Encryption !== 'none'\n       }\" pt-tooltip=\"{{ ::email.tooltip }}\"></i> </span> ")}])}t.exports=n},Yquj:function(t,e){var a=window.angular,n="templates/ui/dateTimePicker.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_grid no-padding no-margin datetimepicker"> <div class=col-4-8> <div class=input-icon> <em class="fa fa-calendar searchForm-icon"></em> <input class="datepicker always-show-ng-invalid" type=text data-pikaday=model.pikaday data-min-date=minDate ng-model=model.date name={{::datePickerKey}} required ng-disabled=disableInput> </div> </div> <div class="col-4-8 timepicker-container"> <time-picker class=timepicker ng-model=model.time data-event-key="{{ ::timePickerKey }}"></time-picker> </div> <div class="col-1-1 text-red" ng-messages=combineErrors()> <p ng-message=time_required translate-context="Error input" translate>Please enter a valid time.</p> <p ng-message=date_required translate-context="Error input" translate>Please enter a valid date.</p> <p ng-message=both_required translate-context="Error input" translate>Please enter a valid date and time.</p> </div> </div> ')}])}t.exports=n},YrcJ:function(t,e,a){"use strict";a.d(e,"b",(function(){return g})),a.d(e,"e",(function(){return v})),a.d(e,"i",(function(){return b})),a.d(e,"c",(function(){return h})),a.d(e,"a",(function(){return y})),a.d(e,"k",(function(){return w})),a.d(e,"j",(function(){return x})),a.d(e,"f",(function(){return k})),a.d(e,"d",(function(){return A})),a.d(e,"g",(function(){return S})),a.d(e,"h",(function(){return P}));var n=a("RBan"),o=a.n(n),r=a("k4Da"),s=a.n(r),l=a("Rmtg"),i=a.n(l),c=a("S3jF"),d=a.n(c),u=a("btMZ"),p=a("cnVF"),m={applyAttributesTableElements:!1},f={ignore:p.l.filter((function(t){return t.startsWith(".")})).map((function(t){return t.replace(".","")})).concat(/proton-.*/).concat(/protonmail.*/)},g=function(t,e){var a=t;if(a&&e(a))return a;for(;a.parentNode;)if(e(a=a.parentNode))return a},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return d.a.process(i()(t,m),f)}catch(e){return console.error(e),t}},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.style.display=e?"none":""},h=function(t){t.style.display="none",t.offsetHeight,t.style.display=""},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/ src=/g," data-src=")},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/ data-src=/g," src=")},x=function(t,e,a){t.classList.contains(e)===a||t.classList.toggle(e)},k=function(t){return t&&1===t.nodeType},A=function(t){if(!Object(u.m)()||t.firstElementChild)return{first:t.firstElementChild,last:t.lastElementChild,children:t.children};var e=s()(t.childNodes,k);return{first:e[0],last:o()(e),children:e}},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=(new DOMParser).parseFromString(t,"text/html"),a=e.body.childNodes[0];return{isHtml:Array.from(e.body.childNodes).some(k),isWrapped:!!k(a)}},P=function(t,e){return(t.matches||t.msMatchesSelector).call(t,e)}},Z5do:function(t,e){var a=window.angular,n="templates/modals/abuseFraudModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h3 class=modal-title>Account disabled</h3> </div> <div class=modal-body> <div class="alert alert-info"> <p translate-context="Info for the abuse / fraud modal" translate>Account disabled for <a href=https://protonmail.com/support/knowledge-base/account-disabled/ target=_blank>abuse or fraud</a>.</p> <p translate-context="Info for the abuse / fraud modal" translate>You can find more information and <a href=https://protonmail.com/abuse target=_blank>contact us here</a>.</p> </div> </div> </div> <div class=modal-footer> <button tabindex=1 autofocus type=button class="pm_button modal-footer-button" ng-click=ctrl.close() translate translate-context=Action>OK</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},ZJBe:function(t,e){var a=window.angular,n="templates/labels/labelNameInput.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="labelNameInput-container ng-message-wrapper"> <input tabindex=1 type=text class="form-control labelNameInput-input" autofocus id=name name=name data-valid-label data-contact-group-name-validator={{::mode}} ng-model=model.name placeholder-translate-context=Placeholder placeholder-translate=name required> <div ng-messages=form.name.$error role=alert class="text-red labelNameInput-errors"> <p ng-message=required translate-context=Error translate>You must set a name</p> <p ng-message=duplicateGroup translate-context=Error translate>A group with this name already exists.</p> <p ng-message=validLabel> <span translate-context=Error translate>Invalid name. Forbidden char. ex:</span> &#60;&#62; </p> </div> </div> ')}])}t.exports=n},Zak3:function(t,e){var a=window.angular,n="templates/payment/paypalView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="paypal-container margin-top"> <div class="alert alert-danger" ng-if=errorDetails> <div ng-if="errorDetails.validator === \'tokens\'"> <div class=margin-bottom translate-context="PayPal error" translate>Please verify you are human.</div> <button class=pm_button type=button ng-click=retry() translate-context=Action translate>Retry</button> </div> <span ng-if="errorDetails.validator === \'duckduckgo\'" translate-context="PayPal error" translate>The browser you are using does not allow the payment to be fully authorized. Please use a different browser or log in via a computer.</span> <span ng-if="errorDetails.validator === \'min\'" translate-context="Paypal error" translate>Amount below minimum.</span> <span ng-if="errorDetails.validator === \'max\'" translate-context="Paypal error" translate>Amount above the maximum.</span> <span ng-if="errorDetails.validator === \'min\' || errorDetails.validator === \'max\'">({{ errorDetails.amount / 100 }} {{ currency }})</span> </div> <div ng-if=loadingTokens> <loader-tag></loader-tag> </div> <div ng-if=loadingVerification class=text-center> <p translate-context=Info translate>Please verify your PayPal account at the new tab which was opened.</p> <loader-tag></loader-tag> <p translate-context=Info translate>Verification can take a few minutes.</p> </div> <div ng-if="!errorDetails && !loadingTokens && !loadingVerification && !isDonation && !isUpdate"> <p class="alert alert-info" translate-context=Info translate>We will redirect you to PayPal in a new browser tab to complete this transaction. If you use any pop-up blockers, please disable them to continue.</p> <div class=margin-bottom> <button class="pm_button primary" type=button ng-click=openTab(paypalModel) translate-context=Action translate>Check out with PayPal</button> </div> <p class="alert alert-info"> <span translate-context=Info translate>You must have a credit card or bank account linked with your PayPal account. If your PayPal account doesn\'t have that, please</span> <a href=# ng-click=openTab(paypalCreditModel) translate-context=Link translate>click here</a>. </p> </div> <div ng-if="!errorDetails && !loadingTokens && !loadingVerification && isUpdate"> <p class="alert alert-info" translate-context=Info translate>This will enable PayPal to be used to pay for your Proton subscription. We will redirect you to PayPal in a new browser tab. If you use any pop-up blockers, please disable them to continue.</p> <div class=margin-bottom> <button class="pm_button primary" type=button ng-click=openTab(paypalModel) translate-context=Action translate>Add PayPal payment method</button> </div> <p class="alert alert-info" translate-context=Info translate>You must have a credit card or bank account linked with your PayPal account in order to add it as a payment method.</p> </div> <div ng-if="!errorDetails && !loadingTokens && !loadingVerification && isDonation"> <p class="alert alert-info" translate-context=Info translate>We will redirect you to PayPal in a new browser tab to complete this transaction. If you use any pop-up blockers, please disable them to continue.</p> <button class="pm_button primary" type=button ng-click=openTab(paypalCreditModel) translate-context=Action translate>Check out with PayPal</button> </div> </div> ')}])}t.exports=n},ZgED:function(t,e){var a=window.angular,n="templates/modals/organizationRecovery.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{this.class}}" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit=ctrl.submit()> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h3 class=modal-title translate translate-context=Title>Organization recovery password</h3> </div> <div class="modal-body text-center"> <p translate-context=Info translate>Please enter your organization recovery password:</p> <input type=password ng-model=ctrl.password /> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button tabindex=1 type=button class="pm_button primary modal-footer-button" ng-click=ctrl.submit() translate translate-context=Action>Submit</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},ZroT:function(t,e){var a=window.angular,n="templates/views/pgp.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm-pgp class=pm-flex-content> <div class="pm-pgp-main-loader pm-flex-content-vertical-center" ng-if=!content> <loader-tag></loader-tag> <h1 class=text-center translate translate-context=Title>Loading message headers...</h1> </div> <section class=pm-pgp-headers ng-if=content> <header class=pm-flex-content-row> <h1 class=pm-flex-content-fillWidth translate translate-context=Title>Message headers</h1> <button type=button ng-click=download() class=pm_button translate translate-context=Action>Download</button> <button type=button ng-click=print() class=pm_button translate translate-context=Action>Print</button> </header> <pre ng-bind=content></pre> </section> </div> ')}])}t.exports=n},ZyxI:function(t,e){var a=window.angular,n="templates/attachments/iconAttachment.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<span> <i class="listAttachments-icon listAttachments-signature-icon file-outer-icon fa"></i> <i class="listAttachments-icon file-inner-icon fa"></i> </span> ')}])}t.exports=n},ac53:function(t,e){var a=window.angular,n="templates/user/signupUserForm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=signupUserForm-container> <div class="text-center header"> <div> <img class=signupUserForm-header-logo src=/assets/img/logo/logo-purple.svg height=34 /> </div> <h2 class=signupUserForm-header-title> <i class="fa fa-user"></i> <span translate translate-context=Title>Create your account</span> </h2> </div> <form method=post name=accountForm novalidate class=pm_form> <div class="wrapper margin"> <p class="alert alert-info" translate-context=Info translate>Take back your privacy! Creating your secure email account takes less than 2 minutes.</p> <username-domain data-step=1 data-domains=domains data-form=accountForm data-model=account></username-domain> <input type=text name=username autocomplete=off class=hidden> <username-password data-step=2 data-form=accountForm data-model=account.login></username-password> </div> <div class="wrapper margin"> <section class=notificationEmail-container data-step=3> <label class=titleLabel for=notificationEmail> <span translate translate-context=Title>Recovery email (optional)</span> </label> <p class=help translate-context=Info translate>This is used to recover your account if you get locked out or forget your password.</p> <signup-iframe data-mode=bottom></signup-iframe> </section> </div> <button class=hidden translate-context=Action translate>Submit</button> </form> </div> ')}])}t.exports=n},apxP:function(t,e){var a=window.angular,n="templates/modals/payment/modal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<form class=\"paymentsModal-container pm_modal {{::ctrl.class}}\" ng-class=\"{\n        'paymentsModal-enough-credit': !ctrl.valid.AmountDue,\n        'paymentsModal-method-paypal': ctrl.method.value === 'paypal',\n        'paymentsModal-method-card': ctrl.method.value === 'card',\n        'paymentsModal-method-bitcoin': ctrl.method.value === 'bitcoin',\n        'paymentsModal-method-cash': ctrl.method.value === 'cash',\n        'paymentsModal-step-pay': ctrl.step === 'payment',\n        'paymentsModal-step-process': ctrl.step === 'process',\n        'paymentsModal-step-thanks': ctrl.step === 'thanks'\n    }\" name=paymentsModalForm role=dialog novalidate ng-submit=\"paymentsModalForm.$valid && ctrl.submit()\"> <div class=modal-dialog id=paymentsModal> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class=\"fa fa-times close\"></button> <div class=modal-content> <header class=modal-header> <h4 class=\"modal-title paymentsModal-title\" translate translate-context=Title>Payment</h4> </header> <payment-form data-form=paymentsModalForm data-ctrl=ctrl class=\"modal-body paymentsModal-paymentForm\"></payment-form> <div class=\"modal-body text-center paymentsModal-process\"> <p>&nbsp;</p> <p class=\"alert alert-info\" translate translate-context=Info>You're upgrading your account. Once we successfully process payment, we'll immediately upgrade your account. Thanks for choosing to become a paying customer!</p> <p>&nbsp;</p> <p translate translate-context=Info>Your account is being updated, this may take up to 30 seconds.</p> <p>&nbsp;</p> <loader-tag></loader-tag> </div> <div class=\"modal-body text-center paymentsModal-thanks\"> <h3 translate translate-context=Title>Thank you for your subscription!</h3> <p translate translate-context=Info>Your new features are now available.</p> <p><strong translate translate-context=\"Info payment\">Start customizing!</strong></p> <features-list data-ctrl=ctrl></features-list> </div> </div> <div class=\"modal-footer paymentsModal-group-btn\"> <button type=button class=\"pm_button modal-footer-button paymentsModal-btn-cancel\" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=button class=\"pm_button modal-footer-button paymentsModal-btn-close\" ng-click=ctrl.cancel() translate translate-context=Action>Close</button> <button type=submit class=\"pm_button primary modal-footer-button paymentsModal-btn-submit\"> <span ng-if=\"ctrl.method.value !== 'card'\" translate-context=Action translate>Submit</span> <span ng-if=\"ctrl.method.value === 'card'\" translate-context=Action translate>Continue</span> </button> </div> </div> <div class=modal-overlay></div> </form> ")}])}t.exports=n},"b+cR":function(t,e){var a=window.angular,n="templates/core/signupIframe.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=signupIframe-container> <loader-tag class=signupIframe-loader></loader-tag> <div class=signupIframe-iframe></div> <div class=signupIframe-error-message> </div> <div class="alert alert-danger signupIframe-error-message"> <p translate-context=Info translate>Something went wrong, please refresh the page in order to proceed. If you still see this error message please contact our support team.</p> <button class=signupForm-btn-help data-action=help type=button>Contact support team</button> </div> </div> ')}])}t.exports=n},bFFJ:function(t,e){var a=window.angular,n="templates/notifications/base.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=\"proton-notification-template cg-notify-message\" ng-click=$click() ng-class=\"[$classes,\n$position === 'center' ? 'cg-notify-message-center' : '',\n$position === 'left' ? 'cg-notify-message-left' : '',\n$position === 'right' ? 'cg-notify-message-right' : '']\" ng-style=\"{'margin-left': $centerMargin}\" role=alert> <div ng-show=!$messageTemplate ng-class=\"{ 'animated bounceIn' : $classes==='notification-success' }\"> <span>{{ ::$message }}</span> </div> <div ng-show=$messageTemplate class=cg-notify-message-template></div> </div> ")}])}t.exports=n},bWJJ:function(t,e){var a=window.angular,n="templates/message/messageAddressActionMenu.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=messageAddressActionMenu-container> <a class=message-address-trigger dropdown></a> <div class="pm_dropdown noPadding messageAddressActionMenu-dropdown"> <button class=messageAddressActionMenu-btn-compose-to data-action=compose-to> <div class=messageAddressActionMenu-label> <i class="fa fa-envelope-o"></i> <span class=messageAddressActionMenu-label-txt translate translate-context=Action>Compose to</span> </div> </button> <button class="messageAddressActionMenu-btn-add-contact address-no-contact-only" data-action=add-contact> <div class=messageAddressActionMenu-label> <i class="fa fa-user-plus"></i> <span class=messageAddressActionMenu-label-txt translate translate-context=Action>Add to contacts</span> </div> </button> <button class=messageAddressActionMenu-btn-copy-address data-action=contact-copy> <div class=messageAddressActionMenu-label> <i class="fa fa-copy"></i> <span class=messageAddressActionMenu-label-txt translate translate-context=Action>Copy address</span> </div> </button> <button class="messageAddressActionMenu-btn-show-contact address-contact-only" data-action=contact-details> <div class=messageAddressActionMenu-label> <i class="fa fa-address-card-o"></i> <span class=messageAddressActionMenu-label-txt translate translate-context=Action>See contact details</span> </div> </button> <button ng-if="message.isInternal() && !message.isSentByMe()" class=messageAddressActionMenu-btn-pin-public data-action=advanced-settings> <div class=messageAddressActionMenu-label> <i class="fa fa-key"></i> <span class=messageAddressActionMenu-label-txt translate translate-context=Action>Trust Public Keys</span> </div> </button> </div> </div> ')}])}t.exports=n},bY8i:function(t,e){var a=window.angular,n="templates/modals/card.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <form method=post ng-submit="cardForm.$valid && ctrl.submit()" novalidate="" name=cardForm> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Payment details</h4> </div> <div class="modal-body pm_form"> <p class="alert alert-info">{{ ctrl.text }}</p> <card-view ng-if="ctrl.mode === \'edition\'" card=ctrl.card form=cardForm></card-view> <card-panel ng-if="ctrl.mode === \'display\'" ng-click=ctrl.edit() card=ctrl.panel><card-panel> </card-panel></card-panel></div> </div> <div class=modal-footer> <button type=reset class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button disabled-if-network-activity" ng-disabled="ctrl.mode === \'display\'" translate translate-context=Action>Continue</button> </div> </form> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},c0RO:function(t,e){var a=window.angular,n="templates/squire/squireSelectFontSize.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=squireSelectFontSize-container data-squire-dropdown> <div class=squireToolbar-select-view> <button type=button class="squireDropdown-item-label squireToolbar-action-fontSize" data-squire-actions=changeFontSize pt-tooltip-translate-context=Action pt-tooltip-translate="Change font size" translate-context="Font size" translate> <span class=value>14</span> <i class="fa fa-angle-down"></i> </button> </div> <ul class="squireToolbar-select-list squireToolbar-font-size" data-squire-actions=setFontSize data-squire-ignore=true> <li class=squireToolbar-select-item data-value=10>10</li> <li class=squireToolbar-select-item data-value=12>12</li> <li class=squireToolbar-select-item data-value=14>14</li> <li class=squireToolbar-select-item data-value=16>16</li> <li class=squireToolbar-select-item data-value=18>18</li> <li class=squireToolbar-select-item data-value=20>20</li> <li class=squireToolbar-select-item data-value=22>22</li> <li class=squireToolbar-select-item data-value=24>24</li> <li class=squireToolbar-select-item data-value=26>26</li> </ul> </div> ')}])}t.exports=n},cFQX:function(t,e){var a=window.angular,n="templates/contact/contactPlaceholder.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactPlaceholder-container> <count-elements-selected ng-if=!welcomePlaceholder id=pm_placeholder></count-elements-selected> <div ng-if=welcomePlaceholder> <i class="contactPlaceholder-icon fa fa-address-book-o"></i> <p class=contactPlaceholder-message translate-context=Info translate-comment="Message displayed in the contact placeholder section" translate>Click on a contact to view or edit details.</p> </div> </div> ')}])}t.exports=n},cd3K:function(t,e){var a=window.angular,n="templates/partials/conversation-list-mobile.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=conversation-list-mobile class=elementList-container-mobile data-pt-select-multiple-elements> <sticky-messages></sticky-messages> <request-timeout></request-timeout> <no-results ng-if="conversations.length === 0 && elementsLoaded"></no-results> <section class=conversation-wrapper> <div ng-repeat="conversation in conversations track by conversation.ID" class=conversation data-elements-container ng-class="getClassNames(conversation, markedElement)"> <span class=expiration> <svg height=14 width=14 viewBox="0 0 14 14"> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#svg-expiration></use> </svg> </span> <pt-select-element data-index="{{ $index }}"></pt-select-element> <div class=conversation-meta> <div class="row top"> <h4 class=subject> <states-elements></states-elements> <folders-element conversation=conversation></folders-element> <span class=subject-num-message ng-show="conversation.NumMessages > 1">({{ conversation.NumMessages }})</span> <span class="subject-text ellipsis"> {{ conversation.Subject | unescape }} </span> </h4> <span class=meta> <i class="fa fa-paperclip conversation-icon-attachment"></i> <pt-star data-model=conversation class=singleStar></pt-star> <time-element></time-element> </span> </div> <div class="row bottom"> <span class="senders ellipsis" ng-class="{ \'full\': !hasLabels(conversation) }"> <senders-name></senders-name> </span> <labels-element element=conversation></labels-element> </div> </div> </div> </section> <search-limit-reached ng-if="elementsLoaded && limitReached"></search-limit-reached> </div> ')}])}t.exports=n},chTo:function(t,e){var a=window.angular,n="templates/directives/contact/contactPgp.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="contact-pgp-container pm_form"> <p class="alert alert-info pgp-external-only pgp-inline-only" translate translate-context=Info>PGP/Inline is only compatible with Plain Text format. Please note that ProtonMail always signs PGP/Inline messages.</p> <p class="alert alert-info pgp-external-only pgp-mime-only" translate translate-context=Info>PGP/MIME automatically sends the message using the current composer mode. Please note that ProtonMail always signs PGP/MIME messages.</p> <contact-mimetype-selector data-model=model.MIMEType data-form=form></contact-mimetype-selector> <hr> <h5 class="encryption-title pgp-external-only" translate translate-context="Subtitle advanced settings">Configure External PGP (optional)</h5> <h5 class="encryption-title pgp-internal-only" translate translate-context="Subtitle advanced settings">Address Verification with Trusted Keys (optional)</h5> <p class="alert alert-danger pgp-missing-primary enabled-address-only item-has-keys pgp-internal-only" translate-context=Danger translate>Address Verification with Trusted Keys is enabled for this address. To be able to send to this address, first trust public keys that can be used for sending.</p> <p class="disabled-address alert alert-danger" translate-context=Danger translate>This address is disabled. To be able to send to this address, the owner must first enable the address.</p> <p class="alert alert-info pgp-internal-only"> <span translate translate-context=Info>To use Address Verification, you must enable Trusted Keys and trust one or more available public keys, including the primary key for this address. This prevents the encryption keys from being faked.</span> <a href=https://protonmail.com/support/knowledge-base/address-verification/ target=_blank class=link translate-context=Link translate>Learn more</a> </p> <p class="alert alert-info pgp-external-only pgp-not-signed"> <span translate translate-context=Info>Only change these settings if you are using PGP with non-ProtonMail recipients.</span> <a href=https://protonmail.com/support/knowledge-base/how-to-use-pgp/ target=_blank class=link translate-context=Link translate>Learn more</a> </p> <p class="alert alert-danger expired-key-message"> <span translate translate-context=Info>All uploaded keys are expired or revoked! Encryption is automatically disabled.</span> <a href=https://protonmail.com/support/knowledge-base/how-to-use-pgp/ target=_blank class=link translate-context=Link translate>Learn more</a> </p> <contact-encrypt-toggle class=pgp-external-only data-form=form data-model=model.Encrypt></contact-encrypt-toggle> <contact-sign-toggle class=pgp-external-only data-form=form data-model=model.Sign></contact-sign-toggle> <contact-scheme-selector ng-if=isExternal data-form=form data-model=model.Scheme></contact-scheme-selector> <contact-public-keys data-form=form data-model=model.Keys data-email="{{ email }}" data-internal-keys=internalKeys></contact-public-keys> </div> ')}])}t.exports=n},chdq:function(t,e){var a=window.angular,n="templates/modals/domain/verification.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} domains" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <domains-menu-step></domains-menu-step> <span ng-show="ctrl.domain.VerifyState === 0" class="pull-right pm_badge error" translate translate-comment="Verification status badge" translate-context="configuration status badge">Not set</span> <span ng-show="ctrl.domain.VerifyState === 1" class="pull-right pm_badge error" translate translate-comment="Verification status badge" translate-context="MX configuration status badge">Not set properly</span> <span ng-show="ctrl.domain.VerifyState === 2" class="pull-right pm_badge success" translate translate-context="MX configuration status badge" translate-comment="Verification status badge">Good</span> <h4 class=modal-title>2. <span translate translate-context=Title>Verify</span> (<em translate-context="MX configuration status badge" translate>Required</em>)</h4> </div> <div class="modal-body pm_form"> <div> <p translate translate-context=Info>For security reasons, we need to verify that you are the owner of your domain. Please add the following code into your DNS record. <strong>Do not remove it even after successful verification</strong>. This can typically be done in the control panel of your domain name registrar.</p> <p translate translate-context=Info>Please add the following TXT record:</p> <p><a target=_blank href=https://protonmail.com/support/knowledge-base/dns-records/ translate translate-context=Action>Learn more</a></p> <div class=pm_table> <table class=record> <tr> <th scope=col style=width:3rem translate translate-context=Title>Type</th> <th scope=col style=width:6.5rem translate translate-context=Title>Host name</th> <th scope=col style=width:14rem translate translate-context=Title>Value / Data / Points to</th> </tr> <tr> <td><code>TXT</code></td> <td><code>@</code></td> <td><code>{{ ctrl.domain.VerifyCode }}</code></td> </tr> </table> </div> <p class="alert alert-info" translate translate-context=Info>It can take up to a day for DNS changes to update.</p> </div> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.close() translate translate-context=Action>Close</button> <button ng-show="ctrl.domain.VerifyState === 0 || ctrl.domain.VerifyState === 1" class="pm_button primary modal-footer-button" ng-click=ctrl.submit() translate translate-context=Action>Verify</button> <button ng-show="ctrl.domain.State > 0" class="pm_button primary modal-footer-button" ng-click=ctrl.next() translate translate-context=Action>Next</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},cnVF:function(t,e,a){"use strict";a.d(e,"tb",(function(){return n})),a.d(e,"cc",(function(){return o})),a.d(e,"Q",(function(){return r})),a.d(e,"Lb",(function(){return s})),a.d(e,"D",(function(){return l})),a.d(e,"bb",(function(){return i})),a.d(e,"xb",(function(){return c})),a.d(e,"T",(function(){return d})),a.d(e,"U",(function(){return u})),a.d(e,"yc",(function(){return p})),a.d(e,"Cb",(function(){return m})),a.d(e,"g",(function(){return f})),a.d(e,"zc",(function(){return g})),a.d(e,"ab",(function(){return v})),a.d(e,"Ob",(function(){return b})),a.d(e,"Nb",(function(){return h})),a.d(e,"F",(function(){return y})),a.d(e,"i",(function(){return w})),a.d(e,"Rb",(function(){return x})),a.d(e,"eb",(function(){return k})),a.d(e,"G",(function(){return A})),a.d(e,"Gb",(function(){return S})),a.d(e,"E",(function(){return P})),a.d(e,"fc",(function(){return C})),a.d(e,"q",(function(){return E})),a.d(e,"K",(function(){return M})),a.d(e,"S",(function(){return T})),a.d(e,"Bb",(function(){return I})),a.d(e,"p",(function(){return D})),a.d(e,"z",(function(){return _})),a.d(e,"r",(function(){return O})),a.d(e,"W",(function(){return L})),a.d(e,"w",(function(){return N})),a.d(e,"Db",(function(){return $})),a.d(e,"vb",(function(){return R})),a.d(e,"cb",(function(){return j})),a.d(e,"oc",(function(){return F})),a.d(e,"h",(function(){return U})),a.d(e,"mb",(function(){return V})),a.d(e,"dc",(function(){return z})),a.d(e,"ec",(function(){return K})),a.d(e,"Z",(function(){return B})),a.d(e,"X",(function(){return G})),a.d(e,"e",(function(){return q})),a.d(e,"d",(function(){return H})),a.d(e,"wb",(function(){return Y})),a.d(e,"Fb",(function(){return W})),a.d(e,"C",(function(){return X})),a.d(e,"V",(function(){return J})),a.d(e,"gb",(function(){return Z})),a.d(e,"ib",(function(){return Q})),a.d(e,"hb",(function(){return tt})),a.d(e,"Ab",(function(){return et})),a.d(e,"zb",(function(){return at})),a.d(e,"rc",(function(){return nt})),a.d(e,"sc",(function(){return ot})),a.d(e,"gc",(function(){return rt})),a.d(e,"ub",(function(){return st})),a.d(e,"fb",(function(){return lt})),a.d(e,"O",(function(){return it})),a.d(e,"v",(function(){return ct})),a.d(e,"N",(function(){return dt})),a.d(e,"Kb",(function(){return ut})),a.d(e,"Jb",(function(){return pt})),a.d(e,"yb",(function(){return mt})),a.d(e,"jc",(function(){return ft})),a.d(e,"Ib",(function(){return gt})),a.d(e,"m",(function(){return vt})),a.d(e,"db",(function(){return bt})),a.d(e,"I",(function(){return ht})),a.d(e,"J",(function(){return yt})),a.d(e,"o",(function(){return wt})),a.d(e,"M",(function(){return xt})),a.d(e,"s",(function(){return kt})),a.d(e,"u",(function(){return At})),a.d(e,"t",(function(){return St})),a.d(e,"B",(function(){return Pt})),a.d(e,"A",(function(){return Ct})),a.d(e,"x",(function(){return Et})),a.d(e,"qb",(function(){return Mt})),a.d(e,"vc",(function(){return Tt})),a.d(e,"c",(function(){return It})),a.d(e,"uc",(function(){return Dt})),a.d(e,"tc",(function(){return _t})),a.d(e,"Eb",(function(){return Ot})),a.d(e,"Pb",(function(){return Lt})),a.d(e,"lc",(function(){return Nt})),a.d(e,"y",(function(){return $t})),a.d(e,"kb",(function(){return Rt})),a.d(e,"mc",(function(){return jt})),a.d(e,"H",(function(){return Ft})),a.d(e,"Wb",(function(){return Ut})),a.d(e,"Yb",(function(){return Vt})),a.d(e,"Sb",(function(){return zt})),a.d(e,"Mb",(function(){return Kt})),a.d(e,"Tb",(function(){return Bt})),a.d(e,"Y",(function(){return Gt})),a.d(e,"qc",(function(){return qt})),a.d(e,"sb",(function(){return Ht})),a.d(e,"wc",(function(){return Yt})),a.d(e,"pc",(function(){return Wt})),a.d(e,"nb",(function(){return Xt})),a.d(e,"Ub",(function(){return Jt})),a.d(e,"R",(function(){return Zt})),a.d(e,"ic",(function(){return Qt})),a.d(e,"Hb",(function(){return te})),a.d(e,"L",(function(){return ee})),a.d(e,"rb",(function(){return ae})),a.d(e,"P",(function(){return ne})),a.d(e,"f",(function(){return oe})),a.d(e,"b",(function(){return re})),a.d(e,"hc",(function(){return se})),a.d(e,"lb",(function(){return le})),a.d(e,"jb",(function(){return ie})),a.d(e,"Zb",(function(){return ce})),a.d(e,"bc",(function(){return de})),a.d(e,"ac",(function(){return ue})),a.d(e,"nc",(function(){return pe})),a.d(e,"Xb",(function(){return me})),a.d(e,"xc",(function(){return fe})),a.d(e,"kc",(function(){return ge})),a.d(e,"k",(function(){return ve})),a.d(e,"n",(function(){return be})),a.d(e,"j",(function(){return he})),a.d(e,"Vb",(function(){return ye})),a.d(e,"l",(function(){return we})),a.d(e,"pb",(function(){return xe})),a.d(e,"ob",(function(){return ke})),a.d(e,"Qb",(function(){return Ae})),a.d(e,"a",(function(){return Se}));var n="0",o=1,r=2,s=11e3,l=10,i=16,c=4,d="proton:decrypted_token",u="proton:encrypted_password",p=["notify@protonmail.com"],m=255,f=20,g=!0,v=0,b=1,h=2,y=["USD","EUR","CHF"],w=[1,12,24],x="/assets/img/photo-placeholder.png",k="https://protonmail.com/invite",A=3,S=1,P=0,C=1,E=0,M="RSA2048",T={X25519:{curve:"ed25519"},RSA4096:{numBits:4096},RSA2048:{numBits:2048}},I=5e5,D=1,_=1e3,O=1e3,L=50,N=10,$=1e3,R=100,j=5e3,F=6e4,U=1024,V=3,z=0,K=1,B=2,G=2,q=25,H=100,Y=3,W=100,X=100,J={INTERVAL_EVENT_TIMER:3e4,LOOP_DEBOUNCE_MS:500},Z={USER:0,ORGANIZATION:1},Q={OTHER:0,SUBSCRIPTION:1,CANCELLATION:2,CREDIT:3,DONATION:4},tt={UNPAID:0,PAID:1,VOID:2,BILLED:3},et=10,at=5,nt="147, 145, 209",ot="255, 255, 255",rt=3e3,st=672,lt=25,it=50,ct=1e3,dt=1200,ut=800,pt=200,mt=99999900,ft=1546300800,gt=500,vt="1NLTg5PbVKAvfUBte2RmkymsUQGjtY2Z4s",bt="https://secure.protonmail.com",ht="EUR",yt=12,wt="CANCEL_REQUEST",xt="en_US",kt=20,At=50,St=10,Pt="DEFAULT_VALUE",Ct=128,Et="ADD_ADDRESS_MODAL",Mt=51200,Tt="4.0",It="aes256",Dt=["work","home","text","voice","fax","cell","video","pager","textphone","iana-token","x-name","contact","acquaintance","friend","met","co-worker","colleague","co-resident","neighbor","child","parent","sibling","spouse","kin","muse","crush","date","sweetheart","me","agent","emergency"],_t=["key","x-pm-mimetype","x-pm-encrypt","x-pm-sign","x-pm-scheme","x-pm-tls","x-pm-dane"],Ot={FLAG_RECEIVED:1,FLAG_SENT:2,FLAG_INTERNAL:4,FLAG_E2E:8,FLAG_AUTO:16,FLAG_REPLIED:32,FLAG_REPLIEDALL:64,FLAG_FORWARDED:128,FLAG_AUTOREPLIED:256,FLAG_IMPORTED:512,FLAG_OPENED:1024,FLAG_RECEIPT_SENT:2048,FLAG_RECEIPT:16384,FLAG_RECEIPT_REQUEST:65536,FLAG_PUBLIC_KEY:131072,FLAG_SIGN:262144},Lt={TWO_MODE:2,ONE_MODE:1},Nt={PM_SPOOFED:100,DMARC_FAILED:101,PHISHING:102},$t={ENCRYPTED_AND_SIGNED:3,SIGNED:2,ENCRYPTED:1,CLEAR_TEXT:0},Rt={ENCRYPTED_AND_SIGNED:3,ENCRYPTED:2,SIGNED:1,CLEAR_TEXT:0},jt={DELETE:0,CREATE:1,UPDATE:2,UPDATE_DRAFT:2,UPDATE_FLAGS:3},Ft={MONTHLY:1,YEARLY:12,TWO_YEARS:24},Ut={MAIL:1,VPN:2},Vt={TYPE_INTERNAL:1,TYPE_EXTERNAL:2,TYPE_NO_RECEIVE:3},zt={PLAN:{PLUS:"plus",PROFESSIONAL:"professional",VISIONARY:"visionary",VPN_BASIC:"vpnbasic",VPN_PLUS:"vpnplus"},ADDON:{ADDRESS:"5address",MEMBER:"1member",DOMAIN:"1domain",SPACE:"1gb",VPN:"1vpn"}},Kt={SEND_PM:1,SEND_EO:2,SEND_CLEAR:4,SEND_PGP_INLINE:8,SEND_PGP_MIME:16},Bt={PLAN:1,ADDON:0},Gt={white:["#FFFFFF","#DADADA","#B5B5B5","#909090","#6B6B6B","#464646","#222222"],magenta:["#F6CBCB","#EC9798","#E36667","#ED4139","#CF3932","#9A2B25","#681D19"],blue:["#CDE1F2","#9CC3E5","#6CA6D9","#3B83C2","#2A47F6","#145390","#0F3A62"],green:["#D7EAD3","#B3D6A9","#8FC380","#77F241","#66A657","#3A762B","#29501F"],yellow:["#FFF2CD","#FEE59C","#FCD86F","#FDF84E","#F2C246","#BE8F35","#7F6124"]},qt={NOT:0,AVAILABLE:1,OVERDUE:2,DELINQUENT:3,NO_RECEIVE:4},Ht={inbox:"0",allDrafts:"1",allSent:"2",trash:"3",spam:"4",allmail:"5",starred:"10",archive:"6",sent:"7",drafts:"8",search:"search",label:"label"},Yt={NOT_VERIFIED:-1,NOT_SIGNED:0,SIGNED_AND_VALID:1,SIGNED_AND_INVALID:2,SIGNED_NO_PUB_KEY:3},Wt={MILLISECOND:1,SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5},Xt={DIGITAL_SIGNATURE:"https://protonmail.com/support/knowledge-base/digital-signature/",PGP_MIME_INLINE:"https://protonmail.com/support/knowledge-base/pgp-mime-pgp-inline/",STORAGE_WARNING:"https://protonmail.com/support/knowledge-base/increase-my-storage-space/"},Jt='Sent with <a href="https://protonmail.com" target="_blank">ProtonMail</a> Secure Email.',Zt={PGP_MIME:8},Qt={SEND_PM:1,SEND_EO:2,SEND_CLEAR:4,SEND_PGP_INLINE:8,SEND_PGP_MIME:16,SEND_MIME:32},te={MIME:"multipart/mixed",PLAINTEXT:"text/plain",DEFAULT:"text/html"},ee={LINK:"",IMAGE:"",HEADER_CLASS:"h4",IFRAME_CLASS:"angular-squire-iframe"},ae={WEB:"web",EMAIL:"email",PHONE:"phone"},ne={OPEN_TAG_AUTOCOMPLETE:"",CLOSE_TAG_AUTOCOMPLETE:"",OPEN_TAG_AUTOCOMPLETE_RAW:"<",CLOSE_TAG_AUTOCOMPLETE_RAW:">"},oe=["protonmail.com","protonmail.ch","pm.me","gmail.com","hotmail.com","live.com","yahoo.com","outlook.com"],re={ORIGINAL:1,ALIAS:2,CUSTOM_DOMAIN:3,PREMIUM:4},se={ENCRYPTION_ENABLED:1,SIGNING_ENABLED:2,PINNING_ENABLED:4,PGP_MIME:8,PGP_INLINE:16,PM_EO:32,LOADING_CRYPT_INFO:64},le={DISABLED:0,ENABLE_VERIFICATION:1,ENABLE_ENCRYPTION:2},ie=".asc",ce=/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/i,de=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/,ue=/\.(gif|jpe?g|tiff|png)$/i,pe={KEY:"storage_warning",VALUE:"seen",WARNING_LIMIT:90,REACHED_LIMIT:99.99},me=["protonmail.com","protonmail.ch","protonvpn.com","protonstatus.com","gdpr.eu","protonvpn.net","pm.me","protonirockerxow.onion"],fe={INTERVAL:30*Wt.MINUTE},ge=["plus","visionary","plus_vpnplus"],ve=2020,be="BUNDLE",he={PLANS:["plus","plus_vpnplus"],YEAR:ve,COUPON_CODE:"BF2020",CYCLE:Ft.TWO_YEARS,CYCLES:[Ft.TWO_YEARS,Ft.YEARLY],BETWEEN:{START:new Date(Date.UTC(ve,10,16,6)),CYBER_START:new Date(Date.UTC(ve,10,30,6)),CYBER_END:new Date(Date.UTC(ve,11,1,6)),END:new Date(Date.UTC(ve,11,15,6))},INTERVAL:6e5},ye={BETWEEN:{START:new Date(Date.UTC(ve,9,28,6)),END:new Date(Date.UTC(ve,11,15,6))}},we=[".protonmail_quote",".gmail_quote",".yahoo_quoted",".gmail_extra",".moz-cite-prefix","#isForwardContent","#isReplyContent","#mailcontent:not(table)","#origbody","#reply139content","#oriMsgHtmlSeperator",'blockquote[type="cite"]'],xe={MESSAGE:1,CONTACT_GROUP:2},ke=["#7272a7","#8989ac","#cf5858","#cf7e7e","#c26cc7","#c793ca","#7569d1","#9b94d1","#69a9d1","#a8c4d5","#5ec7b7","#97c9c1","#72bb75","#9db99f","#c3d261","#c6cd97","#e6c04c","#e7d292","#e6984c","#dfb286"],Ae={STATUS_PENDING:0,STATUS_CHARGEABLE:1,STATUS_FAILED:2,STATUS_CONSUMED:3,STATUS_NOT_SUPPORTED:4},Se={DIFFERENT_ACCOUNT:"DIFFERENT_ACCOUNT",TOO_EXPENSIVE:"TOO_EXPENSIVE",MISSING_FEATURE:"MISSING_FEATURE",USE_OTHER_SERVICE:"USE_OTHER_SERVICE",OTHER:"OTHER"}},csM4:function(t,e){var a=window.angular,n="templates/message/messageExpiration.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class=messageExpiration-container> <div class=messageExtra-container-notice> <div class=messageExtra-container-notice-text> <span translate-context="Message expiration label" translate>This message will expire in</span> <time time-refreshed="{{ ::message.ExpirationTime }}"></time> </div> </div> </section> ')}])}t.exports=n},cxSZ:function(t,e){var a=window.angular,n="templates/message/trustPublicKeyInfo.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=pm_table> <table class=trust-public-key-info> <thead> <tr> <th scope=col class=fingerprint translate-context=Title translate>Fingerprint</th> <th scope=col class=created translate-context=Title translate>Created</th> <th scope=col class=expires translate-context=Title translate>Expires</th> <th scope=col class=bits translate-context=Title translate>Bits</th> </tr> </thead> <tbody> <tr> <td class=fingerprint> <span class=publickey-info> <code pt-tooltip=\"{{ ::keyInfo.fingerprint }}\">{{ ::keyInfo.fingerprint }}</code> </span> </td> <td class=created>{{ ::keyInfo.created.toLocaleDateString() }}</td> <td class=expires>{{ ::keyInfo.expires ? keyInfo.expires.toLocaleDateString() : '-' }}</td> <td class=bits>{{ ::keyInfo.algType }}</td> </tr> </tbody> </table> </div> ")}])}t.exports=n},dBVP:function(t,e){var a=window.angular,n="templates/dashboard/overviewSection.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<table class=overviewSection-container ng-class="{\n    \'overviewSection-plan-free\': organization.PlanName === \'free\'\n}"> <tbody class=overviewSection-tbody> <tr> <th scope=row translate-context=Title translate>Username</th> <td colspan=2> <strong>{{ user.Name }}</strong> </td> </tr> <tr> <th scope=row translate-context=Title translate>Domains</th> <td> <strong class=overviewSection-domains-name>{{ organization.UsedDomains }} <span translate-context="dashboard page. how many domains exist for an organization as well as the total number allowed." translate>of</span> {{ organization.MaxDomains }}</strong> <strong class=overviewSection-domains-free>0</strong> </td> <td class="text-right actions"> <a ui-sref=secured.domains class="text-purple overviewSection-link-manage" translate-context=Action translate>Manage</a> <a href=# class="text-purple scroll overviewSection-link-upgrade" translate-context=Action translate>Upgrade</a> </td> </tr> <tr> <th scope=row translate-context=Title translate>Addresses</th> <td> <strong class=overviewSection-addresses-total>{{ organization.UsedAddresses }} <span translate-context="dashboard page. how many addresses exist for an organization as well as the total number allowed." translate>of</span> {{ organization.MaxAddresses }}</strong> <strong class=overviewSection-addresses-free>1</strong> </td> <td class="text-right actions"> <a ui-sref="secured.members({ action: \'scroll\' })" class="text-purple overviewSection-link-signatureManager" translate-context=Action translate>Manage</a> <a href=# class="text-purple scroll overviewSection-link-signatureUpgrade" translate-context=Action translate>Upgrade</a> </td> </tr> <tr> <th scope=row translate-context=Title translate>Storage</th> <td colspan=2 class=overviewSection-storage> <strong class=overviewSection-storage-size>{{ organization.UsedSpace | humanSize }} <span translate-context="show used storage for an account" translate>of</span> {{ organization.MaxSpace | humanSize }}</strong> <strong class=overviewSection-storage-free>{{ user.UsedSpace | humanSize }} <span translate-context="show used storage for an account" translate>of</span> {{ user.MaxSpace | humanSize }}</strong> <br> <progress-bar id=storageBar></progress-bar> </td> </tr> </tbody> <tbody class=overviewSection-tbody-billing> <tr> <th scope=row translate-context=Title translate>Credit</th> <td> <strong>{{ (user.Credit || 0) / 100 | currency: user.Currency }}</strong> </td> <td> <donate-btn class=topUp-button data-item=topUp></donate-btn> <gift-code-btn data-action=modal></gift-code-btn> </td> </tr> <tr ng-if=subscription.CouponCode> <th scope=row translate-context=Title translate>Coupon</th> <td colspan=2> <code class=overviewSection-couponCode>{{ subscription.CouponCode }}</code> </td> </tr> </tbody> </table> ')}])}t.exports=n},dLVY:function(t,e){var a=window.angular,n="templates/authentication/twoFaField.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<input autocapitalize=off autocorrect=off autocomplete=off class=TwoFA-input type=text ng-minlength=6 ng-maxlength=8 required> ")}])}t.exports=n},dUrn:function(t,e){var a=window.angular,n="templates/ui/slider.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_grid flex flex-mobileShrink absorbing no-margin slider"> <div class="col- absorbe"> <div class=slider> <div ng-if=options.minPadding class=slider-min-padding></div> <div ng-if=options.maxPadding class=slider-max-padding></div> </div> </div> <div class=col-> <div class="pm_buttons sliderButtons"> <button type=button ng-click=minus()> <i class="fa fa-chevron-left"></i> </button> <button type=button ng-click=plus()> <i class="fa fa-chevron-right"></i> </button> </div> </div> </div> ')}])}t.exports=n},eBTs:function(t,e){var a=window.angular,n="templates/dashboard/addonRow.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=addonRow-container> <div class="pm_select inline addonRow-select-row"> <select class=addonRow-select></select> <i class="fa fa-angle-down"></i> </div> <div class=addonRow-placeholder-row> <span class=addonRow-placeholder></span> <button class="pm_button link addonRow-edit" type=button translate-context=Action translate>Edit</button> </div> </div> ')}])}t.exports=n},eFEk:function(t,e){var a=window.angular,n="templates/contact/autocompleteContactGroup.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="autocompleteEmail-container autocomplete-container autocompleteContactGroup-container ng-message-wrapper"> <input id=autocomplete name=autocomplete type=text ng-value=email.label autofocus autocomplete=off spellcheck=false autocapitalize=off class=autocompleteEmail-input> <div role=alert class="text-red labelNameInput-errors"> <p ng-if=email.isRequired translate-context=Error translate>Name required.</p> <p ng-if=email.doesNotExist translate-context=Error translate>You don\'t have a group with such a name.</p> </div> </div> ')}])}t.exports=n},eIcW:function(t,e){var a=window.angular,n="templates/contact/manageContactGroupModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class="pm_modal manageContactGroupModal-container" ng-submit=ctrl.create() ng-class="{\'manageContactGroupModal-free\': ctrl.isFree}" name=manageContactGroupModal id=groupsContainer novalidate> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h4 class=modal-title><i class="fa fa-users"></i><span translate-context=Title translate>Manage Groups</span></h4> </header> <div ng-class="{\'manageContactGroupModal-hasSelection\': ctrl.hasSelection && ctrl.labels.length}" class=modal-body> <nav class=manageContactGroupModal-nav ng-if="ctrl.labels.length > 1"> <label class=manageContactGroupModal-navLabel> <custom-checkbox data-custom-name=selectAll data-ng-click=ctrl.selectAll() class=manageContactGroupModal-input-checkbox></custom-checkbox> <span class=manageContactGroupModal-navLabel-value translate-context="Manage contact group modal" translate>Select all</span> </label> <button type=button ng-click=ctrl.removeSelection() class="pm_button manageContactGroupModal-action-removeSelection" translate-context=Action translate>Remove selection</button> </nav> <p class="alert alert-info labelsState-msg-info" ng-if=!ctrl.labels.length translate-context=Info translate>You have no contact groups.</p> <ul ng-if=ctrl.labels.length class="labelsState-list pm_sort-container manageContactGroupModal-list" data-as-sortable=ctrl.labelsDragControlListeners is-disabled="ctrl.labels.length === 1" ng-class="{ \'as-sortable-disabled\': ctrl.labels.length === 1 }" data-ng-model=ctrl.labels> <li class="labelsState-item pm_sort-item manageContactGroupModal-item" ng-repeat="label in ctrl.labels track by label.ID" data-color={{label.Color}} data-as-sortable-item> <div class=pm_sort-item-content as-sortable-item-handle> <custom-checkbox class=manageContactGroupModal-input-checkbox data-custom-label-id={{::label.ID}} data-custom-checkbox-event=change data-custom-ng-model=label.selected></custom-checkbox> <div class=manageContactGroupModal-item-info> <i class="labelsState-item-icon fa fa-users" ng-style="{ color: label.Color }"></i> <span class="label label-pm labelsState-item-name ellipsis manageContactGroupModal-info-name">{{label.Name}}</span> <span class=manageContactGroupModal-info-member>{{ ctrl.getNumberMembers(label) }}</span> </div> <div> <action-label-btn data-model=label data-key=group data-action=edit class="pm_button link labelsState-btn-edit"></action-label-btn> <action-label-btn data-model=label data-key=group data-action=remove class="pm_button link text-red labelsState-btn-delete"></action-label-btn> </div> </div> </li> </ul> </div> </div> <footer class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.close() type=button translate-context=Action translate>Close</button> <button ng-if=!ctrl.isFree class="pm_button primary modal-footer-button" tabindex=1 translate-context=Action translate>Create a new contact group</button> </footer> </div> <div class=modal-overlay></div> </form> ')}])}t.exports=n},eKlv:function(t,e){var a=window.angular,n="templates/elements/elementsSelector.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=elements-selector ng-class="{disabled: !conversations.length}"> <div class=elements-selector-check> <label class=elements-selector-label> <custom-checkbox class=elements-selector-label ng-class="{disabled: !conversations.length}" for=selectAll pt-tooltip-translate="Select messages" pt-tooltip-translate-context=Action data-custom-id=selectAll data-custom-name=selectAll data-custom-class="elements-selector-checkbox element-selector-input" data-custom-ng-checked="checkedSelectorState() && conversations.length" data-custom-ng-click=$event.stopPropagation() data-custom-value=all data-custom-pt-select-elements data-custom-ng-disabled=!conversations.length></custom-checkbox> </label> </div> <a class="inheritPadding pm_trigger elements-selector-trigger-dropdown" dropdown ng-class="{disabled: !conversations.length}" ng-if="!idDefined() || viewLayout === 0"> <i class="elements-selector-trigger-dropdown-fa-angle-down fa fa-angle-down"></i> </a> <span class="element-selector-set-scope pm_dropdown"></span> </div> ')}])}t.exports=n},eZQm:function(t,e){var a=window.angular,n="templates/ui/header/headerSecuredMobile.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=headerSecuredMobile-container> <btn-display-mobile-sidebar class=headerSecuredMobile-toggleSidebar></btn-display-mobile-sidebar> <navigation-black-friday></navigation-black-friday> <search-form></search-form> <btn-advanced-search class=headerSecuredMobile-searchBtn></btn-advanced-search> <button class=headerSecuredMobile-compose action-compose action-compose-type=new> <div> <i class="fa fa-pencil"></i> </div> </button> </div> ')}])}t.exports=n},fFX0:function(t,e){var a=window.angular,n="templates/directives/composer/composer-header.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<header data-responsive-composer=message class=composerHeader-container> <span ng-click=unminimize(message); class="subject composerHeader-subject">{{subject(message)}}</span> <div class="composerHeader-actions actions text-right"> <button type=button ng-show=!!!message.minimized class="pm_button link minimize-button hidden-xs composerHeader-btn composer-action-minimize" ng-click=minimize(message) pt-tooltip-translate-context=Action pt-tooltip-translate=Minimize pt-placement=top> <i class="fa fa-minus composerHeader-btn-icon"></i> </button> <button type=button ng-show=!!message.minimized class="pm_button link expand-button hidden-xs composerHeader-btn composer-action-expand" ng-click=unminimize(message) pt-tooltip-translate-context=Action pt-tooltip-translate=Expand pt-placement=top> <i class="fa fa-minus composerHeader-btn-icon"></i> </button> <button type=button ng-show=!!!message.maximized class="pm_button link maximize-button hidden-xs hidden-sm composerHeader-btn composer-action-maximize" ng-click=normalize(message);maximize(message) pt-tooltip-translate-context=Action pt-tooltip-translate=Fullscreen pt-placement=top> <i class="fa fa-expand composerHeader-btn-icon"></i> </button> <button type=button ng-show=!!message.maximized class="pm_button link maximize-button hidden-xs composerHeader-btn composer-action-maximize" ng-click=normalize(message) pt-tooltip-translate-context=Action pt-tooltip-translate="Exit fullscreen" pt-placement=top> <i class="fa fa-compress composerHeader-btn-icon"></i> </button> <button type=button class="pm_button link close-button composerHeader-btn composer-action-close" ng-click=saveAndClose(message) pt-tooltip-translate-context=Action pt-tooltip-translate=Close pt-placement=top> <i class="fa fa-times composerHeader-btn-icon"></i> </button> </div> </header> ')}])}t.exports=n},fZBE:function(t,e){var a=window.angular,n="templates/contact/importCardDropzone.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=importCardDropzone-container> <div class="dropzone dropzone--with-click importCardDropzone-dropzone" id=dropzone></div> <p class="text-center bold importCardDropzone-file">{{ fileDropped }}</p> </div> ')}])}t.exports=n},fZzD:function(t,e){var a=window.angular,n="templates/ui/toolbarDesktop.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<nav class="toolbarDesktop-container pm_toolbar pm_toolbar_withSelector"> <span class="pm_buttons back" ng-if="idDefined() &&  viewLayout === 1"> <a href=# ng-click=back() pt-tooltip-translate="Back to list" pt-tooltip-translate-context=Action> <i class="fa fa-long-arrow-left"></i> <span class=sr-only translate-context=Action translate>Back to list</span> </a> </span> <elements-selector ng-if=displayPaginator() class=toolBar-select-all></elements-selector> <read-unread></read-unread> <move-element></move-element> <div class=pm_buttons> <div id=tour-folder-dropdown class=pm_buttons ng-class="{disabled: isDisabled()}"> <a class="pm_trigger open-folder toolbarDesktop-select-folder" data-dropdown data-dropdown-no-auto-close=true ng-class="{disabled: isDisabled()}" pt-tooltip-translate="Move to" pt-tooltip-translate-context="Action toolbar" tabindex=0 role=button> <i class="fa fa-folder"></i> <i class="fa fa-angle-down"></i> <span class=sr-only translate-context="Action toolbar" translate>Move to</span> </a> <div class="pm_dropdown wide"> <dropdown-folders class=toolbarDesktop-dropdown-folders data-elements=getElements></dropdown-folders> </div> </div> <div id=tour-label-dropdown class=pm_buttons ng-class="{disabled: isDisabled()}"> <a class="pm_trigger open-label toolbarDesktop-select-label" data-dropdown data-dropdown-no-auto-close=true ng-class="{disabled: isDisabled()}" pt-tooltip-translate="Label as" pt-tooltip-translate-context="Action toolbar" tabindex=0 role=button> <i class="fa fa-tag"></i> <i class="fa fa-angle-down"></i> <span class=sr-only translate-context="Action toolbar" translate>Label as</span> </a> <div class="pm_dropdown wide"> <dropdown-labels class=toolbarDesktop-dropdown-labels data-messages=getElements data-save=saveLabels></dropdown-labels> </div> </div> </div> <advanced-filter-element></advanced-filter-element> <div class="pull-right action toolbarDesktop-actions-right"> <choose-layout-btns id=tour-layout></choose-layout-btns> <nav-elements></nav-elements> <paginator ng-if=displayPaginator()></paginator> </div> </nav> ')}])}t.exports=n},fxPf:function(t,e,a){"use strict";a.r(e);var n=a("sEfC"),o=a.n(n),r=a("f0Wu"),s=a.n(r),l=a("/jzl"),i=a.n(l),c=a("+aTx"),d=a.n(c),u=(a("P4p2"),a("hUBx"),a("B0RR"),a("HFJy"),a("/o2Q"),a("IbG+"),a("ySSw"),a("VZTK"),a("LkIK"),a("ZXYR"),a("FzP4"),a("NcOS"),a("imBb"),a("6S0P"),a("VcSt"),a("yNCV"),a("cfI3"),a("y93e"),a("FjRD"),a("WjpJ")),p=a.n(u),m=a("cnVF");function f(t,e,n){var o=function(t){var a=[],o=n.getMaxPage();return 1===(~~e.page||1)&&a.push("".concat("paginator-disabled-","previous")),(n.isMax()||0===t.totalItems)&&a.push("".concat("paginator-disabled-","next")),0!==o&&1!==o&&0!==t.totalItems||a.push("".concat("paginator-disabled-","main")),a.join(" ")},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return p()(1,t+1)},s=function(t){return function(e){return e.preventDefault(),n[t]()}};return{restrict:"E",replace:!0,templateUrl:a("BLP6"),scope:{totalItems:"="},link:function(a,l){var i=t(),c=i.on,d=i.unsubscribe;a.pages=r(n.getMaxPage()),a.page=~~e.page||1;var u=l[0].className;l[0].className+=" ".concat(o(a));var p=l[0].querySelector(".paginator-btn-next"),f=l[0].querySelector(".paginator-btn-previous"),g=l[0].querySelector(".paginator-dropdown-list"),v=s("next"),b=s("previous"),h=function(t){t.preventDefault();var e=t.target;e.classList.contains("paginator-dropdown-item")&&n.to({page:+e.getAttribute("data-value")})};p.addEventListener("click",v,!1),f.addEventListener("click",b,!1),g.addEventListener("click",h,!1),c("app.cacheCounters",(function(t,n){var s=n.type,i=n.data;"refresh.currentState"===s&&a.$applyAsync((function(){a.pages=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.O,a=Math.ceil(t/m.O),n=~~e.page>a?~~e.page:a;return r(n)}(i.value),l[0].className="".concat(u," ").concat(o(a))}))})),a.$on("$destroy",(function(){p.removeEventListener("click",v),f.removeEventListener("click",b),g.removeEventListener("click",h,!1),d()}))}}}f.$inject=["dispatchers","$stateParams","paginationModel"];var g=f;function v(t){return{restrict:"E",replace:!0,templateUrl:a("w/A0"),scope:{page:"=",totalItems:"=",itemsPerPage:"=",change:"="},link:function(e,a,n){var o=t(),r=o.on,s=o.unsubscribe;e.pages=[];var l=function(){e.disableMain=1===Math.ceil(e.totalItems/e.itemsPerPage)||0===e.totalItems,e.disableP=1===e.page||0===e.totalItems,e.disableN=Math.ceil(e.totalItems/e.itemsPerPage)===e.page||0===e.totalItems};e.select=function(t){e.change(t),e.$applyAsync((function(){return l()}))},e.next=function(){return e.change(e.page+1)},e.previous=function(){return e.change(e.page-1)},e.$watch("totalItems",(function(){l(),function(){var t,a=[];t=e.totalItems%e.itemsPerPage==0?e.totalItems/e.itemsPerPage:Math.floor(e.totalItems/e.itemsPerPage)+1;for(var n=1;n<=t;++n)a.push(n);e.pages=a}()})),r("paginatorScope",(function(t,a){var o=a.type,r=a.data,s=void 0===r?{}:r;o===n.type&&e.$applyAsync((function(){e.page=s.page,l()}))})),e.$on("$destroy",s)}}}v.$inject=["dispatchers"];var b=v;function h(t,e){var a=t().on,n=[],o=function(){return n.length=0};return a("$stateChangeStart",(function(t,a,n,r){e.filteredState(r.name)!==e.filteredState(a.name)&&o()})),a("logout",(function(){o()})),{init:angular.noop,add:function(t){return n.push(t)},inside:function(t){return n.indexOf(t)>-1},clear:o,consecutive:function(t){for(var e=t;e>=0;e--)if(-1===n.indexOf(e))return!1;return!0}}}h.$inject=["dispatchers","tools"];var y=h,w=a("lSNA"),x=a.n(w);function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function S(t,e,a,n,o){var r=e().on,s="";r("$stateChangeSuccess",(function(t,e){s=e.name.replace(".element","")}));var l=function(){var e=t.get("cacheCounters"),a=e.getCounter(o.currentLocation());if(o.cacheContext()&&a){var r="unread"===n.filter?"unread":"total",s=o.getTypeList();return Math.ceil(a[s][r]/m.O)}return Math.ceil(e.getCurrentState()/m.O)},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.go(s,A({id:null},t))};return{init:angular.noop,next:function(){var t=(~~n.page||1)+1;t<=l()&&i({page:t})},previous:function(){var t=~~n.page||0;if(t){var e=t-1;i({page:e<=1?void 0:e})}},getMaxPage:l,isMax:function(){return(~~n.page||1)>=l()},to:i}}S.$inject=["$injector","dispatchers","$state","$stateParams","tools"];var P=S;angular.module("proton.paginator",[]).directive("paginator",g).directive("paginatorScope",b).factory("cachePages",y).factory("paginationModel",P);var C=angular.module("proton.paginator").name,E=a("J4zp"),M=a.n(E),T=a("o0o1"),I=a.n(T),D=a("yXPU"),_=a.n(D),O=a("GJL0"),L=a("3rzI"),N=a("szHJ"),R=a("QbOs"),j=a("tutT");U.$inject=["$http","compatApi","url"];var F=function(t){var e=t.UID,a=t.AccessToken;return{headers:{"x-pm-uid":e,Authorization:"Bearer ".concat(a)}}};function U(t,e,a){var n=a.build("auth"),o=function(t){return t.data};return{refresh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.post(n("refresh"),void 0,e)},cookies:function(e,a){var o=e.UID,r=e.AccessToken,s=e.RefreshToken;return t.post(n("cookies"),{UID:o,RefreshToken:s,AccessToken:r,ResponseType:"token",GrantType:"refresh_token",RedirectURI:"https://protonmail.com",State:Object(j.c)(24)},a)},info:function(e){return t.post(n("info"),{Username:e}).then(o)},auth2fa:function(e,a){return t.post(n("2fa"),e,a).then(o)},modulus:function(){return t.get(n("modulus")).then(o)},revoke:function(){return t.delete(n())},sessions:function(){return t.get(n("sessions"))},revokeSession:function(e){return t.delete(n("sessions",e))},revokeOthers:function(){return t.delete(n("sessions"))}}}var V=U,z="LOGIN",K="TOTP",B="U2F",G="UNLOCK",q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t["2FA"].Enabled,a=t.PasswordMode;return{hasTotp:1&e,hasU2F:2&e,hasUnlock:1!==a}},H=function(){var t=_()(I.a.mark((function t(e,a,n){var o,r,s,l,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Object(L.a)(e.Keys,a),r=o.KeySalt,s=o.PrivateKey,!r){t.next=7;break}return t.next=4,Object(N.b)(n,r);case 4:t.t0=t.sent,t.next=8;break;case 7:t.t0=n;case 8:return l=t.t0,t.next=11,Object(R.a)(s,l).catch((function(){var t=new Error("Wrong private key password");throw t.name="PasswordError",t}));case 11:return i=t.sent,t.abrupt("return",{primaryKey:i,keyPassword:l});case 13:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),Y=function(t,e,n,o,r,s,l,i,c,d,u,p,m,f){var g=c,v=d,b=u((function(){return{PASSWORD_ERROR:p.getString("Incorrect decryption password",null,"Error")}})),h=m.track,y=function(a){var n=a.UID,o=a.EventID,s=a.User,l=a.mailboxPassword,i=a.plainMailboxPassword;r.setItem("plainMailboxPass",i),r.setItem("userResult",s),f.setUID(n),f.setPassword(l),e.initialize(o),t.go("secured.inbox")},w=function(t){s.set("isUnlock",t)};return{replace:!0,restrict:"E",templateUrl:a("6JZs"),link:function(t){var e={},a=function(e){t.$applyAsync((function(){t.show=e,w(e===G||"DECRYPTING"===e)}))};t.show=z,t.username="";var r=function(){var t=_()(I.a.mark((function t(o,r){var s,i,c,d,u,p,m,f,g,v,b;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(s=e).authVersion,c=s.authResult,d=c.UID,u=c.AccessToken,p=c.RefreshToken,m=c.EventID,f=M()(s.userSaltResult,1),g=f[0],v=s.password,e=void 0,b=F({UID:d,AccessToken:u}),!(i<N.a)){t.next=6;break}return t.next=6,l.passwordUpgrade({Password:v},{},b);case 6:return t.next=8,n.cookies({UID:d,AccessToken:u,RefreshToken:p},b);case 8:a("DECRYPTING"),y({UID:d,User:g,mailboxPassword:r,plainMailboxPassword:o,EventID:m});case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),s=function(){var t=_()(I.a.mark((function t(a){var n,o,s,l,i,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,o=M()(n.userSaltResult,2),s=o[0],l=o[1].KeySalts,t.next=3,H(s,l,a);case 3:return i=t.sent,c=i.keyPassword,t.abrupt("return",r(a,c));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=_()(I.a.mark((function t(n){var o,l,i,c,d,u,p,m,f,b,h,y,w;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=(o=e).authResult,i=o.authResult,c=i.UID,d=i.AccessToken,u=o.password,p=q(l),m=p.hasTotp,f=p.hasU2F,b=p.hasUnlock,n!==z||!m){t.next=4;break}return t.abrupt("return",a(K));case 4:if(n!==z&&n!==K||!f){t.next=6;break}return t.abrupt("return",a(B));case 6:if(h=F({UID:c,AccessToken:d}),t.t0=e.userSaltResult,t.t0){t.next=12;break}return t.next=11,Promise.all([g.get(h),v.salts(h)]).then((function(t){return e.userSaltResult=t}));case 11:t.t0=t.sent;case 12:if(y=t.t0,w=M()(y,1),0!==w[0].Keys.length){t.next=17;break}return t.abrupt("return",r());case 17:if(!b){t.next=19;break}return t.abrupt("return",a(G));case 19:return t.abrupt("return",s(u));case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=_()(I.a.mark((function t(a){var o,r,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.authResult,r=o.UID,s=o.AccessToken,t.next=3,n.auth2fa({TwoFactorCode:a},F({UID:r,AccessToken:s})).catch((function(t){throw t.canRetryTOTP=422===t.status,t}));case 3:return t.abrupt("return",c(K));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=_()(I.a.mark((function t(a,r){var s,l,i,d;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.info(a);case 2:return s=t.sent,t.next=5,Object(O.a)({api:o,credentials:{username:a,password:r},initalAuthInfo:s});case 5:return l=t.sent,i=l.authVersion,d=l.result,e={authVersion:i,authResult:d,username:a,password:r},t.abrupt("return",c(z));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),p=function(){t.$applyAsync((function(){t.username=e.username})),e={},a(z)};t.onCancel=p,t.onSubmitLogin=function(){var t=_()(I.a.mark((function t(a){var n,o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.username,o=a.password,!m.loading()){t.next=3;break}return t.abrupt("return");case 3:h(u(n,o).catch((function(t){e={},t&&t.message&&!t.status&&i.error(t.message)})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.onSubmitTotp=function(){var t=_()(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.totp,!m.loading()){t.next=3;break}return t.abrupt("return");case 3:h(d(a).catch((function(t){if(!t.canRetryTOTP)return p()})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.onSubmitUnlock=function(){var t=_()(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.password,!m.loading()){t.next=3;break}return t.abrupt("return");case 3:h(s(a).catch((function(t){"PasswordError"!==t.name?p():i.error(b.PASSWORD_ERROR)})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.$on("$destroy",(function(){w(!1),e=void 0}))}}};Y.$inject=["$state","eventManager","authApi","compatApi","tempStorage","AppModel","settingsApi","notification","User","Key","translator","gettextCatalog","networkActivityTracker","authentication"];var W=Y,X=function(t,e){var a=window.location.href.split("/"),n=a[0]+"//"+a[2],o=function a(o){if(o.origin===n){var r=o.data,s=void 0===r?{}:r,l=s.UID,i=s.mailboxPassword;if(l)return window.removeEventListener("message",a),t.setPassword(i),t.setUID(l),e.go("secured.inbox")}};return{restrict:"E",template:"<login-spinner></login-spinner>",link:function(t){window.addEventListener("message",o),window.opener.postMessage("ready",n),t.$on("$destroy",(function(){window.removeEventListener("message",o)}))}}};X.$inject=["authentication","$state"];var J=X,Z=function(t,e,n,o){var r=n((function(){return{USERNAME_PASSWORD_ERROR:e.getString("Please enter your username and password",null,"Login error")}}));return{replace:!0,templateUrl:a("sTW5"),scope:{username:"=",onSubmit:"<",loading:"<"},link:function(e,a){_rAF((function(){return a[0].querySelector(e.username&&e.username.length?"#password":"#username").focus()}));var n=function(t){t.preventDefault(),t.stopPropagation();var a=t.target.username.value.trim(),n=t.target.password.value;if(!a||!n)return o.error(r.USERNAME_PASSWORD_ERROR);e.onSubmit({username:a,password:n})},s=function(e){"help"===e.target.dataset.action&&t.activate({params:{close:function(){t.deactivate()}}})};a.on("click",s),a.on("submit",n),e.$on("$destroy",(function(){a.off("click",s),a.off("submit",n)}))}}};Z.$inject=["helpLoginModal","gettextCatalog","translator","notification"];var Q=Z,tt=function(t,e,n,o){var r=e((function(){return{PASSWORD_ERROR:n.getString("Please enter your mailbox password",null,"Error")}}));return{replace:!0,templateUrl:a("9PIj"),scope:{onSubmit:"<",loading:"<"},link:function(e,a){_rAF((function(){return a[0].querySelector("#mailboxPassword").focus()}));var n=function(t){t.preventDefault(),t.stopPropagation();var a=t.target.mailboxPassword.value;if(!a)return o.error(r.PASSWORD_ERROR);e.onSubmit({password:a})},s=function(e){"reset"===e.target.dataset.action&&t.go("support.reset-password")};a.on("click",s),a.on("submit",n),e.$on("$destroy",(function(){a.off("click",s),a.off("submit",n)}))}}};tt.$inject=["$state","translator","gettextCatalog","notification"];var et=tt,at=function(t,e,n,o){var r=e((function(){return{TWOFA_ERROR:n.getString("Please enter your two-factor passcode",null,"Error")}}));return{replace:!0,templateUrl:a("GY+i"),scope:{onSubmit:"<",loading:"<"},link:function(e,a){_rAF((function(){return a[0].querySelector("#twoFactorCode").focus()}));var n=function(t){t.preventDefault(),t.stopPropagation();var a=t.target.twoFactorCode.value;if(!a)return o.error(r.TWOFA_ERROR);e.onSubmit({totp:a})},s=function(e){"help"===e.target.dataset.action&&t.activate({params:{close:function(){t.deactivate()}}})};a.on("click",s),a.on("submit",n),e.$on("$destroy",(function(){a.off("click",s),a.off("submit",n)}))}}};at.$inject=["helpLoginModal","translator","gettextCatalog","notification"];var nt=at,ot=function(){return{restrict:"E",templateUrl:a("mlzr")}};var rt=function(){return{restrict:"E",replace:!0,templateUrl:a("dLVY")}},st=a("k2fX");mt.$inject=["$q","$injector","AppModel","networkUtils","loggedOutSessions"];var lt=st.a.APP_VERSION_BAD,it=st.a.API_VERSION_INVALID,ct=st.a.API_VERSION_BAD,dt=st.a.API_OFFLINE,ut=st.a.HUMAN_VERIFICATION_REQUIRED,pt=st.a.AUTH_AUTH_ACCOUNT_DISABLED;function mt(t,e,n,o,r){var s={},l=function(t,a,n){if(!t.config||!t.config.noNotify){var o=t.config?t.config.headers["x-pm-uid"]:void 0;r.hasUID(o)||401===t.status&&void 0===o?t.noNotify=!0:(t.noNotify=!0,e.get("notification").error(a,n))}},i=function(){s.notification&&(s.notification.close(),delete s.notification)},c=function(t){if(t&&t.data){var n=t.data,o=t.config,r=void 0===o?{}:o;if(n&&n.Code){var i=n.Error,c=n.Code;if(c===lt)return s.appVersionBad=!0,e.get("notification").closeAll(),e.get("notification").disableClose(),l(t,i,{templateUrl:a("shW4"),duration:"0"});if(c===it)return l(t,s.NOTIFS.nonIntegerVersion);if(c===ct)return l(t,s.NOTIFS.unsupported);if(c===dt)return l(t,s.NOTIFS.offline+i);if(c===ut)return e.get("handle9001")(t.config,n);if(c===pt)return e.get("handle10003")();Array.isArray(r.suppress)&&r.suppress.includes(c)||i&&l(t,i)}}},d=function(t){return/^\/?(templates|assets)\//.test(t)};return{request:function(e){return s.appVersionBad&&!d(e.url)?t.reject({noNotify:!0,config:e,status:-2}):e},response:function(e){return i(),d(e.config.url)||n.set("onLine",!0),e||t.when(e)},responseError:function(a){var r;i(),!s.NOTIFS&&(s.NOTIFS={newVersion:(r=e.get("gettextCatalog")).getString("A new version of ProtonMail is available. Please refresh this page.",null,"Info"),nonIntegerVersion:r.getString("Non-integer API version requested.",null,"Error"),unsupported:r.getString("Unsupported API version.",null,"Error"),offline:r.getString("The ProtonMail API is offline: ",null,"Error"),noInternet:r.getString("No Internet connection found.",null,"Error"),noServer:r.getString("Could not connect to server.",null,"Error"),timeout:r.getString("Request timed out, please try again.",null,"Error"),noReachProton:r.getString("ProtonMail cannot be reached right now, please try again later.",null,"Error")});var d=function(t){if(t&&!o.isCancelledRequest(t)){var a=t.status,r=t.config,i=void 0===r?{}:r;if(0===a||-1===a){var c=e.get("handleTryAgain"),d=e.get("tryAgainModel"),u=i.url,p=i.noOfflineNotify;if(d.check(u)){var m=!0===navigator.onLine?"noServer":"noInternet";p||l(t,s.NOTIFS[m]),n.set("onLine",!1)}return c(t)}}}(a);if(d)return d;var u=function(a){if(a&&a.status){var o=a.status,r=a.config;if(401===o)return e.get("handle401")(a).catch((function(e){return c(e),t.reject(e)}));if(403===o){var i=e.get("unlockUser"),d=e.get("$http");return i().then((function(){return d(r)}))}if(429===o&&!r.url.endsWith("api/auth"))return e.get("handle429")(a).catch((function(e){return c(a),t.reject(e)}));if(504===o)return s.notification=l(a,s.NOTIFS.timeout),n.set("requestTimeout",!0);[408,503].indexOf(a.status)>-1&&(s.notification=l(a,s.NOTIFS.noReachProton))}}(a);if(u)return u;var p=c(a);return p||t.reject(a)}}}var ft=mt;function gt(t){return t({controllerAs:"ctrl",templateUrl:a("KD17"),controller:["params",function(t){this.cancel=t.close}]})}gt.$inject=["pmModal"];var vt=gt;function bt(t,e){return t({controllerAs:"ctrl",templateUrl:a("/kRT"),controller:["params",function(t){var a=this;this.cancel=t.cancel,this.submit=function(){return t.submit(a.password)},this.passwordMode=e.get("PasswordMode"),this.password="",setTimeout((function(){return document.getElementById("password").focus()}),100)}]})}bt.$inject=["pmModal","userSettingsModel"];var ht=bt;function yt(t){return t({controllerAs:"ctrl",templateUrl:a("AswG"),controller:["params",function(t){var e=this;this.loginPassword="",this.twoFactorCode="",this.hasTwoFactor=t.hasTwoFactor,this.submit=function(){return t.submit(e.loginPassword,e.twoFactorCode)},this.cancel=function(){return t.cancel()}}]})}yt.$inject=["pmModal"];var wt=yt,xt=m.Pb.TWO_MODE,kt=m.Pb.ONE_MODE,At=function(t,e,n,o,r){var s=r((function(){var t;return t={},x()(t,xt,{placeholder:o.getString("Login password",null,"Login modal"),label:o.getString("Enter your login password:",null,"Login modal")}),x()(t,kt,{placeholder:o.getString("Password",null,"Login modal"),label:o.getString("Enter your current password:",null,"Login modal")}),t})),l=function(t,e){return s[t][e]};return{scope:{hasTwoFactor:"<",form:"=",twoFactorCode:"=",loginPassword:"="},replace:!0,restrict:"E",templateUrl:a("F4Ji"),link:function(a,o){var r=o[0],s=t.get("PasswordMode"),i=function(t){r.classList[t?"remove":"add"]("hideTwoFactor"),a.twoFactorRequired=!!t};if(void 0===a.hasTwoFactor){var c=e.info().then((function(t){var e=t.TwoFactor;i(1===e)}));n.track(c)}i(a.hasTwoFactor);var d=r.querySelector("#loginPassword");r.querySelector("#loginPasswordLabel").textContent=l(s,"label"),d.placeholder=l(s,"placeholder"),a.$applyAsync((function(){d.focus()}))}}};At.$inject=["userSettingsModel","authApi","networkActivityTracker","gettextCatalog","translator"];var St=At,Pt=a("aiVD");function Ct(t,e,a,n,o,r,s,l,i,c,d,u,p,m,f,g,v,b){var h=i(["setUser"]).dispatcher,y=function(){var t=_()(I.a.mark((function t(n){var o,r,l,i,c,d,p,m,f,g;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,t.t0){t.next=5;break}return t.next=4,u.get();case 4:t.t0=t.sent;case 5:if(0!==(o=t.t0).Keys.length){t.next=9;break}return e.go("login.setup"),t.abrupt("return",o);case 9:return r=o.OrganizationPrivateKey,o.subuser=!!r,o.DisplayName||(o.DisplayName=o.Name),l=L.getPassword(),t.next=15,Promise.all([a.get("addressesModel").fetch(o),r?Object(R.a)(r,l):void 0,a.get("settingsApi").fetch(),a.get("settingsMailApi").fetch(),a.get("contactEmails").load()]);case 15:return i=t.sent,c=M()(i,2),d=c[0],p=c[1],m=o.subuser,t.next=22,v({user:o,addresses:d,organizationKey:p,mailboxPassword:l,isSubUser:o.subuser});case 22:return f=t.sent,g=f.keys,t.next=26,s.storeKeys(g);case 26:if(m){t.next=29;break}return t.next=29,b(d,l);case 29:return t.abrupt("return",o);case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=_()(I.a.mark((function t(e){var a,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.a)({api:p,credentials:e});case 2:return a=t.sent,n=a.result,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=_()(I.a.mark((function t(e){var a,o,r,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:return a=t.sent,o=a.UID,r=a.AccessToken,s=a.RefreshToken,t.next=8,n.cookies({UID:o,AccessToken:r,RefreshToken:s},F({UID:o,AccessToken:r}));case 8:D(o);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=_()(I.a.mark((function t(){var a,n,o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=f.getItem("plainMailboxPass"),n=f.getItem("userResult"),t.next=5,l.track(y(n));case 5:if(o=t.sent,L.user=o,h.setUser(),!a||o.OrganizationPrivateKey||r(o)){t.next=12;break}return m.set("upgradingKeys",!0),t.next=12,g({plainMailboxPass:a,oldSaltedPassword:L.getPassword(),user:o}).catch((function(t){console.error(t)}));case 12:return t.abrupt("return",o);case 15:throw t.prev=15,t.t0=t.catch(0),t.t0&&401===t.t0.status?e.go("login",void 0,{reload:!0}):(e.current.name.includes("login")?e.go("login",void 0,{reload:!0}):e.go("login.down",void 0,{location:!1}),console.error(t.t0)),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),A=function(e){t.defaults.headers.common["x-pm-uid"]=e},S=c.setUID,P=c.getUID,C=c.setPassword,E=c.getPassword,T=c.hasSession,D=function(t){S(t),A(t)},L={user:{},setUID:D,getUID:P,setPassword:function(t){this.user&&this.user.OrganizationPrivateKey||C(t)},getPassword:E,detectAuthenticationState:function(){var t=P();t&&A(t)},existingSession:T,isLoggedIn:T,login:w,loginWithCookies:x,hasPaidMail:function(){return 1&this.user.Subscribed},hasPaidVpn:function(){return 4&this.user.Subscribed},isPrivate:function(){return 1===this.user.Private},logout:function(t){var a=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=c.getUID();s&&o.addUID(s);var l=function(){a.clearData(),!0===t&&e.go("login")};m.set("loggingOut",!0),r&&s?n.revoke().then(l,l):l()},clearData:function(){try{Object(Pt.a)(),Object(Pt.b)(),t.defaults.headers.common["x-pm-session"]=void 0,t.defaults.headers.common.Authorization=void 0,t.defaults.headers.common["x-pm-uid"]=void 0,d.reset(),f.clear(),L.loggedIn=!1,this.user={},window.onbeforeunload=void 0,m.set("loggingOut",!1),m.set("loggedIn",!1),m.set("isLoggedIn",!1),m.set("isSecure",!1),a.get("contactEmails").clear()}catch(e){}},fetchUserInfo:k};return L}Ct.$inject=["$http","$state","$injector","authApi","loggedOutSessions","checkKeysFormat","keysModel","networkActivityTracker","dispatchers","authenticationStore","secureSessionStorage","User","compatApi","AppModel","tempStorage","upgradeKeys","decryptKeys","activateKeys"];var Et=Ct,Mt=a("QILm"),Tt=a.n(Mt);function It(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Dt(t,e){return function(a){var n=a.url,o=Tt()(a,["url"]),r=e.get(),s=n.startsWith(r)?n:"".concat(r,"/").concat(n);return t(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?It(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({url:s},o)).then((function(t){return t.data}))}}Dt.$inject=["$http","url"];var _t=Dt,Ot=a("zdiy"),Lt=a.n(Ot);Rt.$inject=["$http","$q","authentication","authApi"];var Nt=st.a.AUTH_COOKIES_REFRESH_INVALID,$t=st.a.AUTH_REFRESH_TOKEN_INVALID;function Rt(t,e,a,n){var o=null,r=function(){return o=null},s=function(){r(),a.logout(!0,!1)};return function(l){return a.existingSession()?(o||(o=n.refresh({suppress:[Nt,$t]}).then(r).catch((function(t){return t.status>=400&&t.status<=499&&429!==t.status?(s(),e.reject(l)):e.reject(t)}))),o.then((function(){return e=l.config,Lt()(e.headers,t.defaults.headers.common),t(e);var e}))):(s(),e.reject(l))}}var jt=Rt,Ft=a("6R14");function Ut(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Vt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ut(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function zt(t){return function(e){var a=e.config.retryAttempt||0,n=parseInt(e.headers("retry-after"),10);if(!n||n<=0||n>=m.Ab||a>=m.zb)return Promise.reject(e);var o=1e3*n,r=Vt(Vt({},e.config),{},{retryAttempt:a+1});return Object(Ft.c)(o).then((function(){return t(r)}))}}zt.$inject=["$http"];var Kt=zt;function Bt(t,e,a){return function(){var n=function(){var o=_()(I.a.mark((function o(){var r,s,l;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e(!1);case 2:return r=o.sent,s=r.password,l=t.unlock({Password:s}),o.abrupt("return",a.track(l).catch(n));case 6:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();return n()}}Bt.$inject=["User","askPassword","networkActivityTracker"];var Gt=Bt;function qt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ht(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Yt(t,e){return function(a,n){var o=n.Details,r=void 0===o?{}:o,s=r.HumanVerificationMethods,l=void 0===s?[]:s,i=r.HumanVerificationToken,c=["GET","DELETE"].includes(a.method);return new Promise((function(n,o){e.activate({params:{methods:l,token:i,close:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.deactivate(),r?n(t(Ht(Ht({},a),{},x()({headers:Ht(Ht({},a.headers),{},{"X-PM-Human-Verification-Token":r.Token,"X-PM-Human-Verification-Token-Type":r.TokenType})},c?"params":"data",Ht({},a[c?"params":"data"]||{}))))):o({})}}})}))}}Yt.$inject=["$http","humanVerificationModal"];var Wt=Yt;function Xt(t){return function(){t.activate({params:{close:function(){t.deactivate()}}})}}Xt.$inject=["abuseFraudModal"];var Jt=Xt;function Zt(t,e,a){return function(n){var o=n.config.url;return a.check(o)?(a.remove(o),e.reject(n)):(a.add(o),t(n.config).then((function(t){return a.remove(o),t})))}}Zt.$inject=["$http","$q","tryAgainModel"];var Qt=Zt;function te(t,e,a){var n=e(["logout"]),o=n.dispatcher;return(0,n.on)("$stateChangeSuccess",(function(e,n){var r=n.name;-1===r.indexOf("secured")&&-1===["login.setup","login.down"].indexOf(r)&&(a.stop(),t.isLoggedIn()&&t.logout(),o.logout())})),{}}te.$inject=["authentication","dispatchers","eventManager"];var ee=te,ae=a("HImi"),ne=a("7UbS");function oe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function re(t){var e=function(t){return{data:t}},a=function(){var a=_()(I.a.mark((function a(n,o,r,s){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(ae.a)({api:t,credentials:Object(ne.b)(n),config:o,info:r,version:s}).then(e));case 1:case"end":return a.stop()}}),a)})));return function(t,e,n,o){return a.apply(this,arguments)}}(),n=function(t,e){return function(a,n,o,r){return t(a,function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({method:e,url:n,data:o},r))}},o=function(t){return t.put=n(t,"put"),t.post=n(t,"post"),t};return{getVerify:function(){var e=_()(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(ae.b)({api:t,credentials:Object(ne.b)(a)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),verify:o(function(){var a=_()(I.a.mark((function a(n,o){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(ae.c)({api:t,credentials:Object(ne.b)(n),config:o}).then(e));case 1:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}()),auth:o(a)}}re.$inject=["compatApi"];var se=re;var le=function(){var t={};return{add:function(e){return t[e]=!0},check:function(e){return t[e]},remove:function(e){return delete t[e]}}},ie=a("RIqP"),ce=a.n(ie);function de(t,e,a,n,o,r,s,l){var i=n(["activeSessions"]),c=i.on,d=i.dispatcher,u=l((function(){return{createTime:function(t){return o.getString("Created on {{ date }}",{date:t},"Tooltip display per session")}}})),p=[],m=function(){return p},f=function(){return p.length=0},g={Web:"ProtonMail for web",VPN:"ProtonVPN for Windows",WebVPN:"ProtonVPN for web",Admin:"Admin",ImportExport:"ProtonMail Import-Export",Bridge:"ProtonMail Bridge",Android:"ProtonMail for Android",WebAccount:"Proton Account for web",WebMail:"ProtonMail for web",WebMailSettings:"ProtonMail settings for web",WebContacts:"ProtonContacts for web",WebVPNSettings:"ProtonVPN settings for web",WebCalendar:"ProtonCalendar for web",WebDrive:"ProtonDrive for web",WebAdmin:"Admin",iOS:"ProtonMail for iOS",iOSDrive:"ProtonDrive for iOS",iOSMail:"ProtonMail for iOS",iOSVPN:"ProtonVPN for iOS",iOSCalendar:"ProtonCalendar for iOS",AndroidMail:"ProtonMail for Android",AndroidVPN:"ProtonVPN for Android",AndroidTvVPN:"ProtonVPN for Android TV",AndroidCalendar:"ProtonCalendar for Android",WindowsVPN:"ProtonVPN for Windows",WindowsImportExport:"ProtonMail Import-Export for Windows",WindowsBridge:"ProtonMail Bridge for Windows",macOSVPN:"ProtonVPN for macOS",macOSImportExport:"ProtonMail Import-Export for macOS",macOSBridge:"ProtonMail Bridge for macOS",LinuxImportExport:"ProtonMail Import-Export for GNU/Linux",LinuxBridge:"ProtonMail Bridge for GNU/Linux",LinuxVPN:"ProtonVPN for GNU/Linux"},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=a.getUID(),o=s(),l=o.isAdmin,i=r.get().reduce((function(t,e){return t[e.ID]=e,t}),{});return e.map((function(e){return e.isCurrentSession=e.UID===n,e.client=g[e.ClientID],e.createTime=u.createTime(t("readableTime")(e.CreateTime)),e.username=l&&e.MemberID?i[e.MemberID].Name:a.user.Name,e}))},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(),p.push.apply(p,ce()(v(t.reverse()))),d.activeSessions("update",{sessions:p})},h=function(){var t=_()(I.a.mark((function t(){var a,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sessions();case 2:return a=t.sent,n=a.data,b((void 0===n?{}:n).Sessions),t.abrupt("return",m());case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=_()(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.revokeSession(a);case 2:return t.next=4,h();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=_()(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.revokeOthers();case 2:return t.next=4,h();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c("logout",(function(){f()})),{get:m,clear:f,fetch:h,revoke:y,revokeOthers:w}}de.$inject=["$filter","authApi","authentication","dispatchers","gettextCatalog","memberModel","userType","translator"];var ue=de,pe=angular.module("proton.authentication",["proton.utils","proton.keys"]).run(["AppModel","authentication",function(t,e){e.detectAuthenticationState()}]).directive("loginForm",Q).directive("loginContainer",W).directive("loginSubContainer",J).directive("loginUnlockForm",et).directive("loginPasswordInput",St).directive("loginTwoFactorForm",nt).directive("loginSpinner",ot).directive("twoFaField",rt).factory("httpInterceptor",ft).factory("helpLoginModal",vt).factory("oldPasswordModal",ht).factory("loginPasswordModal",wt).factory("logoutManager",ee).factory("authentication",Et).factory("authApi",V).factory("compatApi",_t).factory("handle401",jt).factory("handle429",Kt).factory("unlockUser",Gt).factory("handle9001",Wt).factory("handle10003",Jt).factory("handleTryAgain",Qt).factory("srp",se).factory("tryAgainModel",le).factory("activeSessionsModel",ue).name,me=a("xkGU"),fe=a.n(me);function ge(t){var e=[t];return{init:function(){fe()(e,(function(t){t.isCurrentBrowser()&&t.applyFixes()}))}}}ge.$inject=["safari"];var ve=ge,be=a("btMZ");var he=function(){var t=[function(){$(document).on("click.fixSafariDownloadBug",(function(t){var e=t.target;e&&"A"===e.tagName&&"_blank"===e.getAttribute("target")&&e.hasAttribute("href")&&(t.preventDefault(),window.open(e.href))}))}];return{isCurrentBrowser:be.p,applyFixes:function(){return fe()(t,(function(t){return t()}))}}};function ye(t){return t({controllerAs:"ctrl",templateUrl:a("r1vd"),controller:["params",function(t){console.log(t)}]})}ye.$inject=["pmModal"];var we=ye,xe=angular.module("proton.browserSupport",[]).factory("dropIE11ModalModal",we).run(["browserFixes",function(t){return t.init()}]).factory("browserFixes",ve).factory("safari",he).name,ke=function(t){return{replace:!0,templateUrl:a("YVQz"),link:function(e,a){var n=t(["bugReport"]).dispatcher,o=function(){n.bugReport("new")};a.on("click",o),e.$on("$destroy",(function(){a.off("click",o)}))}}};ke.$inject=["dispatchers"];var Ae=ke;function Se(t,e,a,n,o,r,s,l,i,c){var d=o().on,u=c((function(){return{phishingTitle:s.getString("Confirm phishing report",null,"Title for report phishing modal"),phishingMessage:s.getString("Reporting a message as a phishing attempt will send the message to us, so we can analyze it and improve our filters. This means that we will be able to see the contents of the message in full.",null,"Message for report phishing modal"),phishingReported:s.getString("Phishing reported",null,"Success notification")}})),p=function(t){var n=t.content,o=void 0===n?"":n;return a.activate(function(t){return{params:{form:e.getForm(),content:t,submit:function(t){return _()(I.a.mark((function n(){var o;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.deactivate(),n.next=3,e.toFormData(t);case 3:o=n.sent,e.report(o);case 5:case"end":return n.stop()}}),n)})))()},cancel:function(){a.deactivate()}}}}(o))};d("bugReport",(function(t,e){var a=e.type,n=e.data;"new"===a&&p(void 0===n?{}:n)}));var f=function(){var a=_()(I.a.mark((function a(o){var s,c;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,new Promise((function(t,e){n.activate({params:{title:u.phishingTitle,message:u.phishingMessage,isWarning:!0,confirm:function(){t(),n.deactivate()},cancel:function(){e(),n.deactivate()}}})}));case 2:return s=t.get("messageApi"),c=Promise.all([e.phishing(o),s.label({LabelID:m.sb.spam,IDs:[o.ID]})]).then(r.call),l.track(c),a.next=7,c;case 7:i.success(u.phishingReported);case 8:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}();return{init:angular.noop,reportPhishing:f}}Se.$inject=["$injector","bugReportApi","bugModal","confirmModal","dispatchers","eventManager","gettextCatalog","networkActivityTracker","notification","translator"];var Pe=Se;function Ce(t,e,a){var n=e.build("reports"),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a};return{bug:function(e){return(e instanceof FormData?a({method:"POST",url:n("bug"),data:e}):t.post(n("bug"),e)).then(o)},phishing:function(e){return t.post(n("phishing"),e).then(o)}}}Ce.$inject=["$http","url","requestFormData"];var Ee=Ce,Me=a("xaJk"),Te=a.n(Me),Ie=a("xweI"),De=a.n(Ie),_e=a("NlKi"),Oe=a.n(_e),Le=a("LMli"),Ne=a("gMlX"),$e=a("rbCz");function Re(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function je(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Fe(t,e,a,n,o,r,s){var l,i,c={layout:(l={},x()(l,m.fc,"row"),x()(l,m.q,"column"),l),view:(i={},x()(i,m.Gb,"row"),x()(i,m.E,"column"),i)},d=function(t){return c.layout[t]||"unknown"},u=function(t){return c.view[t]||"undefined"},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.user,e=t.ViewLayout,a=void 0===e?"":e,o=t.ViewMode,r=void 0===o?"":o,s=Object(be.d)(),l=Object(be.a)(),i=Object(be.c)();return{OS:s.name,OSVersion:s.version||"",Browser:l.name,BrowserVersion:l.version,Client:"Angular",ClientVersion:Le.a.app_version,ClientType:m.p,ViewLayout:d(a),ViewMode:u(r),DeviceName:i.vendor,DeviceModel:i.model}},f=function(t){return Object(Ne.e)(t).then((function(e){return Object($e.a)(e,m.Bb,t.type)}))},g=function(){var e=_()(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.bug(a);case 2:s.success(o.getString("Bug reported",null,"Bug report successfully"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var t=_()(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=je(je({},p()),{},{Debug:{state:e.$current.name,error:a}}),Oe.a.setUserContext(),Oe.a.setUserContext(n),Oe.a.captureException(a,{appVersion:Le.a.app_version});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{getForm:function(){var t=n.user.Name,o=void 0===t?"":t,r=De()(a.get(),"Order"),s=M()(r,1)[0],l=(s=void 0===s?{}:s).Email,i=void 0===l?"":l;return je(je({},p()),{},{Resolution:"".concat(window.innerHeight," x ").concat(window.innerWidth),Title:"[Angular] Bug [".concat(e.$current.name,"]"),Description:"",Username:o,Email:i})},report:function(t){var e=g(t);return r.track(e),e},getClient:p,crash:v,message:function(t,e){Oe.a.captureMessage(t,je(je({},e),{},{appVersion:Le.a.app_version}))},toFormData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Te()(t,(function(t,e,a){if(e instanceof FileList||e instanceof Array){for(var n=function(a){var n=e[a],o=f(n).then((function(e){t.formData.append(n.name,Object($e.f)(e),n.name)}));t.promises.push(o)},o=0;o<e.length;o++)n(o);return t}return t.formData.append(a,e),t}),{promises:[],formData:new FormData}),a=e.promises,n=e.formData;return Promise.all(a).then((function(){return n})).catch((function(){return n}))},phishing:function(e){var a=e.ID,n=e.MIMEType,o=e.getDecryptedBody();return t.phishing({MessageID:a,Body:o,MIMEType:"text/plain"===n?"text/plain":"text/html"})}}}Fe.$inject=["Report","$state","addressesModel","authentication","gettextCatalog","networkActivityTracker","notification"],Oe.a.config(Le.a.sentry.sentry,{release:Le.a.sentry.release}).install(),Oe.a.setTagsContext({appVersion:Le.a.app_version});var Ue=Fe,Ve=angular.module("proton.bugReport",[]).run(["bugReportModel",function(t){return t.init()}]).directive("newBugReport",Ae).factory("bugReportModel",Pe).factory("Report",Ee).factory("bugReportApi",Ue).name;Ge.$inject=["$state","AppModel","dispatchers","mailSettingsModel","subscriptionModel"];var ze=["signup","login.setup","secured.print"],Ke=["support.reset-password","signup","login.setup","pre-invite"],Be=["login","eo.unlock","eo.message","reset","eo.reply"];function Ge(t,e,a,n,o){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.$current.name;return e.includes(a)},s=["isFree","isPaidMember","isPaidAdmin","isSubUser"],l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"appConfigBody-".concat(t)},i={isFree:l("is-free"),isPaidMember:l("is-paid-member"),isPaidAdmin:l("is-paid-admin"),isSubUser:l("is-sub-user"),mobile:l("is-mobile"),tablet:l("is-tablet"),mac:l("is-mac"),firefox:l("is-firefox"),requestTimeout:l("request-timeout"),tourActive:l("tourActive"),activeComposer:l("activeComposer"),maximizedComposer:l("maximizedComposer"),modalOpen:l("modalOpen"),showSidebar:l("showSidebar"),commandPalette:l("commandPalette"),rows:l("rows"),networkActivity:l("networkActivity"),moz:l("is-moz"),storageLimitReached:"hasStickyMessages",isSecure:"secure",isUnlock:"unlock",newVersion:"newVersion"};return{link:function(t,l){var c=a(),d=c.on,u=c.unsubscribe,p=e.query(),f=p.mobile,g=p.tablet,v=function(){var t=n.get().ViewLayout===m.fc?"add":"remove";l[0].classList[t](i.rows)},b=function(t,e){var a=e?"add":"remove";_rAF((function(){return l[0].classList[a](t)}))};b(i.firefox,Object(be.l)()),b(i.mac,Object(be.n)()),d("AppModel",(function(t,e){var a=e.type,n=e.data,o=void 0===n?{}:n,r=i[a];r&&b(r,o.value),s.includes(a)&&b(i[a],o.value)})),d("mailSettings",(function(t,e){var a=e.type;"updated"===(void 0===a?"":a)&&v()})),d("$stateChangeSuccess",(function(t,e){l[0].id=e.name.replace(/[.]+/g,"-"),b("scroll",r(ze)),b("light",r(Ke)),b("locked",r(Be))})),d("subscription",(function(t,e){"update"===e.type&&b(i.moz,o.isMoz())})),b(i.mobile,f),b(i.tablet,g),v(),t.$on("$destroy",u)}}}var qe=Ge;function He(t,e){var a=e((function(){return{label:t.getString("ProtonMail.com - Made globally, hosted in Switzerland.",null,"copyright")}}));return{replace:!0,template:'<span class="appCopyright-container">'.concat(Le.a.year," ").concat(a.label,"</span>")}}He.$inject=["gettextCatalog","translator"];var Ye=He;function We(t,e,a){var n=a((function(){return{copy:t.getString("Copy to your clipboard",null,"Info")}}));return{restrict:"E",replace:!0,scope:{value:"="},template:'<button class="copy-button" type="button" data-tooltip="'.concat(n.copy,'"><span class="copy-icon"></span></button>'),link:function(t,a){var n=e(a[0],(function(){return t.value})),o=n.promise,r=n.destroy,s=n.I18N;o.then((function(){return a.attr("data-tooltip",s.SUCCESS)})).catch((function(){return a.addClass("error")})),t.$on("$destroy",(function(){return r()}))}}}We.$inject=["gettextCatalog","ptClipboard","translator"];var Xe=We;function Je(t){var e={},a=t(["AppModel"]).dispatcher,n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.AppModel(t,e)};return{is:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e[t]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,o=e[t];e[t]=a,o!==a&&n(t,{value:a})},store:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return e[t]=a},get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e[t]},query:function(){return angular.copy(e)}}}Je.$inject=["dispatchers"];var Ze=Je,Qe=a("vN+2"),ta=a.n(Qe);function ea(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function aa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ea(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ea(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function na(t,e,a,n,o,r,s,l,i,c,d){var u=$("#body"),p=m.Lb;function f(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(1===c.get("Hotkeys")){var e=o.get("hotkeys");e[t?"bind":"unbind"]()}}return function(c){if(!(!c.template^!c.templateUrl))throw new Error("Expected modal to have exactly one of either template or templateUrl");var m,g,v=c.controller||null,b=c.controllerAs,h=angular.element(c.container||document.body),y=null,w=n(["tooltip"]),x=w.dispatcher,k=w.on,A=w.unsubscribe,S=function(){return x.tooltip("hideAll")},P=o.get("hotkeys");m=c.template?s.when(c.template):l.get(c.templateUrl,{cache:d}).then((function(t){return t.data}));var C=function(){return y&&y.removeClass("pm_modal-hidden")},E=function(){return y&&y.addClass("pm_modal-hidden")};function M(e,a){return y?(p--,A(),t.leave(y).then((function(){S(),y&&(P.unbind(["escape"]),f(),g&&g.$destroy(),(g[b].$onDestroy||angular.noop)(),g[b].$hookClose(e,a),g=null,y.remove(),y=null,i.set("modalOpen",!1),$(".modal-backdrop").remove())}))):s.when()}return{activate:function(n){return S(),m.then((function(o){y||function(n,o){if((y=angular.element(n)).css("z-index",p++),0===y.length)throw new Error("The template contains no elements; you need to wrap text nodes");g=a.$new(!0);if(v){o||(o={params:{}}),o.$scope=g,o.params=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return aa({close:function(){return M("close")},cancel:function(){return M("close")},show:C,hide:E},t)}(o.params);var s=r(v,o);!s.cancel&&(s.cancel=o.params.cancel),!s.close&&(s.close=o.params.close),s.$hookClose=function(t,e){if(o.params.previousModal)var a=setTimeout((function(){o.params.previousModal.show(),clearTimeout(a)}),300);(o.params.hookClose||ta.a)(t,e)},b&&(g[b]=s)}else if(o)for(var l in o)g[l]=o[l];e(y)(g),t.enter(y,h)}(o,n),u.append('<div class="modal-backdrop fade in"></div>'),i.set("modalOpen",!0);var s=setTimeout((function(){$(".modal").addClass("in"),window.scrollTo(0,0),f(!1),P.bind(["escape"]),clearTimeout(s)}),100);k("hotkeys",(function(t,e){if("escape"===e.type){var a=((n||{}).params||{}).onEscape;(void 0===a?M:a)("close","escape")}})),k("logout",(function(){M("close","logout")})),k("$stateChangeSuccess",(function(){M("close","$stateChangeSuccess")}))}))},deactivate:M,show:C,hide:E,active:function(){return!!y}}}}na.$inject=["$animate","$compile","$rootScope","dispatchers","$injector","$controller","$q","$http","AppModel","mailSettingsModel","$templateCache"];var oa=na;function ra(t){var e={},a={};function n(t){return function(){delete e[t]}}function o(e){a[e]&&(t.cancel(a[e]),delete a[e])}return{getItem:function(t){if(angular.isString(t)&&e[t]){o(t);var a=e[t];return n(t)(),a}return null},setItem:function(r,s){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.oc;angular.isString(r)&&(o(r),e[r]=s,a[r]=t(n(r),l,!1))},removeItem:function(t){angular.isString(t)&&e[t]&&(o(t),delete e[t])},clear:function(){Object.keys(a).forEach(o),e={}}}}ra.$inject=["$timeout"];var sa=ra;function la(t,e){var a=e.build("addresses"),n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a};return{create:function(e){return t.post(a(),e).then(n)},setup:function(e){return t.post(a("setup"),e)},edit:function(e,o){return t.put(a(e),o).then(n)},enable:function(e){return t.put(a(e,"enable")).then(n)},disable:function(e){return t.put(a(e,"disable")).then(n)},remove:function(e){return t.delete(a(e)).then(n)},order:function(e){return t.put(a("order"),e).then(n)},query:function(){return t.get(a()).then(n).then((function(t){return t.Addresses}))},get:function(e){return t.get(a(e)).then(n)}}}la.$inject=["$http","url"];var ia=la;function ca(t,e,a){var n=e.build("eo"),o={SEND_ERROR:a.getString("Unable to send the message.",null,"Error")};return{token:function(e){return t.get(n("token",encodeURIComponent(e)),{headers:{"Content-Type":"application/json;charset=utf-8",Accept:"application/vnd.protonmail.v1+json"}})},message:function(e,a){return t.get(n("message"),{headers:{Authorization:e,"x-eo-uid":a}})},attachment:function(e,a,o){return t.get(n("attachment",o),{responseType:"arraybuffer",headers:{Authorization:e,"x-eo-uid":a}})},reply:function(t,e,a){var r=new FormData,s=new XMLHttpRequest;return Object.keys(a||{}).forEach((function(t){Array.isArray(a[t])?fe()(a[t],(function(e){return r.append(t,e)})):r.append(t+"",a[t])})),new Promise((function(a,l){s.onload=function(){var t=function(t){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{json:t,isInvalid:e}};try{return e(JSON.parse(t.responseText))}catch(a){return e({Error:"JSON parsing error: ".concat(t.responseText)},!0)}}(s),e=t.json,n=t.isInvalid;if(e.Error){var r=n?o.SEND_ERROR:e.Error;return l(new Error(r))}if(200!==s.status)return l(new Error(o.SEND_ERROR));a("Message send")},s.open("post",n("reply"),!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Accept","application/vnd.protonmail.v1+json"),s.setRequestHeader("x-pm-appversion","Web_"+Le.a.app_version),s.setRequestHeader("x-pm-apiversion",Le.a.api_version),s.setRequestHeader("Authorization",t),s.setRequestHeader("x-eo-uid",e),s.send(r)}))}}}ca.$inject=["$http","url","gettextCatalog"];var da=ca;function ua(t,e){var a=e.build("events");return{get:function(e,n){return t.get(a(e),n).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data;return e}))},getLatestID:function(e){return t.get(a("latest"),e).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data;return e.EventID}))}}}ua.$inject=["$http","url"];var pa=ua;function ma(t,e,a){var n=e.build("filters");function o(t){var e=a.get("simpleFilter").computeTree(t);return e&&(t.Tree=e),angular.toJson(t)}return{create:function(e){return t.post(n(),e,{transformRequest:o})},check:function(e){return t.put(n("check"),e,{transformRequest:o})},query:function(){return _()(I.a.mark((function e(){var o,r,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(n());case 2:return o=e.sent,r=o.data.Filters,s=void 0===r?[]:r,e.abrupt("return",s.map((function(t){var e=a.get("simpleFilter").computeFromTree(t);return e?t.Simple=e:delete t.Simple,t})));case 6:case"end":return e.stop()}}),e)})))()},update:function(e){return t.put(n(e.ID),e,{transformRequest:o})},enable:function(e){return t.put(n(e.ID,"enable"))},disable:function(e){return t.put(n(e.ID,"disable"))},order:function(e){return t.put(n("order"),e)},delete:function(e){return t.delete(n(e.ID))},clear:function(){return t.delete(n())}}}ma.$inject=["$http","url","$injector"];var fa=ma;function ga(t,e){var a=e.build("incomingdefaults");return{get:function(e){return t.get(a(),{params:e})},add:function(e){return t.post(a(),e)},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.put(a(e.ID),e)},delete:function(e){return t.put(a("delete"),e)},clear:function(){return t.delete(a())}}}ga.$inject=["$http","url"];var va=ga;function ba(t,e){var a=e.build("invites");return{check:function(e,n,o){return t.post(a("check"),{Token:e,Selector:n,Type:o})}}}ba.$inject=["$http","url"];var ha=ba;function ya(t,e,a){var n=e.build("keys"),o=function(t){return t.data};return{keys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.get(n(),e).then(o)},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.post(n(),e)},setup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.length?a.verify.post({Password:o},n("setup"),e):t.post(n("setup"),e)},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.length?a.verify.post({Password:o},n("reset"),e):t.post(n("reset"),e)},primary:function(e,a){return t.put(n(e,"primary"),a)},activate:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.put(n(e,"activate"),a)},updatePrivate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.length?a.verify.put({Password:o},n("private"),e):t.put(n("private"),e)},upgrade:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.length?a.verify.post({Password:o},n("private","upgrade"),e):t.post(n("private","upgrade"),e)},remove:function(e,a){return t.put(n(e,"delete"),a)},salts:function(e){return t.get(n("salts"),e).then(o)},reactivate:function(e,a){return t.put(n(e),a)},flags:function(e,a){return t.put(n(e,"flags"),a)}}}ya.$inject=["$http","url","srp"];var wa=ya;function xa(t,e){var a=e.build("labels");return{query:function(e){return t.get(a(),{params:e}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a.Labels}))},order:function(e){return t.put(a("order"),e)},update:function(e){return t.put(a(e.ID),e).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a.Label}))},create:function(e){return t.post(a(),e).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a.Label}))},remove:function(e){return t.delete(a(e))}}}xa.$inject=["$http","url"];var ka=xa;function Aa(t,e){var a=e.build("logs");return{get:function(){return t.get(a("auth")).then((function(t){return t.data.Logs}))},clear:function(){return t.delete(a("auth"))}}}Aa.$inject=["$http","url"];var Sa=Aa,Pa=a("J2m7"),Ca=a.n(Pa);function Ea(t,e,a,n,o){var r=a.build("payments"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.Payment?t.Payment:t.PaymentMethod?t.PaymentMethod:t},l=function(t){return t.then((function(t){return t.data}))};function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.PaymentMethodID,a=s(t);return new Promise((function(o,r){try{if(void 0===e&&"card"===a.Type)return n.getFingerprint((function(e){a.Fingerprint=e,o(t)}));o(t)}catch(s){r(s)}}))}return{createToken:function(e){return l(t.post(r("tokens"),e))},getTokenStatus:function(e){return l(t.get(r("tokens",e)))},forceTokenUpdate:function(e){return l(t.put(r("tokens",e)))},credit:function(e){return i(e).then((function(e){return t.post(r("credit"),e)}))},donate:function(e){return i(e).then((function(e){return t.post(r("donate"),e)}))},paypal:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.post(r("paypal"),e,a)},validateCredit:function(e){return t.post(r("credit","check"),e)},validateVerify:function(e){return t.post(r("verify","check"),e)},invoices:function(e){return l(t.get(r("invoices"),{params:e}))},invoice:function(e){return l(t.get(r("invoices",e),{responseType:"arraybuffer"}))},order:function(e){return t.put(r("methods","order"),e)},verify:function(e){return i(e).then((function(e){return t.post(r("verify"),e)})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a}))},status:function(){return t.get(r("status"))},check:function(e){return t.post(r("invoices",e,"check"))},pay:function(e,a){return i(a).then((function(a){return t.post(r("invoices",e),a)}))},valid:function(e){return t.post(r("subscription","check"),e).then((function(t){var e=t.data;return void 0===e?{}:e}))},plans:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.Cycle,n=void 0===a?m.H.MONTHLY:a,s=e.Currency;return t.get(r("plans"),{params:{Cycle:n,Currency:s}}).then((function(t){var e=t.data,a=(e=void 0===e?{}:e).Plans;return void 0===a?[]:a})).then(o)},subscription:function(){if(e.user.Role>1)return t.get(r("subscription")).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e,n=Ca()(a.Subscription.Plans,{Type:1})||{},o=n.Name,r=n.Title;return a.Subscription.Name=o,a.Subscription.Title=r,a}));var a={Name:"free",Title:"ProtonMail Free",MaxDomains:0,CouponCode:null,MaxAddresses:1,MaxSpace:5368709120,MaxMembers:1,Cycle:12,Currency:e.user.Currency};return Promise.resolve({data:{Code:1e3,Subscription:a}})},updateMethod:function(e,a){return i(e).then((function(e){return t.post(r("methods"),e,a)}))},deleteMethod:function(e){return t.delete(r("methods",e))},methods:function(){return t.get(r("methods"))},subscribe:function(e){return i(e).then((function(e){return t.post(r("subscription"),e)}))},unsubscribe:function(e){return t.post(r("unsubscribe"),e)},delete:function(){return t.delete(r("subscription"))},btc:function(e,a){return t.post(r("bcinfo"),{Amount:e,Currency:a})},latestSubscription:function(){return l(t.get(r("subscription","latest")))}}}Ea.$inject=["$http","authentication","url","brick","paymentPlansFormator"];var Ma=Ea;function Ta(t,e){var a=e.build("core/v4/features");return{get:function(e,n){return t.get(a(e),n).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data;return e}))},updateValue:function(e,n,o){return t.put(a(e,"value"),{Value:n},o)}}}Ta.$inject=["$http","url"];var Ia=Ta;function Da(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function _a(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Da(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Da(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Oa(t,e,a){var n=e("Payments",{number:30}),o=a().on,r=function(t,e){return"".concat(t,"-").concat(JSON.stringify(e))};o("app.event",(function(t,e){"subscription.event"===e.type&&n.removeAll()})),o("updateUser",(function(){n.removeAll()})),o("logout",(function(){n.removeAll()}));var s=["valid","plans"].reduce((function(e,a){return e[a]=function(e){return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=r(e,o),i=n.get(l);if(i)return i;var c=t[e].apply(t,o).catch((function(t){return n.remove(l),Promise.reject(t)}));return n.put(l,c),c}}(a),e}),{});return _a(_a({},s),{},{plans:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Cycle,a=void 0===e?m.H.MONTHLY:e,o=t.Currency;if(!o){var l=m.F.find((function(t){var e=r("plans",[{Cycle:a,Currency:t}]);return n.get(e)}));if(l)return s.plans({Cycle:a,Currency:l})}return s.plans({Cycle:a,Currency:o})}})}Oa.$inject=["Payment","$cacheFactory","dispatchers"];var La=Oa;function Na(t,e){var a=e.build("reset");return{request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.post(a(),e)},validate:function(e){var n=e.Username,o=e.Token;return t.get(a(n,encodeURIComponent(o)))}}}Na.$inject=["$http","url"];var $a=Na;function Ra(t,e,a){var n=e.build("users");return{requestURL:n,available:function(e,a){return t.get(n("available"),e,a)},create:function(t,e){return a.verify.post({Password:e},n(),t)},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.get(n(),e).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a.User}))},code:function(e){return t.post(n("code"),e)},human:function(){return t.get(n("human"))},verifyHuman:function(e){return t.post(n("human"),e)},check:function(){return function(e){return t.put(n("check"),e)}},direct:function(){return t.get(n("direct"))},lock:function(){return t.put(n("lock"))},unlock:function(t){return a.auth.put(t,n("unlock"))},password:function(t){return a.auth.put(t,n("password"))},delete:function(e){return t.put(n("delete"),e)},canDelete:function(){return t.get(n("delete"))}}}Ra.$inject=["$http","url","srp"];var ja=Ra,Fa=a("YrcJ");function Ua(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Va(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ua(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ua(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var za=function(){var t={classNames:{error:"notification-danger",success:"notification-success",info:"notification-info"}},e={};this.typeClasses=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Va(Va({},t.classNames),e)},this.duration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e3;return t.duration=e},this.template=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.template=e},this.$get=["notify","$cacheFactory","sanitize","gettextCatalog","translator",function(a,n,o,r,s){var l=s((function(){return{UNDO:r.getString("UNDO",null,"Link in notification to undo an action")}})),i=n("notifications",{number:5}),c=function(e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n instanceof Error?n.message:n;r.classes="".concat(r.classes||""," ").concat(t.classNames[e]).trim(),r.onClickClose=!0;var c=Object(Fa.g)(s);if(c.isHtml&&!r.messageTemplate){var d=o.input(s);r.messageTemplate=c.isWrapped?d:"<div>".concat(d,"</div>")}if(!0!==i.get(s)){i.put(s,!0);var u=function(){r.onClose&&r.onClose.apply(r,arguments),i.put(s,!1)};if("error"===e&&void 0===r.duration&&(r.duration=1e4),r.undo){var p=o.input(s);r.onClick=r.undo,r.messageTemplate="<div>".concat(p,' <a href="#">').concat(l.UNDO,"</a></div>")}a(Va(Va({message:s},r),{},{onClose:u}))}}},d={position:"center",maximumOpen:5,duration:6e3};return t.template&&(d.templateUrl=t.template),a.config(d),{disableClose:function(){e.disableClose=!0},success:c("success"),error:c("error"),info:c("info"),closeAll:function(){e.disableClose||(i.removeAll(),a.closeAll())}}}]};var Ka=function(){var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];var r=n.filter((function(t){return 0===t||t}));return["".concat(e,"/").concat(t).trim()].concat(ce()(r)).join("/")}},e=function(){return Le.a.apiUrl};return{get:e,make:t,build:function(a){return t(a,e())},host:function(){var t=document.createElement("a");return t.href=Le.a.apiUrl,t.host}}},Ba=a("SA+Z"),Ga=a.n(Ba);function qa(t,e){if(t||""===t||e)return{type:t,data:e}}function Ha(t,e){return function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.$emit(e,qa(a,n))}}function Ya(t){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,a){return"$"!==a.charAt(0)&&(e[a]=Ha(t,a)),e}),Object.create(null))};function a(){var t=(new Error).stack.split("\n"),e=Ga()(t).slice(1),a=e.findIndex((function(t){return t.trim().startsWith("at processQueue")})),n=e.findIndex((function(t){return t.trim().startsWith("at HTMLElement.dispatch")})),o=-1===a?n:a;return e.slice(2,o).join("\n")}var n=function(t,e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];var s=o.slice(-1),l=M()(s,1),i=l[0],c="type [".concat(t,"]: ").concat(i.type);console.groupCollapsed(c),console.log(a()),console.log(i),e.apply(void 0,o),console.groupEnd(c)}};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0,r=[],s=e(a),l=function(e,a){var s=o?n(e,a):a;r.push(t.$on(e,s))},i=function(){r.forEach((function(t){return t()})),r.length=0};return{dispatcher:s,on:l,unsubscribe:i}}}Ya.$inject=["$rootScope"];var Wa=Ya;function Xa(t){var e=function(e){return e&&t.error(e)};return{clear:t.closeAll,catcher:function(t,a){return function(n){e(t),a&&a.reject()}},resolve:function(t,a,n){return new Promise((function(o){a.then(o,(function(a){e(t),o(n)}))}))},notify:e}}Xa.$inject=["notification"];var Ja=Xa;function Za(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Qa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Za(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Za(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var tn=function(t){var e=window.navigator.languages&&window.navigator.languages.length?window.navigator.languages[0]:null;return t||e||window.navigator.userLanguage||window.navigator.language};function en(t,e,a){var n={},o=t(["i18n"]).dispatcher,r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return("en"===t?"us":t).toUpperCase()},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.replace("-","_");return 2===e.length?"".concat(e,"_").concat(r(e)):e},l=function(){try{var t=new window.URL(window.location).searchParams;return s(tn(t.get("language")))}catch(n){var e=window.location.search.match(/language=(([a-z]{2,}(_|-)[A-Z]{2,})|([a-z]{2,}))/)||[],a=M()(e,2)[1];return s(tn(a))}},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(Le.a.translations.includes(t))return t;var e=t.substr(0,2),a=Ca()(Le.a.translations,(function(t){return t.substr(0,2)===e}));return a||m.M};return{localizeDate:function(){var t=n.translationLocale,r=n.browserLocale;a.get("dateUtils").init(),moment.locale(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn(),a=moment.localeData(e),n=moment.localeData(t);return moment.updateLocale("custom-locale",null),moment.updateLocale("custom-locale",Qa(Qa({},n._config),{},{longDateFormat:a._config.longDateFormat})),"custom-locale"}(t,r)),a.get("pikadayConfiguration").update({i18n:{previousMonth:e.getString("Previous Month",null,"Pikaday"),nextMonth:e.getString("Next Month",null,"Pikaday"),months:moment.months(),weekdays:moment.weekdays(),weekdaysShort:moment.weekdaysShort()},firstDay:moment.localeData().firstDayOfWeek(),format:moment.localeData().longDateFormat("L")}),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.i18n(t,e)}("load")},translate:function(){var t=_()(I.a.mark((function t(a){var o,r,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=l(),r=i(a||o),s=r.substr(0,2),n.translationLocale=r,n.browserLocale=o,e.debug=Le.a.debug||!1,e.debugPrefix="",e.setCurrentLanguage(r),document.documentElement.lang=s,r!==m.M){t.next=11;break}return t.abrupt("return");case 11:return t.abrupt("return",e.loadRemote("/i18n/".concat(r,".json")));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}en.$inject=["dispatchers","gettextCatalog","$injector"];var an=en,nn=a("Wt1U"),on=a.n(nn),rn=a("v8eK"),sn=a.n(rn),ln=a("E+oP"),cn=a.n(ln);function dn(t,e,a){var n=[];return{loading:function(){return!cn()(n)},track:function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(){(n=on()(n,e)).length||t.set("networkActivity",!1)}return n.length||t.set("networkActivity",!0),n=sn()(n,[e]),e.catch((function(t){if(console.error(t),angular.isString(t)&&a.error(t),angular.isObject(t)){var e,n=t.data,r=void 0===n?{}:n;return e=t.message?t.raw?t.message:Object(j.j)(t.message):t.Error?t.Error:r.Error?r.Error:"An error has occurred. <br> Please try again or refresh the page.",t.noNotify||o||a.error(e),Promise.reject(t)}})),e.then(r,r),e}}}dn.$inject=["AppModel","errorReporter","notification"];var un=dn;var pn=function(){return{isCancelledRequest:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.xhrStatus,a=void 0===e?"":e,n=t.config,o=void 0===n?{}:n;if("abort"===a)return!0;var r=(o.timeout||{}).$$state||{},s=r.value;return s===m.o}}};var mn=function(){var t={};return{addUID:function(e){return t[e]=!0},hasUID:function(e){return!!t[e]}}},fn=a("FxgH");function gn(t){return Object(fn.a)(t)}gn.$inject=["secureSessionStorage"];var vn=gn,bn=a("GOra"),hn=a("IYjA"),yn=[hn.a,hn.b,m.T,m.U];var wn=function(){return Object(bn.a)(yn)},xn=a("dG5C");function kn(t){return{getToken:function(){return t.get(m.T)},setToken:function(e){t.set(m.T,e)},getPassword:function(){var e=t.get(m.U);return e?Object(xn.j)(e):void 0},setPassword:function(e){t.set(m.U,Object(xn.m)(e))}}}kn.$inject=["secureSessionStorage"];var An=kn,Sn=a("VkAN"),Pn=a.n(Sn),Cn=a("/Bn5");function En(){var t=Pn()(["\n                                        [translateAttribute] Can't set the attribute ","\n\n                                        - nodeName: ","\n                                        - template: ","\n\n                                        - translation: ","\n                                        - before: ","\n                                    "],["\n                                        [translateAttribute] Can't set the attribute ","\\n\n                                        - nodeName: ","\n                                        - template: ","\n\n                                        - translation: ","\n                                        - before: ","\n                                    "]);return En=function(){return t},t}function Mn(t){function e(t,e,a){if(!t)throw new Error("You should add a "+e+" attribute whenever you add a "+a+" attribute.")}var a,n,o,r=(a=/([:\-_]+(.))/g,n=/^moz([A-Z])/,o=/^(x[:\-_]|data[:\-_])/i,t.replace(o,"").replace(a,(function(t,e,a,n){return n?a.toUpperCase():a})).replace(n,"Moz$1"));return["gettextCatalog","$parse","$animate","$compile",function(a,n,o,s){return{restrict:"A",terminal:!0,priority:1e3,compile:function(o,l){if(!l[r+"Translate"])throw new Error("Missing "+r+"-translate attribute!");e(!l[r+"TranslatePlural"]||l[r+"TranslateN"],r+"translate-n",r+"translate-plural"),e(!l[r+"TranslateN"]||l[r+"TranslatePlural"],r+"translate-plural",r+"translate-n");var i=l[r+"Translate"],c=l[r+"TranslatePlural"],d=l[r+"TranslateContext"];return{pre:function(e,o,l){var u=l[r+"TranslateN"],p=u?angular.noop:n(u),m=null;function f(){var n;c?((e=m||(m=e.$new())).$count=p(e),n=a.getPlural(e.$count,i,c,null,d)):n=a.getString(i,null,d);var s=l[r];if(n!==s&&8!==o[0].nodeType)try{o[0].setAttribute(t,n)}catch(u){console.error(Object(Cn.a)(En(),t,(o[0]||{}).nodeName||"",(o[0]||{}).data||"",n,s||""),o)}}u&&e.$watch(u,f),e.$on("gettextLanguageChanged",f),f(),o.removeAttr(t+"-translate"),s(o)(e)}}}}}]}var Tn={placeholder:Mn("placeholder"),title:Mn("title"),tooltip:Mn("pt-tooltip")};function In(t,e){return{restrict:"A",link:function(a,n,o){var r=o.lazyInject;t.get(r,{cache:e}).then((function(t){return t.data})).then((function(t){n[0].innerHTML=t}))}}}In.$inject=["$http","$templateCache"];var Dn=In,_n=a("sxGJ"),On=a.n(_n);function Ln(t,e,a){var n=a((function(){return{SUCCESS:t.getString("Copied to clipboard",null,"Info"),ERROR:t.getString("Error while copying",null,"Error")}}));return function(t,a){var o=new On.a(t,{text:a}),r=new Promise((function(t,a){o.on("success",(function(){e.success(n.SUCCESS),t()})),o.on("error",(function(t){e.error(n.ERROR),a(t)}))}));return{I18N:n,promise:r,destroy:function(){o.destroy()}}}}Ln.$inject=["gettextCatalog","notification","translator"];var Nn=Ln;function $n(t){var e=[];return t.$on("gettextLanguageChanged",(function(){e.forEach((function(t){return t()}))})),function(t){if("function"!=typeof t)throw new Error("[commons@translator] Translator service takes a callback as param. This callback must return an object");var a=t();return e.push((function(){return Object.assign(a,t())})),a}}$n.$inject=["$rootScope"];var Rn=$n,jn=angular.module("proton.commons",[]).factory("translator",Rn).factory("ptClipboard",Nn).directive("appConfigBody",qe).directive("appCopyright",Ye).directive("copy",Xe).factory("AppModel",Ze).factory("pmModal",oa).factory("tempStorage",sa).factory("Address",ia).factory("Eo",da).factory("Events",pa).factory("Filter",fa).factory("IncomingDefault",va).factory("Invite",ha).factory("Key",wa).factory("Label",ka).factory("Logs",Sa).factory("Payment",Ma).factory("Feature",Ia).factory("PaymentCache",La).factory("Reset",$a).factory("User",ja).provider("notification",za).factory("url",Ka).factory("dispatchers",Wa).factory("errorReporter",Ja).factory("i18nLoader",an).factory("networkActivityTracker",un).factory("networkUtils",pn).factory("loggedOutSessions",mn).factory("secureSessionStorage",wn).factory("authenticationStore",vn).factory("eoStore",An).directive("placeholderTranslate",Tn.placeholder).directive("titleTranslate",Tn.title).directive("lazyInject",Dn).directive("ptTooltipTranslate",Tn.tooltip).name;function Fn(t,e,a,n,o,r){var s=n(),l=s.on,i=s.unsubscribe,c=function(){var e=r(),a=e.isAdmin,n=e.isFree;t.isAdmin=a,t.isFree=n};c(),t.params={},t.user=a.user,t.organization=o.get(),t.wizardEnabled=m.zc,t.ctrl={},t.starred=2,l("organizationChange",(function(e,a){var n=a.data;t.organization=n})),l("updateUser",c),t.$on("$destroy",(function(){i()})),t.cancel=function(){angular.isDefined(t.params.cancel)&&angular.isFunction(t.params.cancel)&&t.params.cancel()},t.activeSettings=function(){var t=e.$current.name;return-1!==["secured.dashboard","secured.account","secured.labels","secured.filters","secured.autoresponder","secured.security","secured.appearance","secured.domains","secured.bridge","secured.pmme","secured.members","secured.payments","secured.keys","secured.vpn"].indexOf(t)}}Fn.$inject=["$scope","$state","authentication","dispatchers","organizationModel","userType"];var Un=Fn;function Vn(t,e,a,n,o,r,s,l,i,c,d,u,p,m,f,g,v,b,h){var y=c(),w=y.on,x=y.unsubscribe;t.mobileMode=n.is("mobile"),t.tabletMode=n.is("tablet"),t.user=o.user;var k=function(){var e=b(),a=e.isAdmin,o=e.isMember,r=e.isFree,s=e.isSub;t.isAdmin=a,t.isFree=r,n.set("isFree",r),n.set("isPaidMember",o),n.set("isPaidAdmin",a),n.set("isSubUser",s)};k(),g(),m.init();var A=function(e,a){var n=a.value;return t.$applyAsync((function(){return t[e]=n}))};w("AppModel",(function(t,e){var a=e.type,n=e.data,o=void 0===n?{}:n;"mobile"===a&&A("mobileMode",o),"tablet"===a&&A("tabletMode",o)})),i.request(),u.init(1===p.get("Hotkeys")),d.initialize(),r.getIsDelinquent()||s.query(),!e.includes("secured.contacts")&&l.load(),a.manage().catch(ta.a),v.init(),f(),h(),w("updateUser",(function(){t.$applyAsync((function(){t.user=o.user,k()}))})),t.idDefined=function(){return e.params.id&&e.params.id.length>0},t.isMobile=function(){return n.is("mobile")},t.$on("$destroy",(function(){u.reset(),x()}))}Vn.$inject=["$scope","$state","addressWithoutKeysManager","AppModel","authentication","isDelinquent","cacheCounters","contactCache","desktopNotifications","dispatchers","eventManager","hotkeys","mailSettingsModel","resurrecter","versionInfoModel","blackFridayHandler","prepareDraft","userType","setPaidCookie"];var zn=Vn;function Kn(t,e,a,n,o,r,s,l,i,c){var d;function u(){return p.apply(this,arguments)}function p(){return(p=_()(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$applyAsync((function(){t.filling=!1})),c.length){e.next=3;break}return e.abrupt("return",a.setup({Domain:t.model.domain.value}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return[a.Address]})));case 3:return e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return t.$applyAsync((function(){t.genKeys=!0})),s.generate(e,d)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.$applyAsync((function(){t.genKeys=!1,t.creating=!0,t.setupAccount=!0})),s.setup(e,d).then((function(){t.$applyAsync((function(){n.setPassword(e.mailboxPassword)}))}))}function v(){return t.$applyAsync((function(){t.getUserInfo=!0})),n.fetchUserInfo()}function b(){return t.$applyAsync((function(){t.finishCreation=!0})),n.user.Delinquent<m.qc.DELINQUENT?e.go("secured.inbox",{welcome:m.zc}):e.go("secured.dashboard")}t.filling=!0,t.creating=!1,t.genKeys=!1,t.setupAccount=!1,t.getUserInfo=!1,t.finishCreation=!1,t.generating=!1,t.vpnEnabled=i.Status,t.domains=o.map((function(t,e){return{label:t,value:t,id:e}})),t.username=l.Name,t.chooseDomain=!c.length,t.model={password:"",passwordConfirm:"",domain:t.domains[0]},t.submit=function(){t.$applyAsync((function(){t.setupError=!1})),d=t.model.password;var e=function(){if(!t.vpnEnabled)return Promise.resolve();var e=c.length?c[0].Email:l.Name;return n.login({username:e,password:d})}().then(u).then(f).then(g).then(v).then(b);r.track(e).catch((function(){t.$applyAsync((function(){t.setupError=!0}))}))}}Kn.$inject=["$scope","$state","Address","authentication","domains","networkActivityTracker","setupKeys","user","vpn","addresses"];var Bn=Kn,Gn=a("3WF5"),qn=a.n(Gn),Hn=a("60cV");function Yn(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Wn(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Yn(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Yn(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Xn(t,e,a,n,o,r,s,l,i,c,d,u,p,m,f,g){var v=f((function(){return{validGiftCode:s.getString("Gift code applied",null,"Success"),invalidGiftCode:s.getString("Invalid gift code",null,"Error")}})),b=o(["signup"]),h=b.on,y=b.unsubscribe,w=b.dispatcher,x=function(){var t=_()(I.a.mark((function t(e){var a,n,o,r,s,l,i,c,u,p;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.planNames,n=void 0===a?[]:a,o=e.coupon,r=e.cycle,s=e.currency,l=e.giftCode,t.t0=Hn.c,t.next=4,d.plans();case 4:return t.t1=t.sent,i=(0,t.t0)(t.t1),c=Object(Hn.b)(i,n),u=n.map((function(t){return i[t]})),t.next=10,d.valid({PlanIDs:c,Currency:s,Cycle:r,CouponCode:o,GiftCode:l});case 10:return p=t.sent,t.abrupt("return",{payment:p,plans:u,planIds:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k={paymentPromise:c?x(c):void 0};e.step=1,e.domains=qn()(r,(function(t){return{label:t,value:t}})),e.isFromInvitation=u.is("preInvited"),e.account={username:t.search().u||a.username||"",domain:e.domains[0],emailCodeVerification:"",captcha_token:!1,smsCodeVerification:"",login:{confirmation:"",password:""},confirmationType:""};var A=function(t){e.$applyAsync((function(){e.step=t}))},S=function(){A(5),g.createAccount(e.account)},P=function(){var t=_()(I.a.mark((function t(){var a,n,o,r,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.track(g.generateNewKeys());case 2:if(!u.is("preInvited")){t.next=4;break}return t.abrupt("return",S());case 4:if(k.paymentPromise){t.next=6;break}return t.abrupt("return",A(3));case 6:if(m.optionsHumanCheck("payment")){t.next=11;break}return A(3),a=s.getString("It currently isn't possible to subscribe to a Paid ProtonMail plan.",null,"Info"),i.info(a),t.abrupt("return");case 11:return t.prev=11,t.next=14,k.paymentPromise;case 14:n=t.sent,o=n.payment,r=n.plans,c=n.planIds,delete k.paymentPromise,m.set("temp.planIds",c),m.set("temp.payment",o),e.$applyAsync((function(){e.payment=o,e.plans=r,e.step=4})),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(11),delete k.paymentPromise,A(3);case 28:case"end":return t.stop()}}),t,null,[[11,24]])})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=_()(I.a.mark((function t(){var a,n,o,r=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=r.length>0&&void 0!==r[0]?r[0]:"")&&p.isValid(a)){t.next=3;break}return t.abrupt("return",i.error(v.invalidGiftCode));case 3:if(!k.paymentPromise){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,k.paymentPromise=x(Wn(Wn({},c),{},{giftCode:a})),t.next=9,l.track(k.paymentPromise);case 9:n=t.sent,(o=n.payment).Gift&&(i.success(v.validGiftCode),w.signup("gift.applied",o)),m.set("temp.payment",o),e.$applyAsync((function(){e.payment=o})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),delete k.paymentPromise;case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(){return t.apply(this,arguments)}}();function E(t){m.verify(t).then(S)}h("payments",(function(t,e){var a=e.type,n=e.data,o=void 0===n?{}:n;"create.account"===a&&("humanVerification"!==o.action&&S(),"humanVerification"===o.action&&E(o.options))}));var M=function(t,a){return e.$applyAsync((function(){return e[t]=a}))};h("signup",(function(t,a){var n=a.type,o=a.data;"chech.humanity"===n&&(M("step",3),e.$applyAsync((function(){var t=e.account,a=t.smsCodeVerification,n=t.emailCodeVerification,o=a?"sms":n&&"email";e.account.confirmationType=o||"",e.account.emailCodeVerification="",e.account.smsCodeVerification=""}))),"creating"===n&&M("step",5),"signup.error"===n&&M("signupError",o.value),"goto.step"===n&&M("step",o.value),"userform.submit"===n&&function(t){m.store(t),A(2),P()}(o),"humanform.submit"===n&&S(),"giftcode.submit"===n&&C(o),"payform.submit"===n&&E(o)})),e.$on("$destroy",(function(){y()}))}Xn.$inject=["$location","$scope","$stateParams","authentication","dispatchers","domains","gettextCatalog","networkActivityTracker","notification","subscriptionInfo","PaymentCache","AppModel","giftCodeModel","signupModel","translator","signupUserProcess"];var Jn=Xn;function Zn(t,e,a,n,o,r,s,l,i,c,d,u,p){function m(){e.params.resetToken="",e.params.danger="",e.params.password="",e.params.passwordConfirm="",e.resetState=e.states.RECOVERY}function f(){return(f=_()(I.a.mark((function t(){var n,r,s,l,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={username:e.params.username,password:e.params.password},e.$applyAsync((function(){e.resetState=e.states.GENERATE})),t.next=4,u.generate(e.addresses,n.password);case 4:return r=t.sent,s=r.mailboxPassword,l=r.keySalt,i=r.keys,e.$applyAsync((function(){e.resetState=e.states.INSTALL,e.resetAccount=!0})),t.next=11,u.reset({keySalt:l,keys:i},n.password,e.tokenParams);case 11:return e.$applyAsync((function(){e.logUserIn=!0})),t.next=14,o.loginWithCookies(n);case 14:return o.setPassword(s),e.$applyAsync((function(){e.finishInstall=!0})),t.abrupt("return",a.go("secured.inbox"));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.states={RECOVERY:1,CODE:2,CHECKING:3,DANGER:4,PASSWORD:5,GENERATE:6,INSTALL:7},e.tools=l,e.params={},e.params.recoveryEmail="",e.params.username="",e.passwordMode=0,m(),e.resetAccount=!1,e.logUserIn=!1,e.finishInstall=!1,e.confirmResetLostPassword=function(){var t=i.getString("Confirm Reset Password",null,"Title"),a=i.getString('Resetting your password means you will no longer be able to read your old emails. <a href="https://protonmail.com/support/knowledge-base/updating-your-login-password/" target="_blank">Click here to learn more</a>. If you have further questions, please email contact@protonmail.com. Are you sure you want to reset your password?',null,"Title");c.activate({params:{title:t,message:a,confirm:function(){var t;c.deactivate(),t=d.request({Username:e.params.username,NotificationEmail:e.params.recoveryEmail}).then((function(){e.resetState=e.states.CODE})),p.track(t)},cancel:function(){c.deactivate()}}})},e.validateToken=function(){e.resetState=e.states.CHECKING,e.tokenParams={Username:e.params.username,Token:e.params.resetToken};var t=d.validate(e.tokenParams).then((function(t){var a=t.data,n=void 0===a?{}:a;e.passwordMode=n.PasswordMode,e.addresses=n.Addresses,e.resetState=e.states.DANGER})).catch((function(t){throw m(),n.error(t),t}));p.track(t)},e.confirmReset=function(){e.resetState=e.states.PASSWORD},e.goToCode=function(){e.resetState=e.states.CODE,e.showTokenUsername=!0},e.resetPassword=function(){p.track(function(){return f.apply(this,arguments)}().catch((function(t){throw n.error(t),m(),t})))},a.is("support.reset-password")&&a.params.username&&a.params.token&&(e.resetState=e.states.CHECKING,e.params.username=a.params.username,e.params.resetToken=a.params.token,e.validateToken())}Zn.$inject=["AppModel","$scope","$state","$log","authentication","authApi","tempStorage","tools","gettextCatalog","confirmModal","Reset","setupKeys","networkActivityTracker"];var Qn=Zn;function to(t,e){return{restrict:"A",link:function(a,n){var o=t(),r=o.on,s=o.unsubscribe;function l(t){return"visionary"===t.PlanName?n[0].classList.add("hideUpgrade"):n[0].classList.remove("hideUpgrade")}r("organizationChange",(function(t,e){return l(e.data)})),l(e.get()),a.$on("$destroy",s)}}}to.$inject=["dispatchers","organizationModel"];var eo=to;function ao(t,e){var n=e("humanSize"),o=e("percentage");return{templateUrl:a("tvbs"),replace:!0,link:function(e){e.storageStyle=function(){return{width:"".concat(o(t.user.UsedSpace,t.user.MaxSpace),"%")}},e.usedSpace=n(t.user.UsedSpace),e.maxSpace=n(t.user.MaxSpace)}}}ao.$inject=["authentication","$filter"];var no=ao,oo=a("k4Da"),ro=a.n(oo);function so(t,e,n){var o=n((function(){return{noImageSelected:t.getString("No image selected",null,"Error notification in the bug report modal when the user upload file")}}));return{replace:!0,restrict:"E",scope:{model:"=",form:"="},templateUrl:a("tAXa"),link:function(t,a){var n=a.find(".bugModalView-input-file"),r=a.find(".bugModalView-clear-upload"),s=function(n){var r=n.target,s=ro()(r.files,(function(t){var e=t.type;return/^image\//i.test(e)}));s.length?(a[0].classList.add("bugModalView-files-uploaded"),t.$applyAsync((function(){t.model.fileList=s}))):e.error(o.noImageSelected)},l=function(){n.val(""),n.wrap("<form>").closest("form").get(0).reset(),n.unwrap(),a[0].classList.remove("bugModalView-files-uploaded"),t.$applyAsync((function(){t.model.fileList=[]}))};n.on("change",s),r.on("click",l),t.$on("$destroy",(function(){n.off("change",s),r.off("click",l)}))}}}so.$inject=["gettextCatalog","notification","translator"];var lo=so;function io(t){var e=function(t){"reload"===t.target.dataset.action&&window.location.reload()};return{restrict:"E",templateUrl:a("50w3"),replace:!0,link:function(a,n){t.set("isUnlock",!0),n.on("click",e),a.$on("$destroy",(function(){t.set("isUnlock",!1),n.off("click",e)}))}}}io.$inject=["AppModel"];var co=io;function uo(t,e,a){var n={version:function(t){return a.getString("New version {{ version }} available",{version:t},"New version")},reload:a.getString("Reload Tab",null,"New version")};return{restrict:"A",link:function(a,o){var r=t(),s=r.on,l=r.unsubscribe,i=function(t){if(o[0].innerHTML="",t){var e=document.createElement("a");e.textContent=n.reload,e.className="newVersion-link",e.dataset.action="reload";var a=document.createElement("p");a.textContent=n.version(t),a.className="newVersion-text",o[0].appendChild(a),o[0].appendChild(e)}};s("AppModel",(function(t,e){var a=e.type,n=e.data;"newVersion"===a&&i((void 0===n?{}:n).value)})),i(e.get("newVersion"));var c=function(t){"reload"===t.target.dataset.action&&window.location.reload()};o[0].addEventListener("click",c),a.$on("$destroy",(function(){l(),o[0].removeEventListener("click",c)}))}}}uo.$inject=["dispatchers","AppModel","gettextCatalog"];var po=uo;function mo(t){return{responseError:function(e){return e.data=e.data||{},t.reject(e)}}}mo.$inject=["$q"];var fo=mo,go=a("qrfN");var vo=function(){return{response:function(t){var e=t.headers("date"),a=new Date(e);return null===e||isNaN(+a)||Object(go.b)(a),t}}};function bo(t){return t({controller:["params",function(t){this.title=t.title,this.message=t.message,this.alert=t.alert||"alert-info",this.ok=function(){t.ok()}}],controllerAs:"ctrl",templateUrl:a("lg+c")})}bo.$inject=["pmModal"];var ho=bo;function yo(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function wo(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?yo(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yo(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function xo(t){return t({controllerAs:"ctrl",templateUrl:a("7bOk"),controller:["params",function(t){var e=this,a=(t.form.Description||"").trim();this.form=wo(wo({},t.form),{},{Description:"".concat(a,"\n\n\n ").concat(t.content||"")}),this.submit=function(){return t.submit(e.form)},this.cancel=t.cancel}]})}xo.$inject=["pmModal"];var ko=xo;function Ao(t){return t({controllerAs:"ctrl",templateUrl:a("NB5d"),controller:["params",function(t){this.close=t.close,this.articleLink=Le.a.articleLink,this.dateVersion=Le.a.date_version,this.appVersion=Le.a.app_version,this.changelogPath=Le.a.changelogPath}]})}Ao.$inject=["pmModal"];var So=Ao;function Po(t,e,n){var o=n((function(){return{confirm:e.getString("Confirm",null,"Default text for the confirm button in the confirm modal"),cancel:e.getString("Cancel",null,"Default text for the cancel button in the confirm modal")}}));return t({controllerAs:"ctrl",templateUrl:a("Sdia"),controller:["params","hotkeys",function(t,e){e.unbind(["enter"]),this.title=t.title,this.icon=t.icon,this.learnMore=t.learnMore,this.message=t.message,this.confirmText=t.confirmText||o.confirm,this.hideClose=t.hideClose,this.classNameMessage=t.customAlert?"":function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isDanger,a=void 0!==e&&e,n=t.isWarning,o=void 0!==n&&n,r=a&&"alert-danger",s=o&&"alert-warning";return["alert",r,s].filter(Boolean).join(" ")}(t),this.class=t.class,this.confirmClass=t.confirmClass||"primary",this.cancelText=t.cancelText||o.cancel,this.confirm=function(){return e.bind(["enter"]),t.confirm()},this.cancel=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cross";return e.bind(["enter"]),t.cancel(a)},setTimeout((function(){return angular.element("#confirmModalBtn").focus()}),100)}]})}Po.$inject=["pmModal","gettextCatalog","translator"];var Co=Po,Eo=a("Iab2"),Mo=a.n(Eo);function To(t,e,a){var n=a((function(){return{NEWER_BROWSER:t.getString("Download requires a newer browser.",null,"Error"),LEARN_MORE:t.getString("Learn more.",null,"Info")}}));return function(t,a){try{if(!Object(be.k)())throw new Error(n.NEWER_BROWSER);Mo()(t,a)}catch(o){e.error("".concat(n.NEWER_BROWSER,' <a href="https://protonmail.com/support/knowledge-base/problems-with-attachments/" target="_blank">').concat(n.LEARN_MORE,"</a>")),console.error(o)}}}To.$inject=["gettextCatalog","notification","translator"];var Io=To;function Do(t){var e=0,a={"loginPassword:cancel":!0};return function(n){if(e++,console.error(n),e<6){var o=function(t){if(t instanceof Error)return t;if("string"==typeof t)return new Error(t);try{var e=angular.toJson(t);return $.isEmptyObject(e)?new Error(t.toString()):new Error(t)}catch(r){return r}}(n);if(a[r=o]||a[(r||{}).message])return Promise.resolve();try{return t.get("bugReportApi").crash(o)}catch(s){console.error(s)}}var r;return Promise.resolve()}}Do.$inject=["$injector"];var _o=Do;function Oo(t,e,n,o,r){return t({controllerAs:"ctrl",templateUrl:a("TbP7"),controller:["params",function(t){var a=this;this.fdbckTxt="",this.submit=function(){var s=a.fdbckTxt,l={OS:"--",OSVersion:"--",Browser:"--",BrowserVersion:"--",BrowserExtensions:"--",Client:"--",ClientVersion:"--",ClientType:m.p,Title:"[FEEDBACK v3]",Username:"--",Email:"--",Description:s},i=e.bug(l);i.then((function(){n.success(r.getString("Thanks for your feedback!",null,"Success message when sending feedback")),t.close()})),o.track(i)},this.close=function(){t.close()}}]})}Oo.$inject=["pmModal","Report","notification","networkActivityTracker","gettextCatalog"];var Lo=Oo;function No(t,e){return t({controllerAs:"ctrl",templateUrl:a("k6gy"),controller:["params",function(t){var a=e.get().ViewLayout;this.isMac=-1!==navigator.userAgent.indexOf("Mac OS X"),a===m.fc?this.mode="row":a===m.q&&(this.mode="column"),this.close=function(){t.close()}}]})}No.$inject=["pmModal","mailSettingsModel"];var $o=No;function Ro(t,e){return e({controllerAs:"ctrl",templateUrl:a("5ACN"),controller:["params","$scope",function(e,a){var n=this,o=t(),r=o.on,s=o.unsubscribe;n.methods=e.methods,n.token=e.token,n.tokens={captcha:""},n.tokenType="captcha",n.cancel=function(){return e.close(!1)},n.submit=function(){return e.close({Token:n.tokens[n.tokenType],TokenType:n.tokenType})},r("captcha.token",(function(t,e){var o=e.type,r=e.data;"token"===o&&a.$applyAsync((function(){n.tokens.captcha=r}))})),n.$onDestroy=function(){s()}}]})}Ro.$inject=["dispatchers","pmModal"];var jo=Ro;function Fo(t){return t({controllerAs:"ctrl",templateUrl:a("hiv9"),controller:["params",function(t){this.loginPassword="",this.keyPassword="",this.submit=function(){t.submit&&t.submit(this.loginPassword,this.keyPassword)}.bind(this),this.cancel=function(){t.cancel&&t.cancel()}}]})}Fo.$inject=["pmModal"];var Uo=Fo;function Vo(t,e){return t({controllerAs:"ctrl",templateUrl:a("S6tf"),controller:["params",function(t){this.recoveryCodesFirstHalf=t.recoveryCodes.slice(0,8),this.recoveryCodesSecondHalf=t.recoveryCodes.slice(8,16),this.download=function(){var a=new Blob([t.recoveryCodes.join("\r\n")],{type:"text/plain;charset=utf-8;"});e(a,"protonmail_recovery_codes.txt")},this.done=function(){t.close()},this.cancel=function(){t.close()}}]})}Vo.$inject=["pmModal","downloadFile"];var zo=Vo;function Ko(t){return t({controllerAs:"ctrl",templateUrl:a("0kgz"),controller:["params",function(t){this.cancel=function(){t.cancel&&t.cancel()}}]})}Ko.$inject=["pmModal"];var Bo=Ko;function Go(t,e){return e({controllerAs:"ctrl",templateUrl:a("/TQ7"),controller:["params",function(e){this.currentPasswordMode=t.get("PasswordMode"),this.save=function(){},this.cancel=e.cancel}]})}Go.$inject=["userSettingsModel","pmModal"];var qo=Go;function Ho(t){return t({controllerAs:"ctrl",templateUrl:a("3GxN"),controller:["params",function(t){this.next=function(){return t.next()},this.cancel=function(){return t.cancel()}}]})}Ho.$inject=["pmModal"];var Yo=Ho;function Wo(t,e){return e({controllerAs:"ctrl",templateUrl:a("chdq"),controller:["params",function(e){var a=t(["domainModal"]).dispatcher;this.domain=e.domain,this.step=e.step,this.open=function(t){return a.domainModal(t,{domain:e.domain})},this.submit=e.submit,this.next=function(){e.close(),e.next()},this.close=e.close}]})}Wo.$inject=["dispatchers","pmModal"];var Xo=Wo;function Jo(t,e,a){var n=a().on,o={},r=function(){clearInterval(o.intervalHandle),delete o.intervalHandle},s=function(){var a=_()(I.a.mark((function a(){var n,o,s,l;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.get(Le.a.versionPath);case 2:if(n=a.sent,o=n.data,s=(o=void 0===o?{}:o).version,l=o.commit,i=l,c=Le.a.commit,i&&c!==i){a.next=8;break}return a.abrupt("return");case 8:e.set("newVersion",s),r();case 10:case"end":return a.stop()}var i,c}),a)})));return function(){return a.apply(this,arguments)}}();return n("logout",r),function(){clearInterval(o.intervalHandle),o.intervalHandle=setInterval(s,m.xc.INTERVAL),s()}}Jo.$inject=["$http","AppModel","dispatchers"];var Zo=Jo;function Qo(t,e,n,o){return t({controllerAs:"ctrl",templateUrl:a("PS/N"),controller:["params",function(t){var a=this,r=e.user.Name,s=void 0===r?"":r,l=n.getFirst(),i=l.DisplayName,c=void 0===i?"":i,d=l.Signature,u=void 0===d?"":d;this.displayName=c||s,this.cancel=t.cancel,this.next=function(){a.displayName.length&&o.save({DisplayName:a.displayName,Signature:u}),t.next()}}]})}Qo.$inject=["pmModal","authentication","addressesModel","signatureModel"];var tr=Qo;function er(t){var e=t().on,a={windows:[]},n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if("all"===t)return a.windows.forEach((function(t){var e=t.win,a=t.unsubscribe;return e.close(),a()})),void(a.windows.length=0);a.windows.forEach((function(e){var a=e.win,n=e.type,o=e.unsubscribe;return t===n&&(a.close(),o())})),a.windows=a.windows.filter((function(e){var a=e.type;return t!==a}))};return e("subscription",(function(t,e){var a=e.type;"update"===(void 0===a?"":a)&&n("paypal")})),{add:function(t){return a.windows.push(t)},reset:n}}er.$inject=["dispatchers"];var ar=er;function nr(t,e,a){var n=function(e,a){var n=a.value;return t.$applyAsync((function(){return t[e]=n}))},o=a(),r=o.on,s=o.unsubscribe;t.inboxSidebar=e.is("inboxSidebar"),t.showSidebar=e.is("showSidebar"),t.settingsSidebar=e.is("settingsSidebar"),t.contactSidebar=e.is("contactSidebar"),t.mobileMode=e.is("mobile"),r("AppModel",(function(t,e){var a=e.type,o=e.data,r=void 0===o?{}:o;"mobile"===a&&n("mobileMode",r),/^(show|inbox|settings|contact)Sidebar$/.test(a)&&n(a,r)})),t.$on("$destroy",(function(){s()}))}nr.$inject=["$scope","AppModel","dispatchers"];var or=nr;function rr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function sr(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?rr(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):rr(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function lr(t){return function(e){var a=e.params;return new Promise((function(e){var n=function(a){return function(){return t.deactivate().then((function(){return e(a)}))}};t.activate({params:sr(sr({},a),{},{confirm:n(!0),cancel:n(!1)})})}))}}lr.$inject=["confirmModal"];var ir=lr,cr=a("D0BC"),dr=a.n(cr);function ur(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function pr(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ur(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ur(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}mr.$inject=["dispatchers","iframeVerifWizard","pmDomainModel","User","gettextCatalog","$injector"];function mr(t,e,n,o,r,s){var l=function(){return n.get().map((function(t,e){return{selected:0===e,value:t}}))},i=e.getOrigin(),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.username,n=void 0===a?"":a,o={PLACEHOLDER_USERNAME:r.getString("Choose username",null,"Placeholder"),LABEL_DOMAIN:r.getString("Select a domain",null,"Title"),LABEL_RECOVERY:r.getString("Add a recovery email",null,"Title"),PLACEHOLDER_RECOVERY:r.getString("Recovery email",null,"Placeholder"),AGREE_TXT:r.getString("By clicking Create Account, you agree to abide by",null,"Info"),AGREE_LINK:r.getString("ProtonMail's Terms and Conditions",null,"Title"),AGREE_ALREADY:r.getString("Already have an account?",null,"Action"),BUTTON:r.getString("Create Account",null,"Action"),ERRORS:{USERNAME:{REQUIRED:r.getString("Username required",null,"Error"),MAXLENGTH:r.getString("maximum length for a username is {{maxlength}} characters",{maxlength:40},"Error"),PATTERN:r.getString("It must contain only letters/digits or - and start with a letter/digit",null,"Error"),TOO_MUCH:r.getString("You are doing this too much, please try again later",null,"Error"),OFFLINE:r.getString("No Internet connection found.",null,"Error"),REQUEST:r.getString("The request failed",null,"Error")},EMAIL:{PATTERN:r.getString("Invalid email",null,"Error")}},USERNAME:{AVAILABLE:r.getString("Username available",null,"Info"),CHECKING:r.getString("Checking username",null,"Info")}},s={top:[{component:"username",label:o.PLACEHOLDER_USERNAME,placeholder:o.PLACEHOLDER_USERNAME,maxlength:40,minlength:1,required:!0,name:"username",value:n,domains:{component:"domains",label:o.LABEL_DOMAIN,name:"domain",options:l()},errors:o.ERRORS.USERNAME,messages:{username:o.USERNAME}}],bottom:[{component:"email",label:o.LABEL_RECOVERY,placeholder:o.PLACEHOLDER_RECOVERY,type:"email",name:"notificationEmail",errors:o.ERRORS.EMAIL},{component:"signupSubmit",baseUrl:window.location.origin,messages:{agreeLabel:o.AGREE_TXT,agreeLink:o.AGREE_LINK,alreadyUser:o.AGREE_ALREADY},button:{label:o.BUTTON}}]};return{name:t,targetOrigin:i.app,config:s[t]}},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a="top"===t?0:1;return["".concat(i.iframeUrl,"challenge/html"),"?Type=".concat(a),"&name=".concat(t),Object(be.m)()?"&IE11=1":"",e>0?"&retry=".concat(e):""].filter(Boolean).join("")};return{replace:!0,restrict:"E",templateUrl:a("b+cR"),link:function(a,n,o){var r,l=o.mode,u=t(["bugReport"]).dispatcher,p=e("signupUserForm"),m=!1,f=0,g=l||"top",v=function(t){var e=document.createElement("iframe");return e.title="Registration form",e.scrolling="no",e.className=t,e.dataset.name=t,e.sandbox="allow-scripts allow-same-origin allow-popups allow-top-navigation",e.src="".concat(d(t)),e}(g),b=[],h=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"step";b.push({text:"".concat((new Date).toISOString()," ").concat(t),extra:e,type:a})},y=function(t,e){h(t,e,"error")},w=function(){var t=_()(I.a.mark((function t(){var e,a,n,o=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]&&o[0],b.some((function(t){return"error"===t.type}))){t.next=3;break}return t.abrupt("return");case 3:a={steps:b,browser:Object(be.a)(),device:Object(be.c)(),os:Object(be.d)(),locale:tn(),time:(new Date).toString()},n=e?"Failed to load signupiframe fatally":"Failed to load signupiframe partially",s.get("bugReportApi").message(n,{extra:a});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function t(){if(!m){if(h("retry ".concat(f)),++f<=2){clearTimeout(r);var e=dr()(0,5);return r=setTimeout((function(){t()}),1e3*(15+10*f-e)),void(v.src=d(g,f))}y("".concat(g," ").concat(v.src," gave up")),n[0].classList.add("signupIframe-loaded"),n[0].classList.add("signupIframe-error"),w(!0)}};r=setTimeout((function(){y("".concat(g," ").concat(v.src," timed out after ").concat(15,"s")),x()}),15e3),p.register(l,v,(function(t){var e=t.data.data,a=e.form;return{fingerprint:e.fingerprint,user:pr(pr({},a.inputs),a.selects)}})),p.onError((function(t){y("onerror",t)})),p.onLoad(g,(function(){h("iframe onload"),v.contentWindow.postMessage({type:"init.challenge",data:{name:g,config:c(g,a.account||a.model)}},i.iframe)})),p.onDone(g,(function(){clearTimeout(r),m=!0,n[0].classList.add("signupIframe-loaded"),h("iframe loaded"),w()}));var k=function(t){h("data",t.data,"message")};window.addEventListener("message",k,!1),n[0].querySelector(".signupIframe-iframe").appendChild(v),h("added iframe");var A=n[0].querySelector('[data-action="help"]'),S=function(){u.bugReport("new")};A.addEventListener("click",S),a.$on("$destroy",(function(){clearTimeout(r),clearTimeout(void 0),A.removeEventListener("click",S),window.removeEventListener("message",k,!1)}))}}}var fr=mr,gr=angular.module("proton.core",["proton.utils"]).run(["paginationModel","cachePages",function(t,e){t.init(),e.init()}]).controller("SidebarController",or).controller("HeaderController",Un).controller("SecuredController",zn).controller("SetupController",Bn).controller("SignupController",Jn).controller("SupportController",Qn).directive("hideUpgrade",eo).directive("placeholderProgress",no).directive("bugModalView",lo).directive("newVersion",po).directive("signupIframe",fr).directive("accountLoadError",co).factory("formatResponseInterceptor",fo).factory("serverTimeInterceptor",vo).factory("alertModal",ho).factory("bugModal",ko).factory("confirmModal",Co).factory("releaseNotesModal",So).factory("downloadFile",Io).factory("$exceptionHandler",_o).factory("feedbackModal",Lo).factory("hotkeyModal",$o).factory("humanVerificationModal",jo).factory("reactivateModal",Uo).factory("recoveryCodeModal",zo).factory("supportModal",Bo).factory("switchPasswordModeModal",qo).factory("twoFAIntroModal",Yo).factory("verificationModal",Xo).factory("versionInfoModel",Zo).factory("welcomeModal",tr).factory("windowModel",ar).factory("confirm",ir).name,vr=function(){return{replace:!0,templateUrl:a("jEJy")}};function br(t,e){var a=e.build("domains"),n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a};return{addresses:function(e){return t.get(a(e,"addresses")).then(n)},delete:function(e){return t.delete(a(e)).then(n)},create:function(e){return t.post(a(),e).then(n)},query:function(){return t.get(a()).then(n)},available:function(){return t.get(a("available")).then(n)},premium:function(){return t.get(a("premium")).then(n)},get:function(e){return t.get(a(e)).then(n)},catchall:function(e,o){return t.put(a(e,"catchall"),o).then(n)}}}br.$inject=["$http","url"];var hr=br,yr=a("pEW7");function wr(t,e){var a={domains:[]},n=t(["domainsChange"]),o=n.dispatcher,r=n.on,s=function(){return a.domains.slice()},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a.domains=t.slice(),o.domainsChange("",s())},i=function(){var t=_()(I.a.mark((function t(n,o){var r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.catchall(n,{AddressID:o});case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:return r=t.t0,Ca()(a.domains,{ID:n}).CatchAll=o,t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),c=function(){var t=_()(I.a.mark((function t(){var a,n,o,r,s=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:{},t.next=3,e.addresses(a.ID);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0={};case 6:return n=t.t0,o=n.Addresses,r=void 0===o?[]:o,a.Addresses=r,t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=_()(I.a.mark((function t(){var a,n,o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.query();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:return a=t.t0,n=a.Domains,o=void 0===n?[]:n,t.t1=l,t.next=11,Promise.all(o.map(c));case 11:return t.t2=t.sent,(0,t.t1)(t.t2),t.abrupt("return",s());case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){return a.domains.length=0},p=function(){var t=_()(I.a.mark((function t(e){var n,o,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(yr.a)(a.domains,e,"Domain"),o=n.collection,r=void 0===o?[]:o,t.t0=l,t.next=4,Promise.all(r.map(c));case 4:t.t1=t.sent,(0,t.t0)(t.t1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r("app.event",(function(t,e){var a=e.type,n=e.data;"domains"===a&&p(void 0===n?{}:n)})),r("logout",(function(){u()})),{query:s,get:function(t){return Ca()(s(),{ID:t})},set:l,fetch:d,clear:u,catchall:i}}wr.$inject=["dispatchers","domainApi"];var xr=wr;function kr(t,e,a){var n=[],o=e().on;var r=function(){return t.isLoggedIn()&&t.hasPaidMail()};function s(){n.length=0}return o("logout",(function(){r()&&s()})),{get:function(){return n.slice()},fetch:function(){var t=[a.available()];return r()&&t.push(a.premium()),Promise.all(t).then((function(t){var e=t.reduce((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.push.apply(t,ce()(e.Domains)),t}),[]);return function(t){s(),n.push.apply(n,ce()(t))}(e),e}))},clear:s}}kr.$inject=["authentication","dispatchers","domainApi"];var Ar=kr;function Sr(t,e){var a={},n=function(){return a.premiums.slice()},o=function(){var t=n()||[],e=M()(t,1)[0];return void 0===e?"pm.me":e};return{first:o,fetch:function(){return e.premium().then((function(t){var e=t.Domains;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a.premiums=t}(void 0===e?[]:e),n()}))},email:function(){return"".concat(t.user.Name,"@").concat(o())}}}Sr.$inject=["authentication","domainApi"];var Pr=Sr;function Cr(t,e){var n=0,o=1;return e({controllerAs:"ctrl",templateUrl:a("uL0n"),controller:["params",function(e){var a=t(["domainModal"]).dispatcher,r=(e.domain||{}).Keys,s=void 0===r?[]:r;this.domain=e.domain,this.domainKeys=s.filter((function(t){var e=t.State;return[n,o].includes(e)})),this.step=e.step,this.open=function(t){return a.domainModal(t,{domain:e.domain})},this.next=function(){e.next()},this.close=function(){e.close()}}]})}Cr.$inject=["dispatchers","pmModal"];var Er=Cr;function Mr(t,e){return e({controllerAs:"ctrl",templateUrl:a("UShx"),controller:["params",function(e){var a=t(["domainModal"]).dispatcher;this.domain=e.domain,this.step=e.step,this.open=function(t){return a.domainModal(t,{domain:e.domain})},this.verify=function(){e.verify()},this.close=function(){e.close()}}]})}Mr.$inject=["dispatchers","pmModal"];var Tr=Mr;function Ir(t,e){return e({controllerAs:"ctrl",templateUrl:a("ywhq"),controller:["params",function(e){var a=this,n=t(["domainModal"]).dispatcher;this.step=e.step,this.next=e.next,this.cancel=e.cancel,this.domain=e.domain,this.name="",this.open=function(t){return n.domainModal(t,{domain:e.domain})},this.submit=function(){return(e.submit||ta.a)(a.name)},this.beginsWith=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=a.name,n=void 0===e?"":e;return n.substring(0,t.length)===t}}]})}Ir.$inject=["dispatchers","pmModal"];var Dr=Ir;function _r(t,e){return e({controllerAs:"ctrl",templateUrl:a("o4/q"),controller:["params",function(e){var a=t(["domainModal"]).dispatcher;this.domain=e.domain,this.step=e.step,this.open=function(t){return a.domainModal(t,{domain:e.domain})},this.next=function(){e.next()},this.close=function(){e.close()}}]})}_r.$inject=["dispatchers","pmModal"];var Or=_r;function Lr(t,e){return e({controllerAs:"ctrl",templateUrl:a("Jsx3"),controller:["params",function(e){var a=t(["domainModal"]).dispatcher;this.domain=e.domain,this.step=e.step,this.open=function(t){return a.domainModal(t,{domain:e.domain})},this.next=function(){e.next()},this.close=function(){e.close()}}]})}Lr.$inject=["dispatchers","pmModal"];var Nr=Lr,$r=angular.module("proton.domains",[]).directive("domainsMenuStep",vr).factory("domainApi",hr).factory("domainModel",xr).factory("premiumDomainModel",Pr).factory("dkimModal",Er).factory("dmarcModal",Tr).factory("domainModal",Dr).factory("mxModal",Or).factory("spfModal",Nr).factory("pmDomainModel",Ar).name;function Rr(t,e,n){var o=e.host(),r=t(["humanVerification"]).dispatcher,s={type:"pm_captcha",language:"en",key:"6LcWsBUTAAAAAOkRfBk-EXkGzOfcSz3CzvYbxfTn"};return{replace:!0,templateUrl:a("8Kzt"),link:function(t,e,a){var l,i=a.token,c=void 0===i?"signup":i,d=e.find("iframe"),u=(l=d,function(t){if((void 0!==t.origin||void 0!==t.originalEvent.origin)&&(t.origin||t.originalEvent.origin)===m.db){var e=t.data;"pm_captcha"===e.type&&r.humanVerification("captcha",e),"pm_height"===e.type&&l.height(t.data.height+40)}}),p=n({token:c,client:"web",host:o});window.captchaSendMessage=function(){d[0].contentWindow.postMessage(s,m.db)},d[0].onload=window.captchaSendMessage,d[0].src="https://secure.protonmail.com/captcha/captcha.html?"+p,window.addEventListener("message",u,!1),t.$on("$destroy",(function(){window.removeEventListener("message",u,!1)}))}}}Rr.$inject=["dispatchers","url","$httpParamSerializer"];var jr=Rr;function Fr(t,e,n){return{restrict:"E",templateUrl:a("8L/1"),link:function(a,o,r){var s=r.token,l=e(["captcha.token"]).dispatcher,i=o[0].querySelector("iframe"),c=n.host(),d=t({token:s,client:"web",host:c});function u(t){var e=t.origin,a=t.originalEvent,n=t.data;if((void 0!==e||void 0!==a.origin)&&("https://secure.protonmail.com"===(e||a.origin)&&("pm_captcha"===n.type&&l["captcha.token"]("token",n.token),"pm_height"===n.type))){var o=t.data.height+40;i.style.height="".concat(o,"px")}}window.addEventListener("message",u,!1),i.src="https://secure.protonmail.com/captcha/captcha.html?"+d,a.$on("$destroy",(function(){window.removeEventListener("message",u,!1)}))}}}Fr.$inject=["$httpParamSerializer","dispatchers","url"];var Ur=Fr;var Vr=function(){return{require:"ngModel",link:function(t,e,a,n){n.$validators.cardCvc=function(t){return $.payment.validateCardCVC(t)}}}};var zr=function(){return{require:"ngModel",link:function(t,e,a,n){n.$validators.cardNumber=function(t){return $.payment.validateCardNumber(t)}}}};function Kr(t){var e=t(),n=(new Date).getFullYear(),o=p()(1,13).map((function(t){return"0".concat(t).slice(-2)})),r=p()(n,n+12);return{replace:!0,templateUrl:a("Be5g"),scope:{card:"=",form:"="},link:function(t){var a=t.card.country?Ca()(e,{value:t.card.country.value}):e[0];t.months=o,t.years=r,t.countries=e,t.card.country=a,t.card.month=t.months[0],t.card.year=t.years[0]}}}Kr.$inject=["countriesListModel"];var Br=Kr;var Gr=function(){var t=["prontonmail.","prtonmail.","protomail.","protonmai.","protonmsil.","ptotonmail."].reduce((function(t,e){return t.concat([e+"ch",e+"com"])}),[]).concat(["gmail.co","yahoo.co"]);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=e.split("@");if(a.length){var n=a[1];return t.indexOf(n)>-1}return!1}};var qr=function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(t,e,a,n){n.$validators.compareTo=function(e){return!t.otherModelValue||e===t.otherModelValue},t.$watch("otherModelValue",(function(){n.$validate()}))}}},Hr=a("MIlz");function Yr(t,e){var a=e((function(){return{TITLE:t.getString("Security Code",null,"Credit card CVC"),LINE1:t.getString("For Visa, MasterCard and Discover, the 3 digits on the back of your card.",null,"Info"),LINE2:t.getString("For American Express, the 4 digits on the front of your card.",null,"Info")}}));return{restrict:"A",link:function(t,e){e[0].setAttribute("tabindex",0),e[0].setAttribute("role","button");var n={container:".cardView-container",trigger:"focus",html:!0,title:"\n                    <h4>".concat(a.TITLE,"</h4>\n                    <p>").concat(a.LINE1,"</br>").concat(a.LINE2,"</p>\n                ")},o=Object(Hr.a)(e,n);t.$on("$destroy",(function(){o.dispose()}))}}}Yr.$inject=["gettextCatalog","translator"];var Wr=Yr;function Xr(t,e){var a=e((function(){return{DANGER:t.getString("DANGER",null,"Make sure the DANGER string is translated"),PLACEHOLDER:t.getString("Enter the word 'DANGER' here.",null,"Make sure the DANGER string is translated")}}));function n(t){return t===a.DANGER}return{require:"ngModel",restrict:"A",scope:{dangerWord:"="},link:function(t,e,o,r){t.dangerWord=a.DANGER,e.attr("placeholder",a.PLACEHOLDER),r.$validators.danger=n}}}Xr.$inject=["gettextCatalog","translator"];var Jr=Xr;var Zr=function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t,"-is-invalid")};return{link:function(e,a,n){var o=n.name;if(!o)throw new Error("A form must contains a name attribute");var r=function(){if(e[o].$invalid)return a[0].classList.add(t(o));a[0].classList.remove(t(o))};a.on("submit",r),e.$on("$destroy",(function(){a.off("submit",r)}))}}};if(Object(be.n)()&&Object(be.l)()){var Qr=document.createElement("LINK");Qr.type="text/css",Qr.rel="stylesheet",Qr.href="/assets/fonts/text-security-disc.css",document.body.appendChild(Qr)}var ts=function(){return{restrict:"E",replace:!0,templateUrl:a("Gxd/"),scope:{value:"=",form:"=",compare:"="},compile:function(t,e){var a=e.autofocus,n=e.compare,o=e.id,r=void 0===o?"pw".concat(Object(j.k)()):o,s=e.name,l=void 0===s?"":s,i=e.placeholder,c=void 0===i?"":i,d=e.tabindex,u=void 0===d?0:d;return function(t,e,a){var n=a.autofocus,o=a.compare,r=t.querySelector("INPUT");Object.keys(e).forEach((function(t){var a=e[t];a&&r.setAttribute(t,a)})),o&&r.setAttribute("data-compare-to","compare"),n&&r.setAttribute("autofocus",!0)}(t[0],{id:r,name:l,placeholder:c,tabindex:u},{compare:n,autofocus:a}),function(t,e,a){var n=a.autofocus,o=e[0].querySelector(".password-input");t.message=t.form[l].$error,n&&document.activeElement!==o&&_rAF((function(){return o.focus()}))}}}};function es(){var t=Pn()(['<button type="button" tabindex="0" class="togglePassword-btn-toggle">\n        <i class="togglePassword-icon-toText fa fa-eye" pt-tooltip="','"><span class="sr-only">','</span></i>\n        <i class="togglePassword-icon-toPassword fa fa-eye-slash" pt-tooltip="','"><span class="sr-only">',"</span></i>\n    </button>"]);return es=function(){return t},t}function as(t,e){var a=e((function(){return{SHOW:t.getString("Show password",null,"toggle password"),HIDE:t.getString("Hide password",null,"toggle password")}})),n=Object(Cn.a)(es(),a.SHOW,a.SHOW,a.HIDE,a.HIDE);return{restrict:"A",compile:function(t){var e=t[0].parentElement;return e.insertAdjacentHTML("beforeEnd",n),e.classList.add("customPasswordToggler"),function(t,e){var a=e[0].parentElement.querySelector(".togglePassword-btn-toggle"),n=function(){var t="text"===e[0].type?"password":"text";e[0].setAttribute("type",t),a.classList.toggle("togglePassword-btn-display")};a.addEventListener("click",n),t.$on("$destroy",(function(){a.removeEventListener("click",n)}))}}}}as.$inject=["gettextCatalog","translator"];var ns=as;function os(t,e){var a=["offlineError","tooMuch","requestError","apiError"],n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.toLowerCase().replace(/\.|-|_/,"")},o=function(t,e){e.$applyAsync((function(){delete e.apiErrorMessage})),a.forEach((function(e){return delete t.$error[e]}))};return{require:"ngModel",restrict:"A",link:function(a,r,s,l){l.$asyncValidators.unique=function(a,r){return function(){var s=_()(I.a.mark((function s(l){var i,c,d;return I.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n(l)!==t.inviteSelector){s.next=3;break}return s.abrupt("return",!0);case 3:return s.prev=3,o(a,r),s.next=7,e.available({params:{Name:l},noNotify:!0});case 7:return o(a,r),s.abrupt("return",!0);case 11:if(s.prev=11,s.t0=s.catch(3),i=s.t0.status,c=s.t0.data,d=void 0===c?{}:c,o(a,r),i!==st.d.TOO_MANY_REQUESTS){s.next=18;break}return a.$error.tooMuch=!0,s.abrupt("return",!1);case 18:if(i!==st.d.TIMEOUT&&i!==st.d.ABORTED){s.next=21;break}return a.$error.offlineError=!0,s.abrupt("return",!1);case 21:if(!d.Error){s.next=25;break}return a.$error.apiError=!0,r.$applyAsync((function(){r.apiErrorMessage=d.Error})),s.abrupt("return",!1);case 25:return a.$error.requestError=!0,s.abrupt("return",!1);case 27:case"end":return s.stop()}}),s,null,[[3,11]])})));return function(t){return s.apply(this,arguments)}}()}(l,a)}}}os.$inject=["$stateParams","User"];var rs=os;var ss=function(){return{require:"ngModel",restrict:"A",scope:{domain:"=validRecoveryDomain",username:"=validRecoveryUsername"},link:function(t,e,a,n){n.$validators.validRecovery=function(t){return function(e){var a=t.username,n=void 0===a?"":a,o=t.domain,r=void 0===o?"":o;return e!=="".concat(n,"@").concat(r)}}(t)}}};function ls(t){var e="ng-warning-".concat("typo-email");return{link:function(a,n){var o=n[0].nextElementSibling.querySelector('[ng-message-warning="'.concat("typo-email",'"]')),r=function(a){var r,s,l=a.target;r=t(l.value),s=r?"add":"remove",n[0].classList[s](e),o.style.display=r?"initial":"none"};n[0].addEventListener("blur",r),a.$on("$destroy",(function(){n[0].removeEventListener("blur",r)}))}}}ls.$inject=["checkTypoEmails"];var is=ls;var cs=function(){var t=function(t){return String(t).replace(/\s+/g,"")},e=function(t){var e=2===String(t).length?"20":"";return"".concat(e).concat(t)};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=angular.copy(a),o=function(){return t(n.number)},r=function(){return n.month},s=function(){return e(n.year)},l=function(){return t(n.cvc)},i=function(){return n.fullname},c=function(){return n.zip},d=function(){return n.country.value},u=function(){return{Number:o(),ExpMonth:r(),ExpYear:s(),CVC:l(),Name:i(),Country:d(),ZIP:c()}};return{number:o,month:r,year:s,cvc:l,fullname:i,zip:c,country:d,details:u}}};var ds=function(){var t={label:"------------------",value:"",disabled:!0},e=[{value:"AF",label:"Afghanistan"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AG",label:"Antigua and Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia"},{value:"BA",label:"Bosnia Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"VG",label:"British Virgin Islands"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"CV",label:"Cape Verde"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CG",label:"Congo"},{value:"CD",label:"Congo (The Democratic Republic of the)"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"CI",label:"Cote d Ivoire (Ivory Coast)"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CW",label:"Curaao"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czech Republic"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"TL",label:"East Timor"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GT",label:"Guatemala"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island and McDonald Islands"},{value:"VA",label:"Holy See (Vatican City State)"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IR",label:"Islamic Republic of Iran"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"KP",label:"Korea (Democratic People s Republic of)"},{value:"KR",label:"Korea (Republic of)"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgzstan"},{value:"LA",label:"Lao People s Democratic Republic"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libyan Arab Jamahiriya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"MD",label:"Moldova"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"ME",label:"Montenegro"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"AN",label:"Netherlands Antilles"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"QA",label:"Qatar"},{value:"RE",label:"Reunion"},{value:"RO",label:"Romania"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"SH",label:"Saint Helena"},{value:"KN",label:"Saint Kitts and Nevis"},{value:"LC",label:"Saint Lucia"},{value:"PM",label:"Saint Pierre and Miquelon"},{value:"VC",label:"Saint Vincent and the Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome and Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"RS",label:"Serbia"},{value:"SC",label:"Seychelles"},{value:"SL",label:"Sierra Leone"},{value:"SG",label:"Singapore"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"SO",label:"Somalia"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia and the South Sandwich Islands"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard and Jan Mayen"},{value:"SZ",label:"Swaziland"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"SY",label:"Syrian Arab Republic"},{value:"TW",label:"Taiwan"},{value:"TJ",label:"Tajikstan"},{value:"TZ",label:"Tanzania United Republic"},{value:"TH",label:"Thailand"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad and Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks and Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"GB",label:"United Kingdom"},{value:"US",label:"United States"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VE",label:"Venezuela"},{value:"VN",label:"Vietnam"},{value:"WF",label:"Wallis and Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}],a=[{label:"United States",value:"US"},{label:"United Kingdom",value:"GB"},{label:"Switzerland",value:"CH"},{label:"France",value:"FR"},{label:"Germany",value:"DE"},{label:"Canada",value:"CA"}];return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return a.concat([n],e)}};function us(t,e,a,n,o){var r=t(["humanVerification"]).dispatcher,s=function(t){return n.getString("Code sent to: {{email}}",{email:t},"Success")},l=function(t,e){var a="sms"===t?"Phone":"Address";return x()({},a,e)};return{sendCode:function(t,n){return a.code({Username:e.get("username"),Type:t,Destination:l(t,n)}).then((function(){e.set("smsVerificationSent","sms"===t),e.set("emailVerificationSent","email"===t),r.humanVerification("code.sent.success",{method:t}),o.success(s(n))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.data,n=void 0===a?{}:a;return r.humanVerification("code.sent.error",{method:t,errorMessage:n.Error})}))}}}us.$inject=["dispatchers","signupModel","User","gettextCatalog","notification"];var ps=us;var ms=function(){return{require:"ngModel",restrict:"A",link:function(t,e,a,n){"email"===a.type&&(n.$validators.email=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.$isEmpty(e)||m.Zb.test(e)}}(n))}}},fs=/\r\n|\n|\r/;var gs=function(){return{require:"ngModel",restrict:"A",link:function(t,e,a,n){n.$validators.isValidInvoiceText=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=(t||"").trim().split(fs);return e.length<=8&&(n.$setValidity("isValidInvoiceTextLine",e.every((function(t){return t.length<=40}))),!0)}}}};function vs(t,e,n,o,r){var s={},l=t(["signup"]),i=l.on,c=l.unsubscribe,d=function(t){return r.getString("Please wait {{delay}} second(s) before requesting a new code",{delay:t},"Info")};return i("signup",(function(t,e){var a=e.type,n=e.data;"user.finish"===a&&n.value&&(Object.keys(s).forEach((function(t){delete s[t]})),c())})),{replace:!0,scope:{code:"=",codeRetry:"=",method:"@"},restrict:"E",templateUrl:a("yRUs"),link:function(a,r){var s=t(["humanVerification"]),l=s.on,i=s.unsubscribe,c=s.dispatcher,u=a.method;a.model={value:""};var p={canSend:!1};var m=function(t){a.$applyAsync((function(){r[0][t].focus()}))},f=function(t){if(t.preventDefault(),t.stopPropagation(),a.codeVerificatorForm.$valid){p.canSend=!1,p.start=Date.now(),"timer"in p&&clearTimeout(p.timer),p.timer=setTimeout((function(){p.canSend=!0,clearTimeout(p.timer),delete p.timer}),3e4),p[u]=a.model.value;var o=e.sendCode(u,a.model.value);n.track(o),a.$applyAsync((function(){return a.code=""}))}},g=function(t){var e=t.target.getAttribute("data-action");if("sendNewCode"===e){if(!p.canSend){var n=Math.ceil((3e4-(Date.now()-p.start))/1e3);return o.info(d(n))}f({preventDefault:function(){},stopPropagation:function(){}})}"resetCode"===e&&(r[0].classList.remove("codeVerificator-code-sent"),delete p[u],a.$applyAsync((function(){a.model.value=""})))};l("humanVerification",(function(t,e){var a=e.type,n=e.data;"code.sent.success"===a&&n.method===u&&(r[0].classList.add("codeVerificator-code-sent"),m("codeValue")),"code.sent.error"===a&&n.method===u&&n.errorMessage&&(o.error(n.errorMessage),r[0].classList.remove("codeVerificator-code-sent"))}));var v=function(t){"Enter"===t.key&&a.code&&(t.preventDefault(),t.stopPropagation(),c.humanVerification("validate.submit.codeVerification"))},b=function(){p[u]=a.model.value};a.model.value=p[u],r[0].classList.add("codeVerificator-".concat(u,"-method")),m("".concat(u,"Verification")),r.on("change",b),r.on("keydown",v),r.on("submit",f),r.on("click",g),a.$on("$destroy",(function(){r.off("change",b),r.off("submit",f),r.off("click",g),r.off("keydown",v),i()}))}}}vs.$inject=["dispatchers","humanVerificationModel","networkActivityTracker","notification","gettextCatalog"];var bs=vs,hs=angular.module("proton.formUtils",["ngIntlTelInput"]).directive("isValidInvoiceText",gs).directive("validEmail",ms).directive("captcha",jr).directive("captchaView",Ur).directive("cardCvc",Vr).directive("cardNumber",zr).directive("cardView",Br).directive("compareTo",qr).directive("cvcTooltip",Wr).directive("danger",Jr).directive("formIsInvalid",Zr).directive("password",ts).directive("togglePassword",ns).directive("uniqueUsername",rs).directive("validRecovery",ss).directive("validatorTypoEmail",is).directive("codeVerificator",bs).factory("cardModel",cs).factory("checkTypoEmails",Gr).factory("humanVerificationModel",ps).factory("countriesListModel",ds).name,ys=a("i639");function ws(t,e,n,o,r){var s=function(){var t=_()(I.a.mark((function t(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get();case 2:return e=t.sent,t.abrupt("return",e.length);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{restrict:"E",replace:!0,scope:{},templateUrl:a("nc5Q"),link:function(a,r){var l=t(),i=l.on,c=l.unsubscribe,d=function(){var t=_()(I.a.mark((function t(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:if(!t.sent){t.next=6;break}t.t0="add",t.next=7;break;case 6:t.t0="remove";case 7:e=t.t0,r[0].classList[e]("keysView-require-keys-reactivation");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=_()(I.a.mark((function t(){var n,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.user,t.next=3,e.getUserKeys(n);case 3:r=t.sent,a.$applyAsync((function(){a.isSubUser=n.subuser,a.userKeys=r,d()}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=_()(I.a.mark((function t(){var o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAddressKeys(n.get());case 2:o=t.sent,a.$applyAsync((function(){a.addressKeys=Object(ys.d)("addressID",a.addressKeys,o),d()}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();i("updateUser",(function(){u()})),i("keysModel",(function(t,e){var a=e.type;"updated"===(void 0===a?"":a)&&p()})),p(),u(),a.$on("$destroy",c)}}}ws.$inject=["dispatchers","addressKeysViewModel","addressesModel","authentication","reactivateKeys"];var xs=ws,ks=a("9sRk"),As=a("ID4j"),Ss=a("FaOd");function Ps(t,e,a,n,o,r,s,l){function i(){return(i=_()(I.a.mark((function t(){var e,a,n,o,r,l=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=l.length>0&&void 0!==l[0]?l[0]:"",a=l.length>1&&void 0!==l[1]?l[1]:"",(l.length>2&&void 0!==l[2]?l[2]:{}).Role===m.Nb){t.next=5;break}return t.abrupt("return",0);case 5:return t.next=7,s.getKeys();case 7:return n=t.sent,o=n.PrivateKey,t.prev=9,t.next=12,Object(R.a)(o,a);case 12:return r=t.sent,t.abrupt("return",Object(ks.a)(r,e));case 16:return t.prev=16,t.t0=t.catch(9),t.abrupt("return",0);case 19:case"end":return t.stop()}}),t,null,[[9,16]])})))).apply(this,arguments)}return function(t){var s,c=t.newPassword,d=void 0===c?"":c,u=t.onePassword,p=void 0!==u&&u,m=a.getPassword(),f=Object(N.c)(),g=p?d:"",v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Promise.all([Object(N.b)(t,e),l.get()]).then((function(t){var e=M()(t,2),a=e[0],n=e[1];return{password:a,user:void 0===n?{}:n}}))}(d,f).then((function(t){var a=t.password,n=void 0===a?"":a,o=t.user,r=void 0===o?{}:o,l=[],c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[];n.Keys.forEach((function(t){return o.push(t)})),e.getByUser(n).forEach((function(t){t.Keys.forEach((function(t){return o.push(t)}))}));var r=[];if(n.OrganizationPrivateKey){var s=Object(R.a)(n.OrganizationPrivateKey,a);r=o.map((function(t){var e=t.PrivateKey,a=t.ID,n=t.Token;return Promise.all([s,Object(As.e)(n)]).then((function(t){var e=M()(t,2),a=e[0],n=e[1];return Object(Ss.b)({message:n,privateKeys:[a]})})).then((function(t){var a=t.data;return Object(R.a)(e,a)})).then((function(t){return{ID:a,pkg:t}}))}))}else r=o.map((function(t){var e=t.PrivateKey,n=t.ID;return Object(R.a)(e,a).then((function(t){return{ID:n,pkg:t}}))}));return r.map((function(e){return e.then((function(e){var a=e.ID,n=e.pkg;return Object(ks.a)(n,t).then((function(t){return{ID:a,PrivateKey:t}}))}),(function(){return 0}))}))}(s=n,m,r);return l.push(function(){return i.apply(this,arguments)}(s,m,r)),c.forEach((function(t){return l.push(t)})),Promise.all(l)})).then((function(t){var e=Ga()(t),a=e[0];return function(t){var e=t.keys,a=void 0===e?[]:e,r=t.keySalt,s=void 0===r?"":r,l=t.organizationKey,i=void 0===l?0:l,c=t.newLoginPassword,d=void 0===c?"":c,u=a.filter((function(t){return 0!==t})),p={KeySalt:s,Keys:u};if(0===u.length)throw new Error(n.getString("No keys to update",null,"Error"));return 0!==i&&(p.OrganizationKey=i),o.updatePrivate(p,d)}({keys:e.slice(1),keySalt:f,organizationKey:a,newLoginPassword:g})})).then((function(){return a.setPassword(s)}));return r.track(v),v}}Ps.$inject=["$log","addressesModel","authentication","gettextCatalog","Key","networkActivityTracker","organizationApi","User"];var Cs=Ps;function Es(t,e,n,o,r,s,l,i,c){return s({controllerAs:"ctrl",templateUrl:a("5mZJ"),controller:["params",function(a){var s=this,d=a.type,u=void 0===d?"":d,p=a.phase,m=void 0===p?0:p,f={password:function(){return t({newPassword:s.newPassword,onePassword:!0})},login:function(){return l.password(s.newPassword)},mailbox:function(){return t({newPassword:s.newPassword,onePassword:!1})}};s.mode=i.get("PasswordMode"),s.type=u,s.newPassword="",s.confirmPassword="",s.submit=function(){var t=1===m;e.stop();var s=f[u]().then((function(){return t?Promise.resolve():c.lock()})).then((function(){return e.call()})).then((function(){r.success(n.getString("Password updated",null,"Success")),a.close(t)})).finally((function(){e.start()}));o.track(s)},s.cancel=function(){var t=c.lock().then((function(){return a.close(!1)}));o.track(t)},setTimeout((function(){return document.getElementById("newPassword").focus()}),0)}]})}Es.$inject=["changeMailboxPassword","eventManager","gettextCatalog","networkActivityTracker","notification","pmModal","settingsApi","userSettingsModel","User"];var Ms=Es;function Ts(t,e){return function(a){for(var n=e.getAllKeys(m.tb),o=0;o<n.length;o++){var r=n[o],s=r.key,l=r.pkg;if(s.Version<m.mb&&l)return!1}for(var i=t.get("addressesModel").getByUser(a),c=0;c<i.length;c++)for(var d=e.getAllKeys(i[c].ID),u=0;u<d.length;u++){var p=d[u],f=p.key,g=p.pkg;if(f.Version<m.mb&&g)return!1}return!0}}Ts.$inject=["$injector","keysModel"];var Is=Ts;function Ds(t){return t({controllerAs:"ctrl",templateUrl:a("PLun"),controller:["params",function(t){this.exportPrivate=t.exportPrivate,this.exportPublic=t.exportPublic,this.cancel=function(){t.cancel()}}]})}Ds.$inject=["pmModal"];var _s=Ds,Os=a("pdRq");function Ls(t,e,n){return t({controllerAs:"ctrl",templateUrl:a("Obzp"),controller:["params","$scope",function(t,a){var o=this;o.password="";var r=t.privateKey;Object(Os.f)(t.privateKey).then((function(t){var e=M()(t,1)[0];a.$applyAsync((function(){o.fingerprint=Object(Os.e)(e).substring(0,8)}))})),setTimeout((function(){return document.getElementById("password").focus()}),100),o.submit=function(){Object(R.a)(r,o.password).then((function(e){t.submit(e)})).catch((function(){e.error(n.getString("Incorrect decryption password",null,"Error"))}))},o.cancel=function(){t.cancel()}}]})}Ls.$inject=["pmModal","notification","gettextCatalog"];var Ns=Ls,$s=a("0YDr"),Rs=a.n($s),js=a("TYy9"),Fs=a.n(js),Us=a("J4u2");function Vs(t,e,a,n,o,r,s,l){var i=/-----BEGIN PGP PRIVATE KEY BLOCK-----(?:(?!-----)[\s\S])*-----END PGP PRIVATE KEY BLOCK-----/g,c=function(){var t=_()(I.a.mark((function t(e,a){var n,o,r,s,c,d;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.match(i)||[],a){t.next=3;break}return t.abrupt("return",n);case 3:return t.next=5,Promise.all([Object(Us.a)(a.PrivateKey),Promise.all(n.map(Us.a))]);case 5:if(o=t.sent,r=M()(o,2),s=r[0],c=r[1],!((d=c.findIndex((function(t){var e=t.fingerprint;return s.fingerprint===e})))<0)){t.next=12;break}throw new Error(l.getString("Uploaded key doesn't match selected key.",null,"Error message"));case 12:return t.abrupt("return",[n[d]]);case 13:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),d=function(e){return Object(Us.a)(e).then((function(a){var n=a.decrypted,o=void 0===n?null:n,r=a.fingerprint;return!1!==o?Object(Os.f)(e):new Promise((function(a,n){return t.activate({params:{privateKey:e,fingerprint:r,submit:function(e){t.deactivate(),a(e)},cancel:function(){t.deactivate(),n()}}})}))}),(function(t){throw r.error(l.getString("Unsupported key",null,"Error")),t}))},u=function(t){return Promise.all(t.map(d)).then(Fs.a).catch((function(){return null}))},p=function(t,e){var n=a.getPassword();return Promise.all(t.map(function(){var t=_()(I.a.mark((function t(a){var o,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Os.i)({privateKey:a,userIds:[{name:e,email:e}],passphrase:n});case 2:return o=t.sent,r=o.privateKeyArmored,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},m=function(){var t=_()(I.a.mark((function t(e,s,l){var i,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o,t.t1=s,t.next=4,Object(R.a)(e,a.getPassword());case 4:return t.t2=t.sent,t.t3=e,t.t4={mode:"create",decryptedPrivateKey:t.t2,encryptedPrivateKey:t.t3},t.next=9,t.t0.signedKeyList.call(t.t0,t.t1,t.t4);case 9:return i=t.sent,c=s?n.create({AddressID:s,PrivateKey:e,Primary:0,SignedKeyList:i}):n.reactivate(l,{PrivateKey:e,SignedKeyList:i}),t.abrupt("return",c.then((function(){return 1})).catch((function(t){return!t.noNotify&&r.error(t.data&&t.data.Error?t.data.Error:t.message),0})));case 12:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),f=function(){var t=_()(I.a.mark((function t(e,a,n){var o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:return t.next=4,Promise.all(e.map((function(t){return m(t,a,n)})));case 4:return o=t.sent,t.abrupt("return",Rs()(o));case 6:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),g=function(){var t=_()(I.a.mark((function t(a,n){var o,r,s,l,i,c,d,u,m,g,v,b,h=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=h.length>2&&void 0!==h[2]?h[2]:{},r=o.PrivateKey,s=o.ID,l=e.get().find((function(t){return t.Email===n}))||{},i=l.ID,c=void 0!==i&&i){t.next=11;break}return t.next=5,Object(Os.f)(r);case 5:return d=t.sent,u=d[0].users[0].userId.userid.split(/(<|>)/g),m=M()(u,3),g=m[2],t.next=9,p(a,g);case 9:return v=t.sent,t.abrupt("return",f(v,c,s));case 11:return t.next=13,p(a,n);case 13:return b=t.sent,t.abrupt("return",f(b,c,s));case 15:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return{importKey:function(){var t=_()(I.a.mark((function t(e,a,n){var o,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e,n);case 2:if(0!==(o=t.sent).length){t.next=5;break}throw new Error(l.getString("Invalid private key file.",null,"Error message"));case 5:return t.next=7,u(o);case 7:if(null!==(r=t.sent)){t.next=10;break}return t.abrupt("return",0);case 10:return t.abrupt("return",g(r,a,n));case 11:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()}}Vs.$inject=["decryptImportKeyModal","addressesModel","authentication","Key","keysModel","notification","unlockUser","gettextCatalog"];var zs=Vs;function Ks(t,e,a,n){var o=e("humanSize"),r=n((function(){return{REDUCE_KEY_SIZE_TITLE:a.getString("Reduce Key Size",null,"Modal title"),reduceKeySizeText:function(t,e,n){return a.getString("\n            The key with fingerprint <code>{{ fingerprint }}</code> has a large size ({{ oldsize }}).\n            By removing {{ diffsize }} of key certifications, the key size can be reduced to {{ newsize }}.\n            Key certifications are not necessary for sending mail and could cause issues with performance and data usage.\n            Would you like to remove these signatures?",{oldsize:o(n),newsize:o(e),diffsize:o(n-e),fingerprint:t.substring(0,10)},"Modal message")}}})),s=function(){var e=_()(I.a.mark((function e(a,n){var o,s,l,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Os.f)(a);case 2:return o=e.sent,s=M()(o,1),l=s[0],i=l.primaryKey.getFingerprint(),e.abrupt("return",t({params:{class:"very-important",title:r.REDUCE_KEY_SIZE_TITLE,message:r.reduceKeySizeText(i,n.length,a.length)}}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return{compressKey:function(){var t=_()(I.a.mark((function t(e){var a,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<m.qb)){t.next=2;break}return t.abrupt("return",e);case 2:return t.next=4,Object(Os.b)(e);case 4:if(!((a=t.sent).length>m.qb&&a.length>.6*e)){t.next=7;break}return t.abrupt("return",e);case 7:return t.next=9,s(e,a);case 9:return n=t.sent,t.abrupt("return",n?a:e);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}Ks.$inject=["confirm","$filter","gettextCatalog","translator"];var Bs=Ks;function Gs(t,e){return t({controllerAs:"ctrl",templateUrl:a("PDpG"),controller:["params",function(t){var a=this;this.cancel=t.cancel,this.submit=function(){return t.submit(a.password)},this.import=function(){return t.import()},this.passwordMode=e.get("PasswordMode"),this.password="",setTimeout((function(){return document.getElementById("password").focus()}),100)}]})}Gs.$inject=["pmModal","userSettingsModel"];var qs=Gs;function Hs(t,e){return t({controllerAs:"ctrl",templateUrl:a("1ogP"),controller:["params",function(t){var a=this;a.passwordMode=e.user.PasswordMode,a.password="",setTimeout((function(){return document.getElementById("password").focus()}),100),a.submit=function(){Object(R.a)(t.privateKey,e.getPassword()).then((function(t){return Object(ks.a)(t,a.password)})).then((function(e){return t.export(e)}))},a.cancel=function(){t.cancel()}}]})}Hs.$inject=["pmModal","authentication"];var Ys=Hs,Ws=a("Kv4S"),Xs=a("F4Gm"),Js=a.n(Xs);function Zs(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Qs(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Zs(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Zs(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function tl(t,e,a){function n(){return o.apply(this,arguments)}function o(){return(o=_()(I.a.mark((function t(){var e,a,n,o,r=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:[],a=r.length>1&&void 0!==r[1]?r[1]:"",n=r.length>2&&void 0!==r[2]?r[2]:m.K,o=e.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ID,o=t.Email,r=t.Keys,s=t.Receive;return Object(Os.c)(Qs({userIds:[{name:o,email:o}],passphrase:a},m.S[n])).then((function(t){var a=t.privateKeyArmored;return{AddressID:e,PrivateKey:a,Keys:r,Receive:s}}))})),t.abrupt("return",Promise.all(o));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(){return(r=_()(I.a.mark((function t(){var e,a,o,r,s,l=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:[],a=l.length>1&&void 0!==l[1]?l[1]:"",o=l.length>2&&void 0!==l[2]?l[2]:m.K,r=Object(N.c)(),t.next=6,Object(N.b)(a,r);case 6:return s=t.sent,t.t0=s,t.t1=r,t.next=11,n(e,s,o);case 11:return t.t2=t.sent,t.abrupt("return",{mailboxPassword:t.t0,keySalt:t.t1,keys:t.t2});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return l.apply(this,arguments)}function l(){return(l=_()(I.a.mark((function t(){var e,a,n,o,r,s,l,i=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},a=e.Token,n=e.Activation,o=e.PrivateKey,r=i.length>1?i[1]:void 0,t.t0=Ss.b,t.next=5,Object(As.e)(a||n);case 5:return t.t1=t.sent,t.t2=r,t.t3=r.map((function(t){return t.toPublic()})),t.t4={message:t.t1,privateKeys:t.t2,publicKeys:t.t3},t.next=11,(0,t.t0)(t.t4);case 11:if(s=t.sent,l=s.data,1===s.verified){t.next=16;break}throw new Error("Signature verification failed");case 16:return t.abrupt("return",{PrivateKey:o,decryptedToken:l});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return c.apply(this,arguments)}function c(){return(c=_()(I.a.mark((function t(){var e,a,n,o,r,l=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:{},a=l.length>1?l[1]:void 0,t.next=4,s(e,a);case 4:return n=t.sent,o=n.PrivateKey,r=n.decryptedToken,t.abrupt("return",Object(R.a)(o,r));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return u.apply(this,arguments)}function u(){return(u=_()(I.a.mark((function t(){var e,a,n,o,r=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:{},a=e.Keys,n=void 0===a?[]:a,o=r.length>1&&void 0!==r[1]?r[1]:{},n.length){t.next=4;break}throw new Error("User not set up");case 4:return t.abrupt("return",i(n[0],[o]));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=_()(I.a.mark((function t(){var a,n,o,r,s,l=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=l.length>0&&void 0!==l[0]?l[0]:"",n=l.length>1&&void 0!==l[1]?l[1]:[],o=l.length>2&&void 0!==l[2]?l[2]:"",r={KeySalt:a},!n.length){t.next=12;break}return t.next=7,Object(N.b)(o,a);case 7:return s=t.sent,r.PrimaryKey=n[0].PrivateKey,t.next=11,Promise.all(n.map(function(){var t=_()(I.a.mark((function t(a){var n,o,r,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.AddressID,o=a.Receive,r=a.PrivateKey,l=a.Keys,t.t0=n,t.t1=r,t.t2=e,t.t3=n,t.next=7,Object(R.a)(r,s);case 7:return t.t4=t.sent,t.t5=r,t.t6=l,t.t7=o,t.t8={mode:"reset",decryptedPrivateKey:t.t4,encryptedPrivateKey:t.t5,resetKeys:t.t6,canReceive:t.t7},t.next=14,t.t2.signedKeyList.call(t.t2,t.t3,t.t8);case 14:return t.t9=t.sent,t.abrupt("return",{AddressID:t.t0,PrivateKey:t.t1,SignedKeyList:t.t9});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 11:r.AddressKeys=t.sent;case 12:if(!o.length){t.next=14;break}return t.abrupt("return",{payload:r,newPassword:o});case 14:return t.abrupt("return",{payload:r,newPassword:""});case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return(v=_()(I.a.mark((function t(){var a,n,o,r,s,l,i,c,d,u,p,m,f=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=f.length>0&&void 0!==f[0]?f[0]:"",n=f.length>1&&void 0!==f[1]?f[1]:{},o=n.PrivateKey,r=n.AddressID,s=f.length>2&&void 0!==f[2]?f[2]:{},l=Js()(new Uint8Array(128)),i=Object(xn.k)(Object(xn.c)(l)),t.next=7,Object(R.a)(o,a);case 7:return c=t.sent,t.next=10,Object(ks.a)(c,i);case 10:return d=t.sent,t.next=13,Object(Ws.a)({data:i,publicKeys:s.toPublic(),privateKeys:s});case 13:return u=t.sent,p=u.data,t.next=17,e.signedKeyList(r,{mode:"reset",decryptedPrivateKey:c,encryptedPrivateKey:o});case 17:return m=t.sent,t.abrupt("return",{AddressID:r,UserKey:o,MemberKey:d,Token:p,SignedKeyList:m});case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.map((function(e){return g(t,e,a)}));return Promise.all(n)}var h=function(){var t=_()(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.data,t.abrupt("return",a.User||a.Member||a.MemberKey);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function y(){return(y=_()(I.a.mark((function e(a){var n,o,r,s,l,i,c=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.keySalt,o=a.keys,r=c.length>1&&void 0!==c[1]?c[1]:"",s=c.length>2&&void 0!==c[2]?c[2]:{},e.next=5,p(n,o,r);case 5:return l=e.sent,i=Qs(Qs({},l.payload),s),e.abrupt("return",t.reset(i,l.newPassword).then(h));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=_()(I.a.mark((function e(a){var n,o,r,s,l,i,c=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.keySalt,o=a.keys,r=c.length>1&&void 0!==c[1]?c[1]:"",e.next=4,p(n,o,r);case 4:return s=e.sent,l=s.payload,i=s.newPassword,e.abrupt("return",t.setup(l,i).then(h));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=_()(I.a.mark((function t(e){var n,o,r,s,l,i,c,d=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.mailboxPassword,o=e.keySalt,r=e.keys,s=d.length>1&&void 0!==d[1]?d[1]:"",l=d.length>2&&void 0!==d[2]?d[2]:"",i=d.length>3&&void 0!==d[3]?d[3]:{},t.next=6,b(n,r,i);case 6:return c=t.sent,t.abrupt("return",a.setupKey(l,s,{AddressKeys:c,KeySalt:o,PrimaryKey:c[0]}).then(h));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=_()(I.a.mark((function t(){var e,n,o,r,s,l,i,c,u,p=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.length>0&&void 0!==p[0]?p[0]:"",n=p.length>1&&void 0!==p[1]?p[1]:"",o=p.length>2&&void 0!==p[2]?p[2]:{},r=p.length>3&&void 0!==p[3]?p[3]:{},t.next=6,d(o,r);case 6:return s=t.sent,t.next=9,Promise.all([g(e,n,s),g(e,n,r)]);case 9:return l=t.sent,i=M()(l,2),c=i[0],u=i[1],t.abrupt("return",a.createKey(o.ID,Qs(Qs({},u),{},{Activation:c.Token,UserKey:c.MemberKey})).then(h));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{generateOrganization:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.K;return Object(Os.c)(Qs({userIds:[{name:"not_for_email_use@domain.tld",email:"not_for_email_use@domain.tld"}],passphrase:t},m.S[e]))},generateAddresses:n,generate:function(){return r.apply(this,arguments)},decryptMemberKey:i,decryptMemberToken:s,memberSetup:function(t){return x.apply(this,arguments)},memberKey:function(){return k.apply(this,arguments)},setup:function(t){return w.apply(this,arguments)},reset:function(t){return y.apply(this,arguments)}}}tl.$inject=["Key","keysModel","memberApi"];var el=tl;function al(t,e,a,n,o,r,s,l){function i(){return c.apply(this,arguments)}function c(){return(c=_()(I.a.mark((function t(){var a,n,r,s,l,i,c,d,u,p,f,g=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=g.length>0&&void 0!==g[0]?g[0]:"",n=g.length>1&&void 0!==g[1]?g[1]:"",(r=g.length>2&&void 0!==g[2]?g[2]:{}).Role===m.Nb){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,o.getKeys();case 7:return s=t.sent,l=s.PrivateKey,i=e.get("addressesModel").getByUser(r)||{},c=M()(i,1),d=c[0].Email,t.prev=10,t.next=13,Object(R.a)(l,n);case 13:return u=t.sent,t.next=16,Object(Os.i)({privateKey:u,userIds:[{name:d,email:d}],passphrase:a});case 16:return p=t.sent,f=p.privateKeyArmored,t.abrupt("return",f);case 21:t.prev=21,t.t0=t.catch(10);case 23:case"end":return t.stop()}}),t,null,[[10,21]])})))).apply(this,arguments)}var d=function(t){return t.filter((function(t){return!!t.pkg}))},u=function(){var t=e.get("addressesModel").get(),a=l.getAllKeys(m.tb),n=d(a),o=M()(t,1)[0];return n.map((function(t){return{address:o,keys:[t]}}))},p=function(){return e.get("addressesModel").get().map((function(t){return{address:t,keys:d(l.getAllKeys(t.ID))}})).filter((function(t){return t.keys.length>0}))};function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=p(),a=u(),n=[].concat(ce()(e),ce()(a)).flatMap((function(e){var a=e.address,n=e.keys,o=a.Email;return n.map(function(){var e=_()(I.a.mark((function e(a){var n,r,s,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.key,r=a.pkg,e.next=3,Object(Os.i)({privateKey:r,userIds:[{name:o,email:o}],passphrase:t});case 3:return s=e.sent,l=s.privateKeyArmored,e.abrupt("return",{ID:n.ID,PrivateKey:l});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));return Promise.all(n)}function g(t){var e=t.keys,a=void 0===e?[]:e,o=t.keySalt,r=void 0===o?"":o,s=t.organizationKey,l=void 0===s?0:s,i=t.loginPassword,c=void 0===i?"":i,d={KeySalt:r,Keys:a};return l&&(d.OrganizationKey=l),n.upgrade(d,c)}return function(){var t=_()(I.a.mark((function t(e){var a,n,o,l,c,d,u,p,m,v,b,h,y,w;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.plainMailboxPass,n=void 0===a?"":a,o=e.oldSaltedPassword,l=void 0===o?"":o,c=e.user,d=void 0===c?{}:c,u=Object(N.c)(),p=s.get("PasswordMode"),m=1===p?n:"",t.next=6,Object(N.b)(n,u);case 6:return v=t.sent,t.next=9,Promise.all([i(v,l,d),f(v)]);case 9:if(b=t.sent,h=M()(b,2),y=h[0],w=h[1],y||w.length){t.next=15;break}return t.abrupt("return");case 15:return t.next=17,g({keys:w,keySalt:u,organizationKey:y,loginPassword:m});case 17:r.setPassword(v);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}al.$inject=["$log","$injector","gettextCatalog","Key","organizationApi","authenticationStore","userSettingsModel","keysModel"];var nl=al,ol=a("63Ao");function rl(t,e,a,n,o,r){var s=r((function(){return{errorPrimaryKey:function(t){var e=t.Email,a=void 0===e?"":e;return o.getString("Primary key for address {{email}} cannot be decrypted. You will not be able to read or write any email from this address",{email:a},"Error")}}})),l=function(t){var e=t.key,a=t.pkg,n=t.address;return e.decrypted=!0,Object(ol.f)(e).then((function(t){return{address:n,key:t,pkg:a}}))},i=function(e){var a=e.key,n=e.address,o=e.index,r=e.ignore,l=void 0!==r&&r;return a.decrypted=!1,Object(ol.f)(a).then((function(e){return 0===o&&(n.disabled=!0,l||t.error(s.errorPrimaryKey(n))),{address:n,key:e,pkg:null}}))};return function(){var t=_()(I.a.mark((function t(e){var a,o,r,s,c,d,u,p,f,g,v,b,h,y,w,x,k;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.user,o=void 0===a?{}:a,r=e.addresses,s=void 0===r?[]:r,c=e.organizationKey,d=e.mailboxPassword,u=e.isSubUser,p=1===o.Private,f={ID:m.tb},g=o.Keys,v=(void 0===g?[]:g).map((function(t,e){return u?n.decryptMemberKey(t,[c]).then((function(e){return l({key:t,pkg:e,address:f})})):Object(R.a)(t.PrivateKey,d).then((function(e){return l({key:t,pkg:e,address:f})}),(function(){return i({key:t,address:f,index:e})}))})),t.next=7,Promise.all(v);case 7:return b=t.sent,h=b.filter((function(t){return!!t.pkg})).map((function(t){return t.pkg})),y=h.map((function(t){return t.toPublic()})),w=s.reduce((function(t,e){if(e.Keys.length){var a=e.Keys.map((function(t,a){var o=t.Activation,r=t.Token,s=t.Signature,p=t.PrivateKey;return r&&s?Object(ol.b)({Token:r,Signature:s,privateKeys:h,publicKeys:c?[c.toPublic()]:y}).then((function(a){return Object(R.a)(p,a).then((function(a){return l({key:t,pkg:a,address:e})}))})).catch((function(){return i({key:t,address:e,index:a})})):u?n.decryptMemberKey(t,[c]).then((function(a){return l({key:t,pkg:a,address:e})})):o?i({key:t,address:e,index:a,ignore:!0}):Object(R.a)(p,d).then((function(a){return l({key:t,pkg:a,address:e})}),(function(){return i({key:t,address:e,index:a})}))}));t.promises=t.promises.concat(a)}return e.Keys.length||1!==e.Status||!0!==p||t.dirtyAddresses.push(e),t}),{promises:[],dirtyAddresses:[]}),x=w.promises,k=w.dirtyAddresses,t.abrupt("return",Promise.all(x).then((function(t){return{keys:b.concat(t),dirtyAddresses:k}})));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}rl.$inject=["notification","Key","keysModel","setupKeys","gettextCatalog","translator"];var sl=rl;function ll(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return il(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return il(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw r}}}}function il(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function cl(t,e,a,n){var o=function(t){var e=t.key,a=t.pkg,n=t.address;return e.decrypted=!0,Object(ol.f)(e).then((function(t){return{address:n,key:t,pkg:a}}))},r=function(){var e=_()(I.a.mark((function e(n){var o,r,s,l,i,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.key,r=n.pkg,s=n.mailboxPassword,l=n.address,e.next=3,Object(ks.a)(r,s);case 3:return i=e.sent,e.next=6,t.signedKeyList(l.ID,{mode:"create",decryptedPrivateKey:r,encryptedPrivateKey:i});case 6:return c=e.sent,e.next=9,a.activate(o.ID,{PrivateKey:i,SignedKeyList:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(){var a=_()(I.a.mark((function a(s,l){var i,c,d;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(i=s.filter((function(t){var e=t.Keys;return(void 0===e?[]:e).some((function(t){return!!t.Activation}))}))).length){a.next=3;break}return a.abrupt("return");case 3:return c=t.getPrivateKeys(m.tb),d=function(){var a=_()(I.a.mark((function a(s){var i,d,u,p,m;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=ll(s.Keys),a.prev=1,i.s();case 3:if((d=i.n()).done){a.next=25;break}if(u=d.value,u.Activation){a.next=8;break}return a.abrupt("continue",23);case 8:return a.prev=8,a.next=11,e.decryptMemberKey(u,c);case 11:return p=a.sent,a.next=14,r({key:u,pkg:p,mailboxPassword:l,address:s});case 14:return a.next=16,o({key:u,pkg:p,address:s});case 16:m=a.sent,t.storeKeys([m]),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(8),n.get("bugReportApi").crash(a.t0);case 23:a.next=3;break;case 25:a.next=30;break;case 27:a.prev=27,a.t1=a.catch(1),i.e(a.t1);case 30:return a.prev=30,i.f(),a.finish(30);case 33:case"end":return a.stop()}}),a,null,[[1,27,30,33],[8,20]])})));return function(t){return a.apply(this,arguments)}}(),a.next=7,Promise.all(i.map(d));case 7:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}()}cl.$inject=["keysModel","setupKeys","Key","$injector"];var dl=cl,ul=a("X/lc");hl.$inject=["dispatchers"];var pl=m.kb.ENCRYPTED,ml=m.kb.SIGNED,fl=m.kb.ENCRYPTED_AND_SIGNED,gl=["remove","set-primary","create"],vl=["reset","set-primary"],bl=["create"];function hl(t){var e=t(["keysModel"]),a=e.dispatcher,n=e.on,o={},r=function(t,e,a){o[t]=o[t]||{},o[t][e.ID]={pkg:a,key:e}},s=function(t){return Object.keys(o[t]).reduce((function(e,a){var n=(o[t][a]||{}).pkg;return n&&e.push(n),e}),[])},l=function(t){return Object.keys(o[t]||{}).map((function(e){return o[t][e]}))},i=function(t){return Object.keys(o[t]||{}).length},c=function(t){var e=t.mode,a=t.key,n=t.targetFingerprint,o=t.keyFingerprint,r=t.newFlags;return"reset"===e?Object(ul.a)(a.Flags,pl):"mark"===e&&n===o?r:a.Flags},d=function(){var t=_()(I.a.mark((function t(e){var a,n,o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Os.f)(e);case 2:return a=t.sent,n=M()(a,1),o=n[0],t.abrupt("return",o.getFingerprint());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=_()(I.a.mark((function t(e,a,n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("reset"!==e){t.next=2;break}return t.abrupt("return",a.Fingerprint);case 2:if(!n){t.next=4;break}return t.abrupt("return",Object(Os.e)(n));case 4:return t.abrupt("return",d(a.PrivateKey));case 5:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),p=function(){var t=_()(I.a.mark((function t(){var e,a,n,o,r,s,l,i,p,m,f,g=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=g.length>0&&void 0!==g[0]?g[0]:[],a=g.length>1?g[1]:void 0,n=a.mode,o=a.newFlags,r=a.decryptedPrivateKey,s=a.encryptedPrivateKey,l=a.canReceive,!s){t.next=8;break}return t.next=5,d(s);case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0="";case 9:return i=t.t0,t.next=12,Promise.all(e.map((function(t){var e=t.key,a=t.pkg;return u(n,e,a)})));case 12:return p=t.sent,m=e.reduce((function(t,e,a){var r=e.key,s=e.pkg,l=p[a];return gl.includes(n)&&l===i||t.push({Fingerprint:l,Flags:c({mode:n,key:r,targetFingerprint:i,keyFingerprint:l,newFlags:o}),pkg:s}),t}),[]),vl.includes(n)&&m.unshift({Fingerprint:i,Flags:e.length&&0===l?ml:fl,pkg:r}),bl.includes(n)&&(f=p.length&&p[0]===i,m[f?"unshift":"push"]({Fingerprint:i,Flags:fl,pkg:r})),t.abrupt("return",{primaryKey:m[0].pkg,preparedKeys:m.map((function(t,e){return{Fingerprint:t.Fingerprint,Primary:+(0===e),Flags:t.Flags}}))});case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=_()(I.a.mark((function t(){var e,a,n,o,r,s,c,d,u,f,g,v,b,h,y,w,x=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=x.length>0&&void 0!==x[0]?x[0]:m.tb,a=x.length>1&&void 0!==x[1]?x[1]:{},n=a.mode,o=a.decryptedPrivateKey,r=a.encryptedPrivateKey,s=a.newFlags,c=a.resetKeys,d=void 0===c?[]:c,u=a.canReceive,f=i(e)?l(e):d.map((function(t){return{key:t,pkg:null}})),t.next=5,p(f,{mode:n,newFlags:s,decryptedPrivateKey:o,encryptedPrivateKey:r,canReceive:u});case 5:return g=t.sent,v=g.preparedKeys,b=g.primaryKey,h=JSON.stringify(v),t.next=11,Object(As.h)({data:h,privateKeys:[b],armor:!0,detached:!0});case 11:return y=t.sent,w=y.signature,t.abrupt("return",{Data:h,Signature:w});case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n("logout",(function(){Object.entries(o).forEach((function(t){var e=M()(t,2)[1],a=void 0===e?{}:e;Object.entries(a).forEach((function(t){var e=M()(t,2)[1],a=(e=void 0===e?{}:e).pkg;a&&a.clearPrivateParams()}))})),o={}})),{storeKeys:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var e=t.address,a=t.key,n=t.pkg;return r(e.ID,a,n)})),a.keysModel("updated",{keys:t})},getAllKeys:l,getPublicKeys:function(t){return s(t).map((function(t){return t.toPublic()}))},getPrivateKeys:s,hasKey:i,signedKeyList:f,clearAddressKeys:function(){o=x()({},m.tb,o[m.tb])}}}var yl=hl,wl=angular.module("proton.keys",[]).factory("keysModel",yl).factory("decryptKeys",sl).directive("keysView",xs).factory("changeMailboxPassword",Cs).factory("changePasswordModal",Ms).factory("checkKeysFormat",Is).factory("importPrivateKey",zs).factory("keyCompression",Bs).factory("reactivateKeyModal",qs).factory("decryptImportKeyModal",Ns).factory("exportKeyModal",_s).factory("exportPrivateKeyModal",Ys).factory("setupKeys",el).factory("activateKeys",dl).factory("upgradeKeys",nl).name;function xl(t,e,a){var n=a((function(){return{edit:e.getString("Edit",null,"Action"),add:e.getString("Add user",null,"Action"),destroy:e.getString("Delete",null,"Action"),remove:e.getString("Remove",null,"Action"),login:e.getString("Login",null,"Action"),makeAdmin:e.getString("Make Admin",null,"Action"),revokeAdmin:e.getString("Revoke Admin",null,"Action"),makePrivate:e.getString("Make Private",null,"Action"),enableSupport:e.getString("Enable multi-user support",null,"Action"),revokeSessions:e.getString("Revoke sessions",null,"Action")}}));return{replace:!0,scope:{model:"=?"},template:'<button type="button" class="memberEditBtn-container">'.concat(n.edit,"</button>"),link:function(e,a,o){var r=o.action,s=void 0===r?"edit":r;"edit"!==s&&a.text(n[s]);var l=function(){return t[s](e.model)};a.on("click",l),e.$on("$destroy",(function(){a.off("click",l)}))}}}xl.$inject=["memberActions","gettextCatalog","translator"];var kl=xl;function Al(t,e){return{restrict:"E",templateUrl:a("k21V"),link:function(a,n){var o=n.find("button"),r=function(){return t.activateKeys(e.get())};o.on("click",r),a.$on("$destroy",(function(){o.off("click",r)}))}}}Al.$inject=["organizationKeysModel","organizationModel"];var Sl=Al;function Pl(t,e,a){var n=e.build("members"),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a};return{addresses:function(e){return t.get(n(e,"addresses"))},authenticate:function(t,e){return a.auth.post(e,n(t,"auth")).then(o).then((function(t){return t.UID}))},create:function(t,e){return a.verify.post({Password:e},n(),t).then(o)},createKey:function(e,a){return t.post(n(e,"keys"),a)},deleteKey:function(e,a){return t.put(n(e,"keys",a,"delete"))},get:function(e){return t.get(n(e))},name:function(e,a){return t.put(n(e,"name"),{Name:a}).then(o)},password:function(t,e){return a.verify.post({Password:e},n(t,"password"))},primaryKey:function(e,a){return t.put(n(e,"keys",a,"primary"))},privatize:function(e){return t.put(n(e,"privatize")).then(o)},query:function(){return t.get(n()).then(o)},quota:function(e,a){return t.put(n(e,"quota"),{MaxSpace:a}).then(o)},remove:function(e){return t.delete(n(e)).then(o)},revoke:function(){return t.delete(n("auth"))},revokeSessions:function(e){return t.delete(n(e,"sessions"))},role:function(e,a){return t.put(n(e,"role"),a).then(o)},setupKey:function(t,e,o){return a.verify.post({Password:e},n(t,"keys","setup"),o)},updateKey:function(e,a,o){return t.put(n(e,"keys",a),o)},vpn:function(e,a){return t.put(n(e,"vpn"),{MaxVPN:a}).then(o)}}}Pl.$inject=["$http","url","srp"];var Cl=Pl,El=a("MJIl"),Ml=a.n(El),Tl=a("628V"),Il=a.n(Tl),Dl=a("Snkc"),_l=a.n(Dl),Ol=a("tCnl"),Ll=a.n(Ol),Nl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Ll()(_l()("Order"),Il()((function(t,e){var a=e.Status,n=e.Receive,o=e.Send;return e.isDefault=!1,!t.found&&a&&n&&o&&(t.found=!0,e.isDefault=!0),t.adrs.push(e),t}),{adrs:[],found:!1}))(t),a=e.adrs,n=void 0===a?[]:a;return n};function $l(t,e,a,n,o,r){var s=[],l=t(["members"]),i=l.dispatcher,c=l.on,d=r((function(){var t;return{ROLES:(t={},x()(t,m.Nb,n.getString("Admin",null,"User role")),x()(t,m.Ob,n.getString("Member",null,"User role")),t)}})),u={Self:1},p=function(){return s},f=function(){return s.length=0},g=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return f(),(t=s).push.apply(t,ce()(e))},v=function(){Lt()(u,{Name:o.user.Name,Addresses:e.get(),UsedSpace:o.user.UsedSpace,MaxSpace:o.user.MaxSpace})},b=function(){var t=_()(I.a.mark((function t(e){var n,o,r,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.addresses(e.ID);case 2:return n=t.sent,o=n.data,r=(void 0===o?{}:o).Addresses,s=void 0===r?[]:r,t.next=8,Object(ol.d)(Nl(s));case 8:return e.Addresses=t.sent,t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=_()(I.a.mark((function t(){var e,n,o,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(),t.next=3,a.query();case 3:return e=t.sent,n=e.Members,o=void 0===n?[]:n,t.next=8,Promise.all(o.map(b));case 8:return r=t.sent,g(y(r)),t.abrupt("return",p());case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return qn()(t,(function(t){return t.toggle=1===t.Self,t}))}function w(){return y(o.user.Role===m.ab?(v(),[u]):p())}var k=function(){var t=_()(I.a.mark((function t(){var e,a,n,o,r,l,c=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:[],a=Object(yr.a)(s,e,"Member"),n=a.collection,o=a.todo,r=[].concat(o.create,o.update).map((function(t){return t.ID})),t.next=5,Promise.all(n.map((function(t){return r.includes(t.ID)?b(t):t})));case 5:l=t.sent,s=De()(l,(function(t){var e=t.Name;return(void 0===e?"":e).toLowerCase()})),i.members("update",{list:s});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c("app.event",(function(t,e){var a=e.type,n=e.data;"members"===a&&k(void 0===n?{}:n)})),c("logout",(function(){f()})),{get:p,set:g,fetch:h,clear:f,remove:function(t){var e=t.ID;return a.remove(e)},changeRole:function(t,e){var n=t.ID;return a.role(n,e)},revokeSessions:function(t){var e=t.ID;return a.revokeSessions(e)},makePrivate:function(t){var e=t.ID;return a.privatize(e)},login:function(t,e){var n=t.ID;return a.authenticate(n,e)},getAll:w,getNonPrivate:function(){return ro()(w(),(function(t){return 0===t.Private}))},hasAdmins:function(){return Ml()(w(),(function(t){return t.Role===m.Nb}))},getSelf:function(){return Ca()(w(),(function(t){return 1===t.Self}))},getRoles:function(){return angular.copy(d.ROLES)},isMember:function(){return o.user.Role===m.Ob}}}$l.$inject=["dispatchers","addressesModel","memberApi","gettextCatalog","authentication","translator"];var Rl=$l;Fl.$inject=["pmModal","gettextCatalog","organizationModel","subscriptionModel","editMemberProcess","translator"];var jl=Math.pow(m.h,3);function Fl(t,e,n,o,r,s){var l=s((function(){return{USED:e.getString("Already used",null,"Memory info"),ALLOCATED:e.getString("Allocated",null,"Memory info"),ALREADY_ALLOCATED:e.getString("Already allocated",null,"Memory info")}}));return t({controllerAs:"ctrl",templateUrl:a("lIYi"),controller:["params",function(t){var e=this,a=function(t){var e=t.member,a=void 0===e?{}:e,o=5*jl,r=n.get(),s=a.UsedSpace||0,l=a.ID?r.MaxSpace-r.AssignedSpace+a.MaxSpace:r.MaxSpace-r.AssignedSpace,i=l>o?o:l;return{organization:r,minPadding:s,maxPadding:l,startValue:a.ID?a.MaxSpace:i}}(t),s=a.organization,i=a.minPadding,c=a.maxPadding,d=a.startValue;this.ID=null,this.step="member",this.encryptionConfigName=m.K,this.organization=t.organization,this.organizationKey=t.organizationKey,this.domains=ro()(t.domains,(function(t){return t.State})),this.domain=this.domains.length&&this.domains[0],this.name="",this.temporaryPassword="",this.confirmPassword="",this.address="",this.cancel=t.cancel,this.size=this.encryptionConfigName;var u={label:l.ALLOCATED,classes:"background-primary"},p={label:l.USED,classes:"background-red-striped"},f={label:l.ALREADY_ALLOCATED,classes:"background-yellow-striped"};this.unit=jl,this.min=0,this.max=s.MaxSpace,this.hasVPN=s.MaxVPN&&o.hasPaid("vpn"),this.storageSliderOptions={animate:!1,start:d/this.unit,step:.1,connect:[!0,!1],tooltips:!0,range:{min:this.min/this.unit,max:this.max/this.unit},pips:{mode:"values",values:[0,this.max/this.unit],density:4},minPadding:i/this.unit,maxPadding:c/this.unit},this.storageLegends=[u],i>0&&this.storageLegends.push(p),c>0&&this.storageLegends.push(f);var g=t.member?t.member.MaxVPN:0,v=s.UsedVPN,b=s.MaxVPN-v+g;this.availableVPN=b>0?g:s.MaxVPN-v+g,this.vpnSliderOptions={animate:!1,start:g,step:1,connect:[!0,!1],tooltips:!0,range:{min:0,max:s.MaxVPN},pips:{mode:"values",values:[0,s.MaxVPN],density:s.MaxVPN},minPadding:0,maxPadding:b-1e-7},this.vpnLegends=[u],b<s.MaxVPN&&this.vpnLegends.push(f),this.private=!1,this.showAddress=!0,this.showKeys=!0,t.member&&(this.oldMember=Lt()({},t.member),this.ID=t.member.ID,this.name=t.member.Name,this.private=!!t.member.Private,this.showAddress=0===t.member.Addresses.length&&1===t.member.Type,this.showKeys=0===t.member.Keys.length&&!this.private),this.submit=function(){r(e,{params:t,maxPadding:c,minPadding:i,maxVPNPadding:b}).edit()}}]})}var Ul=Fl;function Vl(t,e,a,n,o,r,s,l,i){var c=i((function(){return{SUCCESS_UPDATE:e.getString("User updated",null,"Info"),SUCCESS_CREATE:e.getString("User created",null,"Info")}}));return function(e,i){var d=i.params,u=i.maxPadding,p=i.minPadding,m=i.maxVPNPadding,f=e.storageSliderValue,g=e.temporaryPassword,v=e.organizationKey,b=e.vpnSliderValue,h=e.oldMember,y=e.address,w=e.domain,x=e.unit,k=e.name,A=e.hasVPN,S=e.size,P=e.ID,C=Math.round(f*x),E=Math.round(b)||0,M=function(t){return h&&h.Name===k?t:a.name(t.ID,k).then((function(){return t.Name=k,t}))},T=function(t){return h&&h.MaxSpace===C?t:a.quota(t.ID,C).then((function(){return t.MaxSpace=C,t}))},D=function(t){return!A||h&&h.MaxVPN===E?t:a.vpn(t.ID,E).then((function(){return t.MaxVPN=E,t}))},O=function(t){return a.create(t,g).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.Member}))},L=function(){var t=_()(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d.member||!d.member.Addresses.length){t.next=2;break}return t.abrupt("return",{addresses:d.member.Addresses,member:e});case 2:return t.next=4,n.create({Local:y,Domain:w.DomainName,MemberID:e.ID});case 4:return a=t.sent,e.Addresses=[a.Address],t.abrupt("return",{addresses:[a.Address],member:e});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=_()(I.a.mark((function t(e){var a,n,r,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.member,n=e.addresses,!(a.Private||d.member&&d.member.Keys.length>0)){t.next=3;break}return t.abrupt("return",{member:a});case 3:return r=n.length?n:d.member.Addresses,t.next=6,o.generate(r,g,S);case 6:return s=t.sent,t.abrupt("return",{member:a,key:s});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=function(){var t=_()(I.a.mark((function t(e){var a,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.member,n=e.key,!(a.Private||d.member&&d.member.Keys.length>0)){t.next=3;break}return t.abrupt("return",{member:a});case 3:return t.next=5,o.memberSetup(n,g,a.ID,v);case 5:return t.abrupt("return",{member:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{edit:function(){var a=Lt()({},d.member,{Name:k,Private:+!!e.private,MaxSpace:C,MaxVPN:E}),n=function(t,a){var n=function(){return r.check({member:a,params:d,quota:C,vpn:E,config:t},e).then((function(){return a}))};return P?(a.ID=P,{message:c.SUCCESS_UPDATE,promise:function(){return n().then(M).then(T).then(D).then((function(){return a}))}}):{message:c.SUCCESS_CREATE,promise:function(){return n().then(O)}}}({maxPadding:u,minPadding:p,maxVPNPadding:m},a),o=n.message,i=(0,n.promise)().then(L).then(N).then($).then(function(t){return function(e){var a=e.member;return d.submit(a),l.call().then((function(){return s.success(t)}))}}(o)).catch((function(t){throw l.call(),t}));t.track(i)}}}}Vl.$inject=["networkActivityTracker","gettextCatalog","memberApi","Address","setupKeys","membersValidator","notification","eventManager","translator"];var zl=Vl;function Kl(t,e,a,n,o,r,s,l,i,c,d,u,p,f,g,v,b){var h=b(["memberActions"]).dispatcher,y=v((function(){return{CHANGE_ROLE:{default:{title:o.getString("Change Role",null,"Title"),message:o.getString("Are you sure you want to remove administrative privileges from this user?",null,"Info")},isPaidAdmin:{message:o.getString("You must provide this user with the Organization Password in order to fully activate administrator privileges.",null,"Info")},isSubscriber:{message:o.getString("This user is currently responsible for payments for your organization. By demoting this member, you will become responsible for payments for your organization.",null,"Info")}},REVOKE_SESSIONS:{title:o.getString("Revoke Sessions",null,"Title"),message:o.getString("You are about to revoke all sessions. The user will be automatically logged out of all sessions and prompted to log back in. Are you sure you want to revoke all sessions ?",null,"Info")},MAKE_PRIVATE:{title:o.getString("Privatize User",null,"Title"),message:o.getString("Organization administrators will no longer be able to log in and control the user's account after privatization. This change is PERMANENT.",null,"Info")},ACTION_REMOVE:{title:o.getString("Remove user",null,"Title"),message:o.getString("Are you sure you want to permanently remove this user from your organization? The user will lose access to all the addresses of your organization.",null,"Info")},ACTION_DELETE:{title:o.getString("Delete user",null,"Title"),message:o.getString("Are you sure you want to permanently delete this user? The inbox and all addresses associated with this user will be deleted.",null,"Info")},SUCCESS_REVOKE:o.getString("All the sessions have been successfully revoked",null,"Success"),SUCCESS_REMOVE:o.getString("User removed",null,"Info"),SUCCESS_CHANGE_ROLE:o.getString("Role updated",null,"Info"),SUCCESS_CHANGE_STATUS:o.getString("Status Updated",null,"Info"),PLEASE_UPGRADE:o.getString("Please upgrade to a Professional plan with more than 1 user, or a Visionary account, to get multi-user support.",null,"Info")}})),w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.query(),n={member:t,domains:e,organizationKey:u.get("organizationKey"),submit:function(t){r.deactivate(),h.memberActions("edit.success",{member:t,domains:e})},cancel:function(){r.deactivate()}};r.activate({params:n})},x=function(t){var a=t.title,o=t.message,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t){console.debug("@todo fix remove arg",r),e.activate({params:{title:a,message:o,confirm:function(){e.deactivate();var a=s.remove(t).then((function(){return d.success(y.SUCCESS_REMOVE),n.call()}));c.track(a)},cancel:function(){e.deactivate()}}})}},k=x(y.ACTION_DELETE,!1),A=x(y.ACTION_REMOVE),S=function(t){return function(a){var o=function(t,e){var a=1===t.Subscriber&&"isSubscriber",n=e===m.Nb&&"isPaidAdmin";return Lt()({},y.CHANGE_ROLE.default,y.CHANGE_ROLE[n||a])}(a,t),r=o.title,l=o.message;e.activate({params:{title:r,message:l,confirm:function(){var o=s.changeRole(a,{Role:t}).then(n.call).then((function(){d.success(y.SUCCESS_CHANGE_ROLE),e.deactivate()}));c.track(o)},cancel:function(){e.deactivate()}}})}},P=S(2),C=S(1),E=function(){var t=s.getSelf().ID;f.activate({params:{memberID:t,close:function(){var t=g.lock().then(n.call).then(f.deactivate);c.track(t)}}})},M=function(){var e=_()(I.a.mark((function e(){var a,n,o,r,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.get()||{},1!==a.MaxMembers){e.next=3;break}return e.abrupt("return",d.info(y.PLEASE_UPGRADE));case 3:return e.next=5,t();case 5:n=e.sent,o=n.password,r=n.twoFactorCode,s=g.password({Password:o,TwoFactorCode:r}).then((function(t){var e=t.data;return void 0===e?{}:e})).then(E),c.track(s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=l.login;return{add:function(){i.canAdd(u.get("keyStatus"))&&w()},edit:w,destroy:k,remove:A,login:T,makeAdmin:P,revokeAdmin:C,makePrivate:function(t){var a=y.MAKE_PRIVATE,n=a.title,o=a.message;e.activate({params:{title:n,message:o,confirm:function(){var a=s.makePrivate(t).then((function(){t.Private=1,d.success(y.SUCCESS_CHANGE_STATUS),e.deactivate()}));c.track(a)},cancel:function(){e.deactivate()}}})},enableSupport:M,revokeSessions:function(t){var a=y.REVOKE_SESSIONS,n=a.title,o=a.message;e.activate({params:{title:n,message:o,confirm:function(){var a=s.revokeSessions(t).then((function(){d.success(y.SUCCESS_REVOKE),e.deactivate()}));c.track(a)},cancel:function(){e.deactivate()}}})},addFromDomain:function(t){i.canAdd(u.get("keyStatus"))&&w(void 0,[t])}}}Kl.$inject=["askPassword","confirmModal","domainModel","eventManager","gettextCatalog","memberModal","memberModel","memberSubLogin","membersValidator","networkActivityTracker","notification","organizationKeysModel","organizationModel","setupOrganizationModal","User","translator","dispatchers"];var Bl=Kl,Gl=a("6vz9"),ql=a.n(Gl);function Hl(t,e,a,n,o,r,s,l,i){var c=l((function(){return{ERROR:i.getString("Permission denied, administrator privileges have been restricted.",null,"Error")}})),d=t.href("login.sub",{sub:!0},{absolute:!0});function u(){return!(e.get("keyStatus")>0)||(a.error(c.ERROR),t.go("secured.members"),!1)}var p=function(t){return function(e,a){n.deactivate();var l=window.location.href.split("/"),i=M()(l,3),c=i[0],u=i[2],p={domain:"".concat(c,"//").concat(u)};!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:angular.noop,a=function a(n){n.origin!==t&&e(!1),"ready"===n.data&&(e(!0),window.removeEventListener("message",a))};window.addEventListener("message",a,!1)}(p.domain,(function(t){return p.isReady=t}));var m=window.open(d,"_blank"),f=o.login(t,{Password:e,TwoFactorCode:a}).then((function(t){var e=r.getPassword();!function a(){p.isReady?m.postMessage({UID:t,mailboxPassword:e},p.domain):ql()(a,500)}()})).catch((function(t){throw m.close(),t}));s.track(f)}};return{login:function(t){u()&&n.activate({params:{submit:p(t),cancel:function(){n.deactivate()}}})},canLogin:u}}Hl.$inject=["$state","organizationKeysModel","notification","loginPasswordModal","memberModel","authentication","networkActivityTracker","translator","gettextCatalog"];var Yl=Hl;function Wl(t,e,a,n,o,r,s){var l=s((function(){return{INVALID_PLAN:t.getString("Multi-user support requires either a Professional or Visionary plan.",null,"Info"),INACTIVE_MULTI_USER:t.getString("Please enable multi-user support before adding users to your organization",null,"Info"),NO_DOMAIN:t.getString("Please configure a custom domain before adding users to your organization.",null,"Info"),ERROR_NO_USERS_LEFT:t.getString("You have used all users in your plan. Please upgrade your plan to add a new user.",null,"Error"),ERROR_NO_ADDRESS_LEFT:t.getString("You have used all addresses in your plan. Please upgrade your plan to add a new address.",null,"Error"),ERROR_NO_STORAGE_LEFT:t.getString("All storage space has been allocated. Please reduce storage allocated to other users.",null,"Error"),ERROR_PERMISSION:t.getString("Permission denied, administrator privileges have been restricted.",null,"Error"),INVALID_NAME:t.getString("Invalid name",null,"Error"),INVALID_PASSWORD:t.getString("Invalid password",null,"Error"),INVALID_ADDRESS:t.getString("Invalid address",null,"Error"),INVALID_QUOTA:t.getString("Invalid storage quota",null,"Error"),INVALID_VPN:t.getString("Invalid VPN quota",null,"Error"),ERROR_DECRYPT_ORGA_KEY:t.getString("Cannot decrypt organization key",null,"Error"),ERROR_ALREADY_USER:t.getString("Address already associated to a user",null,"Error")}})),i=function(t){var e=t.address,a=t.domain,n=void 0===a?{}:a;return!!Te()(r.get(),(function(t,e){var a=e.Addresses,n=void 0===a?[]:a;return Te()(n,(function(t,e){var a=e.Status,n=e.Email,o=void 0===n?"":n;return 1===a&&(t[o]=o),t}),t)}),{})["".concat(e,"@").concat(n.DomainName)]};return{canAdd:function(t){var r=n.get();if(!function(t){var n=ro()(o.query(),(function(t){return t.State}));return 1===t.MaxMembers?(e.info(l.INVALID_PLAN),a.go("secured.members"),!1):t.HasKeys?!!n.length||(e.info(l.NO_DOMAIN),!1):(e.info(l.INACTIVE_MULTI_USER),a.go("secured.members"),!1)}(r))return!1;try{if(r.MaxMembers-r.UsedMembers<1)throw new Error(l.ERROR_NO_USERS_LEFT);if(r.MaxAddresses-r.UsedAddresses<1)throw new Error(l.ERROR_NO_ADDRESS_LEFT);if(r.MaxSpace-r.AssignedSpace<1)throw new Error(l.ERROR_NO_STORAGE_LEFT);if(t>0)throw a.go("secured.members"),new Error(l.ERROR_PERMISSION);return!0}catch(s){return e.error(s),!1}},check:function(){var t=_()(I.a.mark((function t(e,a){var n,o,r,s,c,d,u,p,m,f,g,v;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.member,o=e.quota,r=e.vpn,s=e.params,c=e.config,d=void 0===c?{}:c,u=a.temporaryPassword,p=a.confirmPassword,m=a.address,f=a.organizationKey,g=a.name,v=a.domain,0!==g.length){t.next=4;break}throw new Error(l.INVALID_NAME);case 4:if(n.ID&&(n.Private||s.member.Keys.length)||u===p){t.next=6;break}throw new Error(l.INVALID_PASSWORD);case 6:if(n.ID&&(s.member.Addresses.length||1!==s.member.Type)||m.length){t.next=8;break}throw new Error(l.INVALID_ADDRESS);case 8:if(!(o>d.maxPadding||o<d.minPadding)){t.next=10;break}throw new Error(l.INVALID_QUOTA);case 10:if(!(r>d.maxVPNPadding)){t.next=12;break}throw new Error(l.INVALID_VPN);case 12:if(n.ID||n.Private||f){t.next=14;break}throw new Error(l.ERROR_DECRYPT_ORGA_KEY);case 14:if(n.ID||!i({domain:v,address:m})){t.next=16;break}throw new Error(l.ERROR_ALREADY_USER);case 16:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}Wl.$inject=["gettextCatalog","notification","$state","organizationModel","domainModel","memberModel","translator"];var Xl=Wl,Jl=angular.module("proton.members",[]).directive("memberEditBtn",kl).directive("restoreAdministratorPanel",Sl).factory("memberApi",Cl).factory("memberModel",Rl).factory("memberModal",Ul).factory("editMemberProcess",zl).factory("memberActions",Bl).factory("memberSubLogin",Yl).factory("membersValidator",Xl).name;function Zl(t,e,a,n){var o=n((function(){return{changePassword:a.getString("Change organization password",null,"Action"),changeKeys:a.getString("Change organization keys",null,"Action"),resetKeys:a.getString("Reset Keys",null,"Action"),activateKeys:a.getString("Activate Keys",null,"Action"),restoreKeys:a.getString("Restore Keys",null,"Action")}}));return{replace:!0,template:'<button type="button" class="organizationActions-container">'.concat(o.changePassword,"</button>"),link:function(a,n,r){var s=r.action,l=void 0===s?"changePassword":s,i=function(t){var e="restoreKeys"===t?"activateKeys":t;return"resetKeys"===e?"changeKeys":e}(l);"changePassword"!==l&&n.text(o[l]);var c=function(){if("activateKeys"===i)return e[i](t.get());t[i]()};n.on("click",c),a.$on("$destroy",(function(){n.off("click",c)}))}}}Zl.$inject=["organizationModel","organizationKeysModel","gettextCatalog","translator"];var Ql=Zl;function ti(t,e){return{replace:!0,scope:{},templateUrl:a("r/nK"),link:function(a,n){var o=t(),r=o.on,s=o.unsubscribe,l=(e.get()||{}).DisplayName,i=void 0===l?"":l,c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a.value=t},d=function(t){t.preventDefault(),a.organizationForm.$valid&&e.saveName(a.value)};r("organizationChange",(function(t,e){var n=e.data;a.$applyAsync((function(){c(n.DisplayName)}))})),n.on("submit",d),c(i),a.$on("$destroy",(function(){n.off("submit",d),s()}))}}}ti.$inject=["dispatchers","organizationModel"];var ei=ti;function ai(t,e,a,n,o,r,s,l,i,c,d){var u=e(["organizationChange"]),p=u.dispatcher,f=u.on,g={keyStatus:0},v=["signatures","domains","members"].map((function(t){return"secured.".concat(t)})),b=c((function(){return{MUST_PRIVATISE_ERROR:i.getString("You must privatize all sub-accounts before generating new organization keys",null,"Error"),ERROR_ALREADY_ACTIVE:i.getString("Organization keys already active",null,"Error")}})),h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keys";return angular.copy(g[t])},y=function(t,e){return g[t]=e},w=function(){return g={keyStatus:0}};function x(){return t.getKeys().then((function(t){return y("keys",t),t}))}f("$stateChangeStart",(function(t,e){v.includes(e.name)&&w()}));var k=function(){var t=_()(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h()?h():x());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function A(){return(A=_()(I.a.mark((function t(e){var n,o,r,s,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.user.Role===m.Nb){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,k();case 4:if(n=t.sent,o=n.PublicKey,r=n.PrivateKey,!o){t.next=13;break}return y("keyStatus",0),t.next=11,Object(Us.a)(r||o);case 11:s=t.sent,y("organizationKeyInfo",s);case 13:if(r){t.next=16;break}return y("keyStatus",1),t.abrupt("return",E(e));case 16:return t.prev=16,t.next=19,Object(R.a)(r,a.getPassword());case 19:l=t.sent,y("organizationKey",l),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(16),y("keyStatus",2),console.error(t.t0);case 27:E(e);case 28:case"end":return t.stop()}}),t,null,[[16,23]])})))).apply(this,arguments)}var S=function(){var t=_()(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Us.a)(e.toPublic().armor());case 2:a=t.sent,y("organizationKeyInfo",a),y("keyStatus",0),y("organizationKey",e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=n.getNonPrivate(),e=n.hasAdmins();t.length>0&&h("keyStatus")>0?o.error(b.MUST_PRIVATISE_ERROR):r.activate({params:{nonPrivate:t,otherAdmins:e,existingKey:h("organizationKey"),submit:function(t){var e=S(t).then(r.deactivate).then(s.call);l.track(e)},cancel:function(){r.deactivate()}}})},C=function(t){if(!h("keyStatus")||h("keyStatus")>2)return o.error(b.ERROR_ALREADY_ACTIVE);d.activate({params:{keyStatus:h("keyStatus"),reset:function(){d.deactivate(),P()},submit:function(e){y("keyStatus",0),y("organizationKey",e),d.deactivate(),p.organizationChange("update",{data:t})},cancel:function(){d.deactivate()}}})};function E(t){1===t.HasKeys&&h("keyStatus")>0&&C(t)}return f("logout",w),{fetch:x,get:h,set:y,clear:w,manage:function(t){return A.apply(this,arguments)},changeKeys:P,activateKeys:C}}ai.$inject=["organizationApi","dispatchers","authentication","memberModel","notification","generateOrganizationModal","eventManager","networkActivityTracker","gettextCatalog","translator","activateOrganizationModal"];var ni=ai;function oi(t,e,a,n,o,r,s,l,i,c,d,u){var p={},f=d((function(){return{UPDATING_NAME_SUCCESS:r.getString("Organization updated",null,"Info"),UPDATE_PASSWORD_SUCCESS:r.getString("Password updated",null,"Info")}})),g=o(["organizationChange"]),v=g.dispatcher,b=g.on,h={PlanName:"free",MaxMembers:1,HasKeys:0},y={data:{Code:1e3,Organization:h}},w=function(){return p={}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"organization";p[e]=t,"organization"===e&&v.organizationChange("update",t)},k=function(){return"free"===(p.organization||{}).PlanName};function A(){return k()?a.generateOrganization(n.getPassword()).then((function(t){return{PrivateKey:t.privateKeyArmored}})):Promise.resolve()}var S=e.changeKeys;return b("logout",(function(){w()})),{set:x,get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"organization";return p[t]},clear:w,isFreePlan:k,fetch:function(){return n.user.Role===m.ab?(x(h),Promise.resolve(y)):t.get().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return x(a.Organization),a.Organization}))},create:function(){if(!k())return Promise.resolve();A().then(t.create).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a}))},generateKeys:A,saveName:function(e){var a=t.updateOrganizationName({DisplayName:e}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return s.success(f.UPDATING_NAME_SUCCESS),a}));l.track(a)},changePassword:function(){i.activate({params:{close:function(t){i.deactivate(),t&&function(t){c.activate({params:{submit:function(a,n){var o={Password:a,TwoFactorCode:n},r=e.get("organizationKey"),i=u({newPassword:t,creds:o,organizationKey:r}).then((function(){s.success(f.UPDATE_PASSWORD_SUCCESS),c.deactivate()}));l.track(i)},cancel:function(){c.deactivate()}}})}(t)}}})},changeKeys:S}}oi.$inject=["organizationApi","organizationKeysModel","setupKeys","authentication","dispatchers","gettextCatalog","notification","networkActivityTracker","changeOrganizationPasswordModal","loginPasswordModal","translator","changeOrganizationPassword"];var ri=oi;ii.$inject=["dispatchers","Payment"];var si={plus:["plus"],professional:["professional"],visionary:["visionary"],mail:["plus","professional","visionary"],vpn:["vpnbasic","vpnplus","visionary"],vpnbasic:["vpnbasic"],vpnplus:["vpnplus"]},li={address:"5address",space:"1gb",domain:"1domain",member:"1member",vpn:"1vpn"};function ii(t,e){var a={},n=t(["subscription"]),o=n.dispatcher,r=n.on,s=function(){return angular.copy(a.subscription||{})},l=function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){var e=(a.subscription||{}).Plans,n=void 0===e?[]:e;return Ml()(n,(function(e){var a=e.Name;return t.indexOf(a)>-1}))}}(si[t])()},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(t.Plans)){var e=Te()(t.Plans,(function(t,e){return t[e.ID]=t[e.ID]||0,t[e.ID]+=e.Quantity,t}),{});t.Plans.forEach((function(t){t.Quantity=e[t.ID]}))}return t};function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=angular.copy(i(t));a.subscription=n,!e&&o.subscription("update",{subscription:n})}return r("app.event",(function(t,e){var a=e.type,n=e.data;"subscription.event"===a&&c(n.subscription)})),{isProductPayer:function(){var t=a.subscription||{},e=t.CouponCode,n=void 0===e?"":e,o=t.Plans,r=void 0===o?[]:o,s=!l("professional"),i=l("plus")||l("vpnplus")||l("vpnbasic"),c=!(l("plus")&&l("vpnplus")),d=![m.j.COUPON_CODE].includes(n),u=!r.some((function(t){return t.Type===m.Tb.ADDON}));return i&&s&&c&&d&&u},getAddons:function(){var t=(a.subscription||{}).Plans;return(void 0===t?[]:t).filter((function(t){return t.Type===m.Tb.ADDON}))},withCoupon:function(t){var e=(a.subscription||{}).CouponCode;return(void 0===e?"":e)===t},set:c,get:s,name:function(){return l("plus")?"plus":l("professional")?"professional":l("visionary")?"visionary":"free"},fetch:function(){return e.subscription().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(t.Subscription),s()}))},hasPaid:l,coupon:function(){var t=s().CouponCode;return t||void 0},count:function(t){var e=(Ca()(a.subscription.Plans,{Name:li[t]})||{}).Quantity;return void 0===e?0:e},cycle:function(){var t=(a.subscription||{}).Plans,e=void 0===t?[]:t,n=M()(e,1)[0],o=(n=void 0===n?{}:n).Cycle;return void 0===o?m.J:o},currency:function(){var t=(a.subscription||{}).Plans,e=void 0===t?[]:t,n=M()(e,1)[0],o=(n=void 0===n?{}:n).Currency;return void 0===o?m.I:o},isMoz:function(){var t=(a.subscription||{}).CouponCode||"";return t.startsWith("MOZILLA")||t.startsWith("MOZTEST")}}}var ci=ii;function di(t,e,n,o){var r=o((function(){return{1:{TITLE:e.getString("Key Activation",null,"Title"),PROMPT:e.getString("Organization password:",null,"Label"),MESSAGE:e.getString("You must activate your organization private key with the backup organization key password provided to you by your organization administrator.",null,"Info"),ALERT:e.getString("Without activation you will not be able to create new users, add addresses to existing users, or access non-private user accounts.",null,"Info"),SUCCESS_MESSAGE:e.getString("Organization keys activated",null,"Info"),ERROR_MESSAGE:e.getString("Error activating organization keys",null,"Error")},2:{TITLE:e.getString("Restore Administrator Privileges",null,"Title"),PROMPT:e.getString("Organization password:",null,"Label"),MESSAGE:e.getString('Enter the Organization Password to restore administrator privileges. <a href="https://protonmail.com/support/knowledge-base/restore-administrator/" target="_blank">Learn more</a>',null,"Info"),ALERT:e.getString("If another administrator changed this password, you will need to ask them for the new Organization Password.",null,"Info"),SUCCESS_MESSAGE:e.getString("Organization keys restored",null,"Info"),ERROR_MESSAGE:e.getString("Error restoring organization keys",null,"Error")},default:{TITLE:e.getString("Administrator Key Activation",null,"Title"),PROMPT:e.getString("Enter activation passcode:",null,"Info")}}}));return t({controllerAs:"ctrl",templateUrl:a("PNCj"),controller:["params",function(t){var e=this,a=r[t.keyStatus];this.inputCode="",this.alertClass=1===t.keyStatus?"alert alert-warning":"alert alert-danger",this.title=a.TITLE||r.default.TITLE,this.prompt=a.PROMPT||r.default.PROMPT,this.message=a.MESSAGE||"",this.alert=a.ALERT||"",this.showReset=2===t.keyStatus,this.cancel=t.cancel,this.reset=t.reset,this.submit=function(){n(a).reload(e.inputCode).then(t.submit)}}]})}di.$inject=["pmModal","gettextCatalog","activateOrganizationKeys","translator"];var ui=di;function pi(t){return t({controllerAs:"ctrl",templateUrl:a("Ekxg"),controller:["params",function(t){var e=this;this.newPassword="",this.confirmPassword="",this.submit=function(){return t.close(e.newPassword)},this.cancel=t.close,setTimeout((function(){return document.getElementById("newPassword").focus()}),0)}]})}pi.$inject=["pmModal"];var mi=pi;function fi(t,e,n,o,r,s,l,i){return t({controllerAs:"ctrl",templateUrl:a("2wqA"),controller:["params",function(t){var a=this;this.encryptionConfigName=m.K,this.newRecoveryPassword="",this.confirmRecoveryPassword="",this.otherAdmins=t.otherAdmins,this.size=this.encryptionConfigName,this.submit=function(){var c,d=a.size||a.encryptionConfigName,u=a.newRecoveryPassword,p={Tokens:[]};return n.track(r.generateOrganization(e.getPassword(),d).then((function(t){var e=t.privateKeyArmored;return p.PrivateKey=e,e})).then((function(t){return Object(R.a)(t,e.getPassword())})).then((function(e){c=e;var a=[];return p.BackupKeySalt=Object(N.c)(),a.push(Object(N.b)(u,p.BackupKeySalt).then((function(t){return Object(ks.a)(e,t)})).then((function(t){p.BackupPrivateKey=t}))),fe()(t.nonPrivate,(function(n){var o=n.Keys.slice();fe()(n.Addresses,(function(t){o=o.concat(t.Keys)})),fe()(o,(function(n){a.push(r.decryptMemberToken(n,[t.existingKey]).then((function(t){var a=t.decryptedToken;return Object(Ws.a)({data:a,publicKeys:e.toPublic(),privateKeys:e})})).then((function(t){var e=t.data;p.Tokens.push({ID:n.ID,Token:e})})))}))})),Promise.all(a).then((function(){return p}))})).then((function(e){return new Promise((function(a,n){s.activate({params:{submit:function(r,d){s.deactivate();var u={Password:r,TwoFactorCode:d};o.replaceKeys(u,e).then((function(){return l.success(i.getString("Organization keys change successful",null,"Error")),a(t.submit(c))})).catch((function(t){n(t)}))},cancel:function(){s.deactivate(),n()}}})}))})))},this.cancel=function(){t.cancel()}}]})}fi.$inject=["pmModal","authentication","networkActivityTracker","organizationApi","setupKeys","loginPasswordModal","notification","gettextCatalog"];var gi=fi,vi=a("RBan"),bi=a.n(vi);function hi(t,e,n,o,r,s,l,i){return e({controllerAs:"ctrl",templateUrl:a("yGwC"),controller:["params","$scope",function(e,a){var c,d=this,u={ERROR_PASSWORD_INPUT:i.getString("You must add a password for the organization",null,"Error")},p=m.h,f=["name","keys","password","storage"],g=[function(){var t=d.name;return o.updateOrganizationName({DisplayName:t})},function(){var e=t.getPassword(),a=d.size||d.encryptionConfigName;return l.generateOrganization(e,a).then((function(t){var e=t.privateKeyArmored;return v.PrivateKey=e,e})).then((function(t){return Object(R.a)(t,e)})).then((function(t){return c=t}))},function(){return k.apply(this,arguments)},function(){var t=e.memberID,a=Math.round(d.sliderValue*d.unit);return s.quota(t,a)},function(){var t=e.memberID,a=Math.round(d.sliderVPNValue);return s.vpn(t,a)}],v={},b=r.get(),h=0;t.hasPaidVpn()&&f.push("vpn"),d.step=f[h],d.encryptionConfigName=m.K,d.size=d.encryptionConfigName;var y={label:i.getString("Allocated to admin",null,"Success"),classes:"background-primary"},w={label:i.getString("Already used",null,"Info"),classes:"background-red-striped"};d.min=0,d.max=b.MaxSpace,d.unit=p*p*p,d.userUsedSpace=t.user.UsedSpace;var x=t.user.UsedSpace/d.unit;function k(){return(k=_()(I.a.mark((function t(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d.organizationPassword){t.next=3;break}throw new Error(u.ERROR_PASSWORD_INPUT);case 3:return v.Tokens=[],v.BackupKeySalt=Object(N.c)(),t.abrupt("return",Object(N.b)(e,v.BackupKeySalt).then((function(t){return Object(ks.a)(c,t)})).then((function(t){return v.BackupPrivateKey=t})).then((function(){return o.updateOrganizationKeys(v)})));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}d.sliderOptions={animate:!1,start:Math.min(Math.max(Math.round(t.user.UsedSpace/d.unit+1),5),d.max/d.unit),step:.1,connect:[!0,!1],tooltips:!0,range:{min:d.min/d.unit,max:d.max/d.unit},pips:{mode:"values",values:[0,d.max/d.unit],density:4},minPadding:x,legend:"GB"},d.legends=[y],x>0&&d.legends.push(w),d.minVPN=0,d.maxVPN=b.MaxVPN,d.sliderVPNOptions={animate:!1,start:3,step:1,connect:[!0,!1],tooltips:!0,range:{min:d.minVPN,max:d.maxVPN},pips:{mode:"values",values:[0,d.maxVPN],density:d.maxVPN}},d.legendsVPN=[y],d.isLastStep=function(){return d.step===bi()(f)},d.next=function(){var t=g[h]().then((function(){if(d.isLastStep())return e.close();h++,a.$applyAsync((function(){d.step=f[h]}))}));n.track(t)}}]})}hi.$inject=["authentication","pmModal","networkActivityTracker","organizationApi","organizationModel","memberApi","setupKeys","gettextCatalog"];var yi=hi;function wi(t,e,a,n,o,r,s){var l=s((function(){return{ERROR_PASSWORD:o.getString("Password incorrect. Please try again",null,"Error")}}));return function(o){var s=function(t){try{return Object(ks.a)(t,a.getPassword())}catch(n){var e=n.data;throw new Error((void 0===e?{}:e).Error||o.ERROR_MESSAGE)}},i=function(){var t=_()(I.a.mark((function t(e,a,n){var o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ne.a)(n,a);case 3:return o=t.sent,t.abrupt("return",Object(R.a)(e,o));case 7:throw t.prev=7,t.t0=t.catch(0),new Error(l.ERROR_PASSWORD);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a,n){return t.apply(this,arguments)}}(),c=function(){var a=_()(I.a.mark((function a(n){var r,l,i,c;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s(n);case 2:return r=a.sent,a.next=5,t.activateKeys({PrivateKey:r});case 5:return l=a.sent,i=l.data,c=void 0===i?{}:i,e.success(o.SUCCESS_MESSAGE),a.abrupt("return",c);case 10:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}(),d=function(){var e=_()(I.a.mark((function e(a){var n,o,r,s,l,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBackupKeys();case 2:return n=e.sent,o=n.data,s=(r=void 0===o?{}:o).PrivateKey,l=r.KeySalt,e.next=8,i(s,l,a);case 8:return d=e.sent,e.next=11,c(d);case 11:return e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{reload:function(t){var e=d(t).then((function(t){return r.call(),t}));return n.track(e),e}}}}wi.$inject=["organizationApi","notification","authentication","networkActivityTracker","gettextCatalog","eventManager","translator"];var xi=wi;function ki(t){return function(e){var a=e.newPassword,n=e.organizationKey,o=e.creds,r=Object(N.c)();return Object(N.b)(a,r).then((function(t){return Object(ks.a)(n,t)})).then((function(e){return t.updateBackupKeys(o,{PrivateKey:e,KeySalt:r})})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a}))}}ki.$inject=["organizationApi"];var Ai=ki;function Si(t,e,a){var n=e.build("organizations");return{get:function(){return t.get(n())},getKeys:function(){return t.get(n("keys")).then((function(t){return t.data}))},getBackupKeys:function(){return t.get(n("keys","backup"))},activateKeys:function(e){return t.put(n("keys","activate"),e)},replaceKeys:function(t,e){return a.auth.put(t,n("keys"),e)},updateOrganizationKeys:function(e){return t.post(n("keys"),e)},updateBackupKeys:function(t,e){return a.auth.post(t,n("keys","backup"),e)},updateOrganizationName:function(e){return t.put(n("name"),e)}}}Si.$inject=["$http","url","srp"];var Pi=Si,Ci=angular.module("proton.organization",[]).directive("organizationBtnActions",Ql).directive("organizationFormName",ei).factory("organizationKeysModel",ni).factory("organizationModel",ri).factory("subscriptionModel",ci).factory("activateOrganizationModal",ui).factory("changeOrganizationPasswordModal",mi).factory("generateOrganizationModal",gi).factory("setupOrganizationModal",yi).factory("activateOrganizationKeys",xi).factory("changeOrganizationPassword",Ai).factory("organizationApi",Pi).name;Mi.$inject=["$interval","$scope","$state","$stateParams","gettextCatalog","Eo","embedded","prepareContent","messageData","notification","textToHtmlMail","networkActivityTracker","eoStore","attachmentModelOutside","dispatchers","sanitize"];var Ei=m.Hb.DEFAULT;function Mi(t,e,a,n,o,r,s,l,i,c,d,u,p,f,g,v){var b={SUCCESS:o.getString("Message sent",null,"Success"),OUTSIDE_REPLY_ERROR:o.getString('ProtonMail\'s Encrypted Outside feature only allows replying 5 times. <a href="https://protonmail.com/signup" target="_blank">You can sign up for ProtonMail for seamless and unlimited end-to-end encryption</a>.',null,"Notification"),ENCRYPTION_ERROR:o.getString("Error encrypting message",null,"Error")},h=g(["composer.update","editorListener"]),y=h.dispatcher,w=h.on,x=h.unsubscribe;f.load();var k=p.getToken(),A=p.getPassword(),S=n.tag,P=i;function C(t){var e=v.message(t);return a.is("eo.reply")&&(e='<br /><br /><blockquote class="protonmail_quote" type="cite">'.concat(e,"</blockquote>")),l(e,P,{blacklist:["transformBlockquotes"]})}e.send=function(){y.editorListener("pre.send.message",{message:e.message})};w("composer.update",(function(t,e){var o=e.type,l=e.data;"send.message"===o&&function(t){var e=t.Replies;if((void 0===e?[]:e).length>=m.xb){var o=b.OUTSIDE_REPLY_ERROR;c.info(o)}var l=Promise.all([s.parser(t,{direction:"cid"}),Object(Os.f)(t.publicKey)]).then((function(e){var a=M()(e,2),n=a[0],o=a[1];return Promise.all([Object(Ws.a)({data:n,publicKeys:o}),Object(Ws.a)({data:n,passwords:A}),f.encrypt(t).then((function(t){return t.reduce((function(t,e){var a=e.Filename,n=e.DataPacket,o=e.MIMEType,r=e.KeyPackets,s=e.CID,l=void 0===s?"":s;return t.Filename.push(a),t.DataPacket.push(n),t.MIMEType.push(o),t.KeyPackets.push(r),t.ContentID.push(l),t}),{Filename:[],DataPacket:[],MIMEType:[],KeyPackets:[],ContentID:[]})}))]).catch((function(){throw new Error(b.ENCRYPTION_ERROR)}))})).then((function(t){var e=M()(t,3),a=e[0].data,n=e[1].data,o=e[2];return r.reply(k,S,{Body:a,ReplyBody:n,"Filename[]":o.Filename,"MIMEType[]":o.MIMEType,"KeyPackets[]":o.KeyPackets,"ContentID[]":o.ContentID,"DataPacket[]":o.DataPacket})})).then((function(t){return a.go("eo.message",{tag:n.tag}),c.success(b.SUCCESS),t}));u.track(l)}(l.message)})),e.cancel=function(){a.go("eo.message",{tag:n.tag})},e.reply=function(){a.go("eo.reply",{tag:n.tag,showImages:P.showImages})},function(){var o;P.isPlainText()&&P.setDecryptedBody((o=P.getDecryptedBody(),a.is("eo.reply")?d.parse(o):$("<div>").html(o).text())),a.is("eo.reply")&&(P.showImages=!0,P.showEmbedded=!0,P.MIMEType=Ei),P.setDecryptedBody(C(P.getDecryptedBody())),a.is("eo.message")&&fe()(P.Replies,(function(t){t.Body=C(t.Body)})),s.parser(P).then((function(t){P.setDecryptedBody(t),P.expand=!0,P.From={Keys:[{PublicKey:P.publicKey}]},e.message=P,e.isPlain=P.isPlainText(),e.body=l(P.getDecryptedBody(),P,{blacklist:["*"],whitelist:["transformBlockquotes"]})}));var r=t((function(){(function(){if(e.message)return e.message.ExpirationTime<moment().unix();return!1})()&&a.go("eo.unlock",{tag:n.tag})}),1e3);e.$on("$destroy",(function(){t.cancel(r)}))}(),e.$on("$destroy",x)}var Ti=Mi;function Ii(t,e,a,n,o,r,s){t.params={MessagePassword:""},t.tokenError=!n;var l=function(){var t=_()(I.a.mark((function t(){var o,r,l,i,c=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>0&&void 0!==c[0]?c[0]:"",t.next=3,Object(As.e)(n);case 3:return r=t.sent,t.next=6,Object(Ss.b)({message:r,passwords:[o]});case 6:return l=t.sent,i=l.data,s.setToken(i),s.setPassword(o),t.abrupt("return",e.go("eo.message",{tag:a.tag}));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t.unlock=_()(I.a.mark((function e(){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=l(t.params.MessagePassword),e.next=4,o.track(a,!0);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r.error("Wrong Mailbox Password.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))}Ii.$inject=["$scope","$state","$stateParams","encryptedToken","networkActivityTracker","notification","eoStore"];var Di=Ii;function _i(t,e){var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"composer-draggable";return t.classList.add(e)},r=function(t){t.classList.remove("composer-draggable"),t.classList.remove("composer-draggable-editor")},s=function(t,a){return function(t,o){var s=o.type,l=o.data;switch(s){case"dragenter":e.isUploadAbleType(l.event)&&n(a);break;case"drop":if("attachment.upload.outside"===t.name&&l.queue.files.length&&l.queue.hasEmbedded)return n(a,"composer-draggable-editor");r(a);break;case"upload":r(a);break;case"attachments.limit.error":case"upload.success":_rAF((function(){return r(a)}))}}};return{replace:!0,templateUrl:a("41+J"),link:function(a,l){var i=t(),c=i.on,d=i.unsubscribe,u=function(t){var a=t.originalEvent;e.isUploadAbleType(a)&&n(l[0])},p=o()((function(t){t.target.classList.contains("composer-dropzone")&&r(l[0])}),16);l.on("dragenter",u),l.on("dragleave",p),c("editor.draggable",s(0,l[0])),c("attachment.upload.outside",s(0,l[0])),a.$on("$destroy",(function(){l.off("dragenter",u),l.off("dragleave",p),d()}))}}}_i.$inject=["dispatchers","attachmentFileFormat"];var Oi=_i,Li=a("DwX5"),Ni=a.n(Li),$i=a("uS8r"),Ri=a.n($i);Fi.$inject=["AttachmentLoader","dispatchers","embedded","notification"];var ji=m.Hb.PLAINTEXT;function Fi(t,e,a,n){var o="attachment.upload.outside",r=e([o,"actionMessage","attachmentAdded"]),s=r.on,l=r.dispatcher,i=[],c=function(t,e){return l[o](t,e)},d=function(t){return l.actionMessage("update",t)};function u(t,e){var n=t.Filename,o=t.FileSize;return t.Inline?{"content-disposition":"inline","content-id":a.generateCid("".concat(n).concat(o),e.SenderAddress)}:{}}s(o,(function(e,o){var r,s,u=o.type,g=o.data;switch(u){case"remove.all":s=(r=g).message,r.list.forEach((function(t){m({id:t.ID,attachment:t,message:s})}));break;case"remove":m(g);break;case"drop":!function(t){var e=t.queue,a=t.message;i.push(e),e.hasEmbedded||c("upload",{message:a,action:"attachment"})}(g);break;case"upload":!function(e){var o=e.message,r=e.action,s=o.publicKey,u=i.reduce((function(t,e){var a=e.files;return t.concat(a)}),[]);if("cancel"===r)return i.length=0;if("attachment"===r){var m=u.map((function(e){var a=e.file;return t.load(a,s)}));return Promise.all(m).then(p(o)).then((function(t){return o.addAttachments(t),t})).then((function(){l.attachmentAdded(),d(o),i.length=0}))}!function(e,o){var r=o.publicKey,s=e.map((function(e){var a=e.file,n=e.isEmbedded;return a.inline=+n,t.load(a,r)}));o.uploading=s.length,d(o),Promise.all(s).then(p(o)).then((function(t){return o.addAttachments(t),t})).then((function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ll()(Ni()((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(t)})),Ni()((function(t){return t.Headers["content-id"]})),Ri()((function(t){var n=t.Headers,o=t.Preview,r=t.MIMEType,s=a.addEmbedded(e,n["content-id"],o,r).url;return angular.extend({},t,{url:s})})),Il()((function(t,e){return t[e.ID]=e,t}),{}))(t)}(t,o);return qn()(t,(function(t){return e[t.ID]||t}))})).then((function(t){var e=qn()(t,(function(t){return{attachment:t,cid:(t.Headers||{})["content-id"]||"",url:t.url||""}}));c("upload.success",{upload:e,message:o,messageID:o.ID})})).then((function(){o.uploading=0,d(o),i.length=0})).catch((function(t){console.error(t),n.error("Error encrypting attachment"),d(o)}))}(u,o)}(g)}}));var p=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{ID:"att_".concat(Object(j.k)()),Name:e.Filename,Size:e.FileSize,Filename:e.Filename,MIMEType:e.MIMEType,KeyPackets:new Blob([e.keys]),DataPacket:new Blob([e.data]),Preview:e.Preview,Headers:u(e,t)}}))}};function m(t){var e=t.id,a=t.message,n=t.attachment,o=n||a.getAttachment(e),r={message:a,attachment:o,id:e};+f(o)&&a.MIMEType!==ji&&c("remove.embedded",r),a.removeAttachment(n),c("remove.success",r)}function f(t){var e=t.Headers;return"inline"===(void 0===e?{}:e)["content-disposition"]}return{load:angular.noop,encrypt:function(e){var n=e.Attachments,o=void 0===n?[]:n,r=e.publicKey,s=o.map((function(e){var n=a.getCid(e.Headers);return n&&!e.DataPacket?a.getBlob(n).then((function(a){return t.load(function(t,e){return t.inline=1,t.name=e,t}(a,e.Name),r)})).then((function(t){return{CID:n,Filename:e.Name,MIMEType:e.MIMEType,Headers:e.Headers,KeyPackets:new Blob([t.keys]),DataPacket:new Blob([t.data])}})):Promise.resolve({CID:n,Filename:e.Filename,DataPacket:e.DataPacket,MIMEType:e.MIMEType,KeyPackets:e.KeyPackets,Headers:e.Headers})}));return Promise.all(s)}}}var Ui=Fi,Vi=angular.module("proton.outside",["proton.routes","proton.utils"]).controller("OutsideController",Ti).controller("OutsideUnlockController",Di).directive("composerOutside",Oi).factory("attachmentModelOutside",Ui).name;function zi(t,e){var a=function(t,a){var n=document.createElement("SPAN"),o=document.createElement("KBD");return o.className="bitcoinDetails-item-".concat(t),n.className="bitcoinDetails-label-".concat(t),"amount"===t?a?(n.innerHTML=e.getString("Amount BTC",null,"Bitcoin donation"),o.textContent=a,{span:n,kbd:o}):{}:(n.textContent=e.getString("BTC address",null,"Bitcoin donation"),o.textContent=a,{span:n,kbd:o})};return{replace:!0,template:'<p class="bitcoinDetails-container"></p>',link:function(e,n){var o=t.get("payment")||{},r=o.Address,s=void 0===r?m.m:r,l=o.AmountBitcoin,i=a("amount",l);i.span&&(n[0].appendChild(i.span),n[0].appendChild(i.kbd));var c=a("address",s);n[0].appendChild(c.span),n[0].appendChild(c.kbd)}}}zi.$inject=["paymentBitcoinModel","gettextCatalog"];var Ki=zi,Bi=a("0ERz"),Gi=a.n(Bi);function qi(t){return{replace:!0,template:'<div class="bitcoinPayment-container"></div>',link:function(e,a){var n,o,r,s;new Gi.a(a[0],(n=t.get("payment")||{},o=n.Address,r=void 0===o?m.m:o,s=n.AmountBitcoin,t.isDonation()?"bitcoin:".concat(r):"bitcoin:".concat(r,"?amount=").concat(s)))}}}qi.$inject=["paymentBitcoinModel"];var Hi=qi;function Yi(t,e){return t.load(),{scope:{amount:"=",currency:"="},replace:!0,templateUrl:a("CQ/i"),link:function(t,a,n){var o=n.type,r=void 0===o?"payment":o,s=e(["payment"]),l=s.on,i=s.unsubscribe,c=s.dispatcher;a[0].classList.add("bitcoinView-type-".concat(r));var d=function(){c.payment("bitcoin.submit",{type:r,amount:t.amount,currency:t.currency})},u=function(t){t.target.classList.contains("bitcoinView-btn-reload")&&d()};a.on("click",u),l("payment",(function(e,a){var n=a.type;"bitcoin.success"===n&&t.$applyAsync((function(){t.isBitcoin=!0})),"bitcoin.error"===n&&t.$applyAsync((function(){t.isBitcoinError=!0})),"bitcoin.validator.error"===n&&t.$applyAsync((function(){t.hasValidationsError=!0,t.validator={amountMin:m.Ib}}))})),d(),t.$on("$destroy",(function(){i(),a.off("click",u)}))}}}Yi.$inject=["paymentBitcoinModel","dispatchers"];var Wi=Yi;var Xi=function(){var t=$.payment.cardType,e={amex:"fa-cc-amex",dinersclub:"fa-cc-diners-club",discover:"fa-cc-discover",jcb:"fa-cc-jcb",mastercard:"fa-cc-mastercard",visa:"fa-cc-visa",visaelectron:"fa-cc-visa",maestro:"fa-credit-card",forbrugsforeningen:"fa-credit-card",dankort:"fa-credit-card",unionpay:"fa-credit-card",card:"fa-credit-card"};return{replace:!0,template:'<i class="cardIcon-container fa '.concat(e.card,'"></i>'),scope:{number:"="},link:function(a,n){a.$watch("number",(function(a){n[0].className=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"card";return"cardIcon-container fa ".concat(e[t||"card"])}(t(a))}))}}};var Ji=function(){return{replace:!0,restrict:"E",templateUrl:a("1iN5"),scope:{card:"="}}},Zi=a("P+Ll"),Qi=a.n(Zi),tc=function(t){if(/^https?:\/\//.test(t)){var e=document.createElement("a");return e.href=t,e.hostname}return window.location.hostname},ec=function(t){try{return window.location.hostname!==tc(t)}catch(e){return!0}},ac=function(t){try{var e=Qi()(t)||{},a=e.domain,n=void 0===a?"":a,o=e.tld,r=void 0===o?"":o;return"".concat(n,".").concat(r)}catch(s){return""}};function nc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function oc(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?nc(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):nc(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var rc=m.Qb.STATUS_PENDING,sc=m.Qb.STATUS_CHARGEABLE,lc=m.Qb.STATUS_FAILED,ic=m.Qb.STATUS_CONSUMED,cc=m.Qb.STATUS_NOT_SUPPORTED,dc=function(){var t=_()(I.a.mark((function t(e){var a,n,o,r,s,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.timer,n=void 0===a?0:a,o=e.Token,r=e.paymentApi,!(n>15e4)){t.next=3;break}throw new Error("Payment process cancelled");case 3:return t.next=5,r.getTokenStatus(o);case 5:if(s=t.sent,(l=s.Status)!==lc){t.next=9;break}throw new Error("Payment process failed");case 9:if(l!==ic){t.next=11;break}throw new Error("Payment process consumed");case 11:if(l!==cc){t.next=13;break}throw new Error("Payment process not supported");case 13:if(l!==sc){t.next=15;break}return t.abrupt("return");case 15:if(l!==rc){t.next=19;break}return t.next=18,Object(Ft.c)(5e3);case 18:return t.abrupt("return",dc({Token:o,paymentApi:r,timer:n+5e3}));case 19:throw new Error("Unknown payment token status");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),uc=function(t){var e=t.Token,a=t.paymentApi,n=t.ReturnHost,o=t.ApprovalURL,r=window.open(o);return new Promise((function(t,o){var s=!1,l=function(){var t=_()(I.a.mark((function t(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:return r.closed&&((e=new Error("Tab closed")).tryAgain=!0,o(e)),t.next=5,Object(Ft.c)(1e3);case 5:return t.abrupt("return",l(r));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function i(l){var c=l.origin||l.originalEvent.origin;if(tc(c)===n){if(s=!1,window.removeEventListener("message",i,!1),r.close(),"1"===l.data.cancel)return o();dc({Token:e,paymentApi:a}).then(t).catch(o)}}window.addEventListener("message",i,!1),s=!0,l()}))},pc=function(t,e){t.PaymentMethodID;return oc(oc({},Tt()(t,["PaymentMethodID"])),{},{Payment:{Type:"token",Details:{Token:e}}})},mc=function(){var t=_()(I.a.mark((function t(e){var a,n,o,r,s,l,i,c,d,u,p,m,f,g;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.params,n=e.paymentApi,o=e.paymentVerificationModal,r=e.mode,s=a.Payment,l=a.Amount,i=a.Currency,c=a.PaymentMethodID,d=(s||{}).Type,!["cash","bitcoin","token"].includes(d)){t.next=5;break}return t.abrupt("return",a);case 5:if(0!==l){t.next=7;break}return t.abrupt("return",a);case 7:return t.next=9,n.createToken({Payment:s,Amount:l,Currency:i,PaymentMethodID:c});case 9:if(u=t.sent,p=u.Token,m=u.Status,f=u.ApprovalURL,g=u.ReturnHost,m!==sc){t.next=16;break}return t.abrupt("return",pc(a,p));case 16:return t.abrupt("return",new Promise((function(t,e){o.activate({params:{body:a,url:f,returnHost:g,token:p,payment:s,paymentVerificationModal:o,mode:r,onSubmit:function(e){o.deactivate(),t(e)},onClose:function(t){o.deactivate(),e(t)}}})})));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function fc(t,e,n,o,r,s,l,i){var c="donationForm-btn-amount",d='[id="otherAmount"]',u=".donateModal-choose-currency",p='[id="paymentMethod"]';r.init();var f=m.F.map((function(t){return{label:t,value:t}}));return{replace:!0,scope:{processing:"=?",method:"=?",type:"@"},templateUrl:a("T45i"),link:function(a,r,g){var v=g.action,b=void 0===v?"":v,h=n(["payments"]),y=h.on,w=h.unsubscribe,x=h.dispatcher,k=r.find(u),A=r.find(d),S=r.find(p),P=o.generateMethods(),C=P.list,E=P.selected,M=function(a){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=100*(a.model.otherAmount||a.model.amount),r=a.model.currency.value,s={Amount:o,Credit:o,Donation:o,Currency:r};return"use.card"===a.model.method.value&&(s.PaymentMethodID=a.model.method.ID),"card"===a.model.method.value&&(s.Payment={Type:"card",Details:t(a.model.card).details()}),"paypal"===a.model.method.value&&(s.Payment={Type:"token",Details:n}),mc({params:s,paymentApi:e,paymentVerificationModal:i})}}(a),T=function(t,e){return function(a){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return x.payments(t,e)}("donate.submit",{type:t,options:a,action:e})}}(a.type,b);a.model={card:{},method:E,amount:25,currency:Ca()(f,{value:s.user.Currency||m.I})},a.currencies=f,a.methods=C;var D=function(t){if(t.preventDefault(),t.stopPropagation(),a.donationForm.$valid){var e=M().then(T);l.track(e)}},O=function(){var t=a.model.method.value;"paypal"!==t&&"bitcoin"!==t||(a.model.method.value="",_rAF((function(){a.$applyAsync((function(){return a.model.method.value=t}))})))};a.getAmount=function(){return 100*(a.model.otherAmount||a.model.amount||0)},a.onFocusOtherAmount=function(){return a.model.amount=null},a.paypalCallback=function(){var t=_()(I.a.mark((function t(e){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=T,t.next=3,M(e);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var L=function(t){var e=t.target;if(e.classList.contains(c)){var n=+e.dataset.amount;a.$applyAsync((function(){a.model.otherAmount=null,a.model.amount=n,O()}))}},N=function(){return a.$applyAsync(O)},$=function(){return a.$applyAsync(O)},R=function(){return a.$applyAsync((function(){return a.method=a.model.method}))};r.on("click",L),r.on("submit",D),k.on("change",$),S.on("change",R),A.on("input",N),y("payments",(function(t,e){var n=e.type;/^(donation|topUp)\.request\.load/.test(n)&&a.$applyAsync((function(){return a.processing=!0})),/^(donation|topUp)\.request\.(success|error)/.test(n)&&a.$applyAsync((function(){return a.processing=!1})),"donation.input.submit"===n&&r.triggerHandler("submit")})),a.$on("$destroy",(function(){r.off("click",L),r.off("submit",D),k.off("change",$),S.off("change",R),A.off("input",N),w()}))}}}fc.$inject=["cardModel","Payment","dispatchers","paymentUtils","donateModel","authentication","networkActivityTracker","paymentVerificationModal"];var gc=fc,vc=function(t){return{compile:function(e){return e[0].classList.add("donationExternalSubmit-container"),function(e,a){var n=t(["payments"]).dispatcher,o=function(){n.payments("donation.input.submit")};a.on("click",o),e.$on("$destroy",(function(){a.off("click",o)}))}}}};vc.$inject=["dispatchers"];var bc=vc;function hc(t,e){function n(a){var n=a.target;if("BUTTON"===n.nodeName){var o=n.getAttribute("data-route");e.deactivate(),t.go(o)}}return{restrict:"E",scope:{ctrl:"="},replace:!0,templateUrl:a("2Vr+"),link:function(t,e){var a=t.ctrl.plans.reduce((function(t,e){return t[e.Name]=e.Name,t}),{});e.on("click",n),a.plus&&e.addClass("featuresList-isPlus"),a.professional&&e.addClass("featuresList-isProfessional"),a.visionary&&e.addClass("featuresList-isVisionary"),(a.vpnbasic||a.vpnplus)&&e.addClass("featuresList-hasVPN"),t.$on("$destroy",(function(){return e.off("click",n)}))}}}hc.$inject=["$state","paymentModal"];var yc=hc;function wc(t,e){var n=t(["signup"]).dispatcher;return{templateUrl:a("l+j8"),restrict:"E",replace:!0,scope:{},link:function(t,a,o){var r=o.action,s=function(){var t;"modal"===r&&e.activate({params:{close:function(){e.deactivate()}}}),"displayGiftSignup"===r&&(t=r,n.signup(t))};a.on("click",s),t.$on("$destroy",(function(){a.off("click",s)}))}}}wc.$inject=["dispatchers","giftCodeModal"];var xc=wc;var kc=function(){return{replace:!0,restrict:"E",scope:{form:"=",code:"="},templateUrl:a("Q2ql")}};function Ac(t){return{restrict:"A",require:"ngModel",link:function(e,a,n,o){o.$validators.giftCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.isValid(e)}}}}Ac.$inject=["giftCodeModel"];var Sc=Ac;function Pc(t,e,a,n,o,r,s){var l=s((function(){return{message:t.getString("Pay",null,"Action"),notAvailable:t.getString("Payments are currently not available, please try again later",null,"Info")}}));return{replace:!0,scope:{model:"="},template:'<button class="payInvoiceBtn-container pm_button link">'.concat(l.message,"</button>"),link:function(t,s){var i=function(){if(!a.canPay())return r.info(l.notAvailable);var s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.ID;return e.check(a).then((function(t){return t.data}))}(t.model).then((function(e){n.activate({params:{invoice:angular.copy(t.model),checkInvoice:e,close:function(e){n.deactivate(),!0===e&&(t.model.State=1)}}})}));o.track(s)};s.on("click",i),t.$on("$destroy",(function(){s.off("click",i)}))}}}Pc.$inject=["gettextCatalog","Payment","paymentModel","payModal","networkActivityTracker","notification","translator"];var Cc=Pc;function Ec(t,e,n,o,r,s,l,i,c){var d=t(["modal.payment"]).dispatcher;return{scope:{ctrl:"=",form:"="},replace:!0,templateUrl:a("sNrA"),link:function(t,a){var u,p=t.ctrl,m=l.get(),f=(u=m.plan,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d["modal.payment"](t,Lt()({plan:u},e))}),g={};p.isBlackFriday=!!m.isBlackFriday,p.card={},p.cancel=m.cancel,p.valid=m.valid,p.displayGift=!1,m.valid.Coupon&&(p.displayCoupon=!0,p.coupon=m.valid.Coupon.Code,g.coupon=p.coupon);var v=Object(Hn.c)(m.plans,"ID");p.planIDs=m.planIDs,p.plans=Object.keys(m.planIDs).map((function(t){return v[t]})),p.step="payment";var b=s.generateMethods({choice:m.choice,Cycle:m.valid.Cycle,Amount:m.valid.AmountDue,CouponCode:m.valid.Coupon&&m.valid.Coupon.Code}),h=b.list,y=b.selected;p.methods=h,p.method=y,p.status=o.get("status"),p.paypalCallback=function(t){p.paypalConfig=t,p.submit()};var w=function(){var t=p.coupon||g.coupon;return[p.gift||g.gift,t].filter(Boolean)},x=function(){var t={Amount:p.valid.AmountDue,Cycle:p.valid.Cycle,Currency:p.valid.Currency,Codes:w(),PlanIDs:p.planIDs};return p.valid.AmountDue?("use.card"===p.method.value&&(t.PaymentMethodID=p.method.ID),"card"===p.method.value&&(t.Payment={Type:"card",Details:n(p.card).details()}),"paypal"===p.method.value&&(t.Payment={Type:"token",Details:p.paypalConfig}),mc({params:t,paymentApi:r,paymentVerificationModal:c})):t},k=function(){var t=_()(I.a.mark((function t(){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:return a=t.sent,t.next=5,o.subscribe(a);case 5:return t.abrupt("return",e.call());case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();p.submit=function(){p.step="process";var t=k().then((function(){return p.step="thanks",void f("process.success")})).catch((function(t){throw p.step="payment",t}));i.track(t)};var A=function(){var e,a=(e=w(),{Currency:m.valid.Currency,Cycle:m.valid.Cycle,PlanIDs:m.planIDs,Codes:e});return o.add(a).then((function(t){return p.valid=t})).then((function(){f("payment.change",p.valid);var e=p.valid.Coupon&&p.valid.Coupon.Code;g.gift=p.gift||g.gift,g.coupon=p.coupon||g.coupon;var a=s.generateMethods({choice:p.method.value,Cycle:p.valid.Cycle,Amount:p.valid.AmountDue,CouponCode:e}),n=a.list,o=a.selected;if(p.methods=n,p.method=o,!p.valid.AmountDue)return p.method=p.methods[0];if("paypal"===p.method.value||"bitcoin"===p.method.value){var r=p.method.value;p.method.value="",_rAF((function(){t.$applyAsync((function(){p.method.value=r}))}))}}))},S=function(t){var e=t.target;e.classList.contains("paymentForm-btn-payAnnualy")&&f("switch",{type:"cycle",Currency:m.valid.Currency,Cycle:12});var a=e.dataset.action;"gift"!==a&&"coupon"!==a||A()};a.on("click",S),t.$on("$destroy",(function(){a.off("click",S)}))}}}Ec.$inject=["dispatchers","eventManager","cardModel","paymentModel","Payment","paymentUtils","paymentModalModel","networkActivityTracker","paymentVerificationModal"];var Mc=Ec;function Tc(t,e){return{replace:!0,restrict:"E",templateUrl:a("Zak3"),scope:{amount:"=",currency:"=",paypalCallback:"=callback"},link:function(a,n,o){var r=o.type,s=void 0===r?"payment":r,l=a.amount,i=a.currency;a.isDonation="donation"===s,a.isUpdate="update"===s;var c=function(){var e=_()(I.a.mark((function e(){var n,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.$applyAsync((function(){a.loadingTokens=!0,a.errorDetails=!1})),e.next=4,t.createToken({Amount:l,Currency:i,Payment:{Type:"paypal"}});case 4:return n=e.sent,e.next=7,t.createToken({Amount:l,Currency:i,Payment:{Type:"paypal-credit"}});case 7:o=e.sent,a.$applyAsync((function(){a.paypalModel=n,a.paypalCreditModel=o,a.loadingTokens=!1})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a.$applyAsync((function(){a.loadingTokens=!1,a.errorDetails={validator:"tokens"},delete a.paypalModel,delete a.paypalCreditModel}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();a.retry=function(){return c()},a.openTab=function(){var n=_()(I.a.mark((function n(o){var r,s,l;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=o.Token,s=o.ReturnHost,l=o.ApprovalURL,n.prev=1,a.$applyAsync((function(){a.loadingVerification=!0})),n.next=5,uc({Token:r,ReturnHost:s,ApprovalURL:l,paymentApi:t});case 5:a.paypalCallback({Token:r}),a.$applyAsync((function(){a.loadingVerification=!1})),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),a.$applyAsync((function(){a.loadingVerification=!1})),n.t0&&n.t0.message&&e.error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(t){return n.apply(this,arguments)}}(),"payment"===s&&l<m.Jb?a.errorDetails={type:"validator.amount",validator:"min",amount:m.Jb}:l>m.yb?a.errorDetails={type:"validator.amount",validator:"max",amount:m.yb}:Object(be.i)()?a.errorDetails={validator:"duckduckgo"}:c()}}}Tc.$inject=["Payment","notification"];var Ic=Tc;function Dc(t,e,a,n,o,r){var s=r((function(){return{donation:{success:a.getString("Your support is essential to keeping ProtonMail running. Thank you for supporting internet privacy!",null,"Donation modal")},topUp:{success:a.getString("Credits added",null,"topUp modal")}}})),l=o(["payments"]),i=l.on,c=l.dispatcher,d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.payments(t,e)},u=function(a,n){return"topUp"===a?function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.credit(a).then((function(){return s.topUp.success}));return e.track(n),n}(n):function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.donate(a).then((function(){return s.donation.success}));return e.track(n),n}(n)};return i("payments",(function(t,e){var a=e.type,o=e.data;"donate.submit"===a&&function(t){var e=t.type,a=t.options;"humanVerification"!==t.action&&(d("".concat(e,".request.load")),u(e,a).then(n.success).then((function(){return d("".concat(e,".request.success"))})).catch((function(t){return d("".concat(e,".request.error"),t)})))}(void 0===o?{}:o)})),{init:angular.noop}}Dc.$inject=["Payment","networkActivityTracker","gettextCatalog","notification","dispatchers","translator"];var _c=Dc;var Oc=function(){return{isValid:function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/-|\s|\t/g,"")}(t);return e.length===m.bb&&/\w\d+/g.test(e)}}};function Lc(t,e,a){var n=t(["payment"]),o=n.on,r=n.dispatcher,s=angular.noop,l={},i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.payment(t,e)},c=function(t,e){return l[t]=e},d=function(t){return angular.copy(t?l[t]:l)},u=function(t){var n=t.amount,o=t.currency,r=t.type;if(l.input=null,l.payment=null,c("input",{amount:n,currency:o,type:r}),n<m.Ib)return i("bitcoin.validator.error",{type:"amount"});if("donation"===r)return i("bitcoin.success",{isDonation:!0});var s=e.btc(n,o).then((function(t){var e=t.data;return void 0===e?{}:e})).then((function(t){return c("payment",t),t})).then((function(t){return i("bitcoin.success",t)})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;throw i("bitcoin.error",a.Error),a.Error}));a.track(s)};return o("payment",(function(t,e){var a=e.type,n=e.data;"bitcoin.submit"===a&&u(n)})),{get:d,load:s,isDonation:function(){return"donation"===d("input").type}}}Lc.$inject=["dispatchers","Payment","networkActivityTracker"];var Nc=Lc;var $c=function(){var t;return{get:function(){return t},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=e},clear:function(){return t={}}}};function Rc(t,e,a,n,o,r,s){var l={},i=s((function(){return{VALID_CODE:n.getString("Code accepted",null,"Code request"),INVALID_CODE:n.getString("Invalid code",null,"Error when applying coupon code or gift code")}})),c=r().on,d=function(t){return l[t]},u=function(t,e){return l[t]=e},p=function(t){return t?l[t]=null:l={}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.subuser;return a?Promise.resolve([]):e.methods().then((function(t){var e=t.data;return(void 0===e?{}:e).PaymentMethods})).then((function(t){return u("methods",t)}))},f=function(t,e){return function(a,n){return a&&p(t),d(t)?Promise.resolve(d(t)):e(n)}},g=f("status",(function(){return e.status().then((function(t){var e=t.data;return void 0===e?{}:e})).then((function(t){return u("status",t)}))})),v=f("methods",m);return c("payments",(function(t,e){var a=e.type;/^(donation|topUp)\.request\.success/.test(a)&&m()})),c("logout",(function(){p()})),{getStatus:g,getMethods:v,get:d,canPay:function(){var t=d("status")||{},e=t.Stripe,a=t.Paymentwall;return e||a},subscribe:function(t){return e.subscribe(t).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a}))},add:function(t){var n=e.valid(t).then((function(e){var a=t.Codes,n=void 0===a?[]:a,r=(e.Coupon||{}).Code,s=void 0===r?"":r;if(n.length&&!n.includes(s)&&!e.Gift)throw new Error(i.INVALID_CODE);return o.success(i.VALID_CODE),e}));return a.track(n),n},useGiftCode:function(n){var o=e.validateCredit({GiftCode:n}).then((function(){return e.credit({GiftCode:n,Amount:0})})).then((function(){return t.call()}));return a.track(o),o},clear:p}}Rc.$inject=["eventManager","Payment","networkActivityTracker","gettextCatalog","notification","dispatchers","translator"];var jc=Rc;var Fc=function(){var t,e=document.createElement("IFRAME");function a(a){return t=function(t){return n(t,a)},function(){window.addEventListener("message",t,!1),e.contentWindow.postMessage({action:"getFingerprint"},m.db)}}function n(a,n){(a.origin||a.originalEvent.origin)===m.db&&(window.removeEventListener("message",t),document.body.removeChild(e),n(a.data))}return e.style.display="none",e.src="".concat(m.db,"/paymentwall.html"),e.setAttribute("sandbox","allow-scripts allow-same-origin"),{getFingerprint:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:angular.noop;e.onload=a(t),document.body.appendChild(e)}}},Uc=a("o+/T");od.$inject=["gettextCatalog","$filter","PaymentCache","networkActivityTracker","dispatchers"];var Vc=m.Sb.ADDON,zc=Vc.MEMBER,Kc=Vc.ADDRESS,Bc=Vc.DOMAIN,Gc=Vc.SPACE,qc=Vc.VPN,Hc=m.Sb.PLAN,Yc=Hc.VISIONARY,Wc=Hc.PLUS,Xc=Hc.VPN_PLUS,Jc=m.H.MONTHLY,Zc=m.H.YEARLY,Qc=m.H.TWO_YEARS,td=["MaxSpace","MaxMembers","MaxDomains","MaxAddresses","MaxVPN"],ed=["MaxVPN"],ad=["MaxSpace","MaxMembers","MaxDomains","MaxAddresses"],nd={MaxSpace:Gc,MaxMembers:zc,MaxDomains:Bc,MaxAddresses:Kc,MaxVPN:qc};function od(t,e,n,o,r){var s,l,i,c,d=function(t,a){return e("currency")(t/100,a)},u=e("percentage"),p=e("humanSize"),f={FREE:t.getString("FREE",null,"Price value"),TOTAL:(s={},x()(s,Jc,t.getString("Total (monthly billing)",null,"Title")),x()(s,Zc,t.getString("Total (annual billing)",null,"Title")),x()(s,Qc,t.getString("Total (2-year billing)",null,"Title")),s),TOOLTIP:(l={},x()(l,Zc,(function(e){return t.getString("1-year plan, {{percentage}} off",{percentage:e},"Tooltip")})),x()(l,Qc,(function(e){return t.getString("2-year plan, {{percentage}} off",{percentage:e},"Tooltip")})),l),DISCOUNTS:(i={},x()(i,m.j.COUPON_CODE,Object(Uc.a)()),x()(i,m.n,"Bundle"),x()(i,"ANY",t.getString("Discount",null,"Title")),x()(i,Zc,t.getString("1-year plan",null,"Title")),x()(i,Qc,t.getString("2-year plan",null,"Title")),i),PER_MONTH:t.getString("Cost per month",null,"Title"),CREDIT:t.getString("Credit",null,"Title"),PRORATION:t.getString("Proration",null,"Title"),GIFT:t.getString("Gift",null,"Title"),AMOUNT_DUE:t.getString("Amount Due",null,"Title"),FEATURES:(c={},x()(c,Gc,(function(e){return t.getString("{{amount}} Storage",{amount:p(e)},"Title")})),x()(c,Bc,(function(e){return t.getPlural(e,"{{$count}} Custom domain","{{$count}} Custom domains",{},"Title")})),x()(c,zc,(function(e){return t.getPlural(e,"{{$count}} User","{{$count}} Users",{},"Title")})),x()(c,Kc,(function(e){return t.getPlural(e,"{{$count}} Address","{{$count}} Addresses",{},"Title")})),x()(c,qc,(function(e){return t.getPlural(e,"{{$count}} VPN Connection","{{$count}} VPN Connections",{},"Title")})),c)},g=function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a,o=Object(Hn.d)(t,a,n),r=n===Jc?"/mo":"";return d(o,e)+r},v=function(t){var e=t.AmountDue,a=t.Cycle,n=t.Currency;return{text:f.AMOUNT_DUE,price:g(e,n,a),className:"final"}},b=function(t,e,a,n){return[].concat(ce()(function(t,e,a){var n=a.Currency,o=a.Cycle,r=(a.Coupon||{}).Code,s=Object(Hn.c)(e,"ID"),l=Object(Hn.c)(e),i=!!(t[l[Yc].ID]||t[l[Wc].ID]&&t[l[Xc].ID]&&o===Qc||r===m.j.COUPON_CODE&&t[l[Wc].ID]&&t[l[Xc].ID]&&[Zc,Qc].includes(o)),c=Object.keys(t).reduce((function(e,a){var n=t[a],o=s[a];return td.forEach((function(t){e.totalFeatures[t]=(e.totalFeatures[t]||0)+o[t]*n})),o.Type===m.Tb.ADDON&&(e.addons[o.Name]=o.Amount*n),e}),{totalFeatures:{},addons:{}}),d=c.totalFeatures,u=c.addons;return Object.keys(t).reduce((function(e,a){var o=t[a],r=s[a],l=r.Name,i=r.Type,c=r.Title,p=r.Amount,v=r.Cycle;if(i===m.Tb.ADDON)return e;var b=c,h=p*o,y=-1!==l.indexOf("vpn"),w=(y?ed:ad).map((function(t){var e=d[t],a=nd[t],o=f.FEATURES[a](e),r=u[nd[t]]||0;return{text:o,price:0===r?"":g(r,n,v,Jc)}}));return e[y?"push":"unshift"]({text:b,price:g(h,n,v,Jc),features:w}),e}),[]).concat(i?[{text:"ProtonDrive",price:f.FREE,className:"drive"}]:[])}(t,e,a)),ce()(function(t,e){var a=[],n=t.Cycle,o=t.Currency,r=t.Coupon,s=t.CouponDiscount;if(n!==e.Cycle||s<0){var l=Object(Hn.a)(t),i=e.Amount,c=Object(Hn.d)(i,e.Cycle,n),d=c-l,p=u(d/c),m=r||{},v=m.Code,b=void 0===v?n:v,h=m.Description,y=void 0===h?"":h,w=f.DISCOUNTS[b]||b,x="".concat(f.DISCOUNTS.ANY,": ").concat(w);a.push({text:x,price:"-".concat(g(d,o,n,Jc)),className:"discount",tooltip:{text:"-".concat(p,"%"),percentage:p,hover:y||w}})}return a}(a,n)),ce()((r=(o=a).Cycle,s=o.Currency,[{text:f.PER_MONTH,price:g(Object(Hn.a)(o),s,r,Jc),className:"final"},{text:f.TOTAL[r],price:g(Object(Hn.a)(o),s,r),className:"final"}])),ce()(function(t){var e=t.Credit,a=t.Proration,n=t.Currency,o=t.Cycle,r=t.Gift,s=[];return 0!==e&&s.push({text:f.CREDIT,className:"discount",price:g(e,n,o)}),0!==a&&s.push({proration:!0,text:f.PRORATION,className:"discount",price:g(a,n,o)}),0!==r&&s.push({text:f.GIFT,className:"discount",price:g(r,n,o)}),s}(a)),[v(a)]);var o,r,s};return{restrict:"E",replace:!0,templateUrl:a("6yQw"),scope:{planIds:"<",valid:"<"},link:function(t){var e=r(),a=e.on,s=e.unsubscribe,l=function(e){var a=e.Currency,r=function(t,e){return Promise.all([n.plans(),n.valid({PlanIDs:t,Currency:e,Cycle:Jc})])}(t.planIds,a).then((function(a){var n=M()(a,2),o=n[0],r=n[1];t.$applyAsync((function(){t.list=b(t.planIds,o,e,r)}))}));return o.track(function(t,e){return t.$applyAsync((function(){t.loading=!0})),e.then((function(e){return t.$applyAsync((function(){t.loading=!1})),e})).catch((function(e){return t.$applyAsync((function(){t.loading=!1})),Promise.reject(e)}))}(t,r))};l(t.valid),a("modal.payment",(function(t,e){var a=e.type,n=e.data;"payment.change"===a&&l(n)})),t.$on("$destroy",(function(){s()}))}}}var rd=od,sd=a("3T3Z"),ld=a.n(sd);var id=function(){var t={"american-express":"/assets/img/american-express-safekey.svg",discover:"/assets/img/discover-protectbuy.svg",mastercard:"/assets/img/mastercard-securecode.svg",visa:"/assets/img/verified-by-visa.svg"};return{replace:!0,restrict:"E",scope:{payment:"="},template:'<img class="paymentVerificationLogo-img" />',link:function(e,a){var n=a[0],o=(e.payment||{}).Details,r=void 0===o?{}:o,s=ld()(r.Number)||[],l=M()(s,1)[0],i=(l=void 0===l?{}:l).type,c=void 0===i?"":i,d=l.niceType,u=void 0===d?"":d;n.src=t[c]||"/assets/img/3-d-secure.svg",n.alt=u}}};function cd(t,e){var a=e((function(){return{MSG_PER_DAY:t.getString("Messages per day",null,"Plan feature"),LABELS:t.getString("Labels",null,"Plan feature"),FOLDERS:t.getString("Folders",null,"Plan feature"),UNLIMITED_LABELS:t.getString("Unlimited Folders / Unlimited labels",null,"Plan feature"),SUPPORT:t.getString("Support",null,"Plan feature"),LIMITED_SUPPORT:t.getString("Limited support",null,"Plan feature"),PRIORITY_SUPPORT:t.getString("Priority support",null,"Plan feature"),UNLIMITED_SENDING:t.getString("Unlimited sending",null,"Plan feature")}})),n=function(t){return"".concat(t," ").concat(a.MSG_PER_DAY)},o=function(t,e){return"".concat(t," ").concat(a.FOLDERS," / ").concat(e," ").concat(a.LABELS)};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t[0]||{},r=e.Currency,s=e.Cycle;return t.unshift({Type:m.Tb.PLAN,Cycle:s,Currency:r,Name:"free",Title:"ProtonMail Free",Amount:0,MaxDomains:0,MaxAddresses:1,MaxSpace:500*m.h*m.h,MaxMembers:1,TwoFactor:0}),t.forEach((function(t){switch(t.Name){case"free":t.sending=n(150),t.labels=o(3,20),t.support=a.LIMITED_SUPPORT;break;case"plus":t.sending=n(1e3),t.labels=o(20,200),t.support=a.SUPPORT;break;case"professional":t.sending=a.UNLIMITED_SENDING,t.labels=a.UNLIMITED_LABELS,t.support=a.PRIORITY_SUPPORT;break;case"business":t.sending="???",t.labels="???",t.support="???";break;case"visionary":t.sending=a.UNLIMITED_SENDING,t.labels=a.UNLIMITED_LABELS,t.support=a.PRIORITY_SUPPORT;break;case"vpnbasic":t.support=a.SUPPORT;break;case"vpnplus":t.support=a.PRIORITY_SUPPORT}})),t}}cd.$inject=["gettextCatalog","translator"];var dd=cd;fd.$inject=["gettextCatalog","paymentModel","$state","translator"];var ud=m.H.MONTHLY,pd=m.H.YEARLY,md=m.H.TWO_YEARS;function fd(t,e,a,n){var o=n((function(){return{cash:t.getString("Cash",null,"Payment method"),card:t.getString("Credit Card",null,"Payment method")}})),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.Brand,n=void 0===a?"":a,o=e.Last4,r=void 0===o?"":o,s=e.Payer,l=void 0===s?"":s;return"card"===t?"".concat(n.toUpperCase(),"  ").concat(r):"paypal"===t?"PayPal ".concat(l):""},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){var e=t.ID,a=void 0===e?"":e,n=t.Type,o=t.Details;return{ID:a,label:r(n,void 0===o?{}:o),value:"use.card"}}))};return{generateMethods:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.methods,r=void 0===n?e.get("methods"):n,l=t.choice,i=t.Cycle,c=void 0===i?pd:i,d=t.Amount,u=t.CouponCode,p=t.modal,f=void 0===p?"":p,g=[{value:"card",label:o.card}],v=d>5e3&&c===ud,b=c===pd,h=c===md,y="invoice"===f;!Object(be.m)()&&(b||h||v||y)&&g.push({label:"PayPal",value:"paypal"}),a.is("signup")||u===m.j.COUPON_CODE||(g.push({value:"bitcoin",label:"Bitcoin"}),g.push({value:"cash",label:o.cash}));var w=g[0];if((r||[]).length){var x=g.length;g.push.apply(g,ce()(s(r))),w=g[x]}var k=Ca()(g,{value:l});return k&&(w=k),{list:g,selected:w}}}}var gd=fd;function vd(t,e,n,o,r,s,l){return t({controllerAs:"ctrl",templateUrl:a("bY8i"),controller:["params",function(t){var a=this;a.card={},t.method?(a.text=n.getString("Update your credit card information.",null,"Credit card modal"),a.mode="display",a.panel={fullname:t.method.Details.Name,number:"   "+t.method.Details.Last4,month:t.method.Details.ExpMonth,year:t.method.Details.ExpYear,cvc:"",zip:t.method.Details.ZIP,country:t.method.Details.Country}):(a.text=n.getString("Add a credit card.",null,"Credit card modal"),a.mode="edition");var i=function(){var t=_()(I.a.mark((function t(){var n,r,s,i,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("edition"!==a.mode){t.next=11;break}return n=o(a.card),t.next=4,mc({params:{Payment:{Type:"card",Details:n.details()}},paymentApi:e,paymentVerificationModal:l,mode:"add-card"});case 4:return r=t.sent,t.next=7,e.updateMethod(r.Payment);case 7:return s=t.sent,i=s.data,c=void 0===i?{}:i,t.abrupt("return",c.PaymentMethod);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();a.edit=function(){a.card.fullname=a.panel.fullname,a.mode="edition"},a.submit=function(){var e=i().then((function(t){return s.getMethods(!0).then((function(e){return{method:t,methods:e}}))})).then(t.close);r.track(e)},a.cancel=t.close}]})}vd.$inject=["pmModal","Payment","gettextCatalog","cardModel","networkActivityTracker","paymentModel","paymentVerificationModal"];var bd=vd;function hd(t,e,n,o,r,s){return e({controllerAs:"ctrl",templateUrl:a("CcfW"),controller:["$scope","params",function(e,a){var l=this;this.text=r.get("InvoiceText")||"",this.cancel=a.cancel,this.submit=function(){if(!e.customizeInvoiceModalForm.$invalid){var r=n.invoiceText({InvoiceText:l.text}).then((function(){o.success("Invoice customized"),a.cancel()})).then(t.call);s.track(r)}}}]})}hd.$inject=["eventManager","pmModal","settingsApi","notification","userSettingsModel","networkActivityTracker"];var yd=hd;function wd(t,e){return e({controllerAs:"ctrl",templateUrl:a("IRs2"),controller:["params",function(e){var a=t(),n=a.on,o=a.unsubscribe;this.typeOfModal=e.type,this.close=e.close,n("payments",(function(t,a){var n=a.type;/^(donation|topUp)\.request\.success/.test(n)&&e.close()})),this.$onDestroy=function(){return o()}}]})}wd.$inject=["dispatchers","pmModal"];var xd=wd;function kd(t,e,n,o,r,s){var l=s((function(){return{success:e.getString("Code applied",null,"Success")}}));return r({controllerAs:"ctrl",templateUrl:a("A3uK"),controller:["params",function(e){var a=this,r=t(),s=r.on,i=r.unsubscribe;s("payments",(function(t,a){"giftCode.success"===a.type&&e.close()})),this.submit=function(){o.useGiftCode(a.giftCode).then((function(){n.success(l.success),e.close()}))},this.close=e.close,this.$onDestroy=function(){return i()}}]})}kd.$inject=["dispatchers","gettextCatalog","notification","paymentModel","pmModal","translator"];var Ad=kd;function Sd(t,e,n,o,r,s,l,i,c,d){var u=c((function(){return{success:r.getString("Invoice paid",null,"Info")}})),p=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.pay(t,a);return l.track(n),n};return t({controllerAs:"ctrl",templateUrl:a("jg9G"),controller:["params","$scope",function(t,a){var r=this;this.checkInvoice=t.checkInvoice,this.invoice=t.invoice,this.cancel=t.close;var l=s.generateMethods({modal:"invoice"}),c=l.list,m=l.selected;this.methods=c,this.method=m;var f=function(){var t=r.checkInvoice.AmountDue,a={Amount:t,Currency:r.checkInvoice.Currency};return t?("use.card"===r.method.value&&(a.PaymentMethodID=r.method.ID),"card"===r.method.value&&(a.Payment={Type:"card",Details:i(r.card).details()}),"paypal"===r.method.value&&(a.Payment={Type:"token",Details:r.paypalConfig}),mc({params:a,paymentApi:e,paymentVerificationModal:d})):a};this.getPaypalAmount=function(){return r.checkInvoice.AmountDue/100},this.paypalCallback=function(t){r.paypalConfig=t,r.submit()},this.submit=_()(I.a.mark((function e(){var s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.process=!0,e.next=4,f();case 4:return s=e.sent,e.next=7,p(t.invoice.ID,s);case 7:return e.next=9,o.call();case 9:t.close(!0),n.success(u.success),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),a.$applyAsync((function(){r.process=!1})),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))}]})}Sd.$inject=["pmModal","Payment","notification","eventManager","gettextCatalog","paymentUtils","networkActivityTracker","cardModel","translator","paymentVerificationModal"];var Pd=Sd;function Cd(t,e){return t({controllerAs:"ctrl",templateUrl:a("91jv"),controller:["params","$scope",function(t,a){var n=this;n.step=Object(be.i)()?"duckduckgo":"redirect",n.payment=t.payment,n.isAddCard="add-card"===t.mode,n.cancel=function(){var e=new Error("Cancel verification process");e.noNotify=!0,t.onClose(e)},n.submit=_()(I.a.mark((function o(){var r;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,a.$applyAsync((function(){n.tryAgain=!1,n.step="redirecting"})),r=setTimeout((function(){a.$applyAsync((function(){return n.step="redirected"}))}),5e3),o.next=5,uc({Token:t.token,ReturnHost:t.returnHost,paymentApi:e,ApprovalURL:t.url});case 5:t.onSubmit(pc(t.body,t.token)),o.next=12;break;case 8:o.prev=8,o.t0=o.catch(0),clearTimeout(r),a.$applyAsync((function(){n.step="fail",o.t0.tryAgain&&(n.tryAgain=!0)}));case 12:case"end":return o.stop()}}),o,null,[[0,8]])})))}]})}Cd.$inject=["pmModal","Payment"];var Ed=Cd;function Md(t,e,n){return e({controllerAs:"ctrl",templateUrl:a("apxP"),controller:["params",function(e){var a=this,o=t(["subscription"]),r=o.on,s=o.unsubscribe;n.set(e),r("subscription",(function(t,n){"update"===n.type&&"payment"===a.step&&e.cancel()})),this.$onDestroy=function(){s(),n.clear()}}]})}Md.$inject=["dispatchers","pmModal","paymentModalModel"];var Td=Md,Id=angular.module("proton.payment",[]).directive("bitcoinDetails",Ki).directive("bitcoinQrcode",Hi).directive("bitcoinView",Wi).directive("cardIcon",Xi).directive("cardPanel",Ji).directive("donation",gc).directive("donationExternalSubmit",bc).directive("featuresList",yc).directive("giftCodeBtn",xc).directive("giftCodeInput",kc).directive("giftCodeValidator",Sc).directive("payInvoiceBtn",Cc).directive("paymentForm",Mc).directive("paypalView",Ic).directive("paymentVerificationLogo",id).directive("paymentPlanOverview",rd).factory("donateModel",_c).factory("giftCodeModel",Oc).factory("paymentBitcoinModel",Nc).factory("paymentModalModel",$c).factory("paymentModel",jc).factory("brick",Fc).factory("paymentPlansFormator",dd).factory("paymentUtils",gd).factory("cardModal",bd).factory("customizeInvoiceModal",yd).factory("donateModal",xd).factory("giftCodeModal",Ad).factory("payModal",Pd).factory("paymentVerificationModal",Ed).factory("paymentModal",Td).name;function Dd(t,e,a,n,o,r,s,l,i,c,d,u,p,f,g,v,b,h){var y,w=s(),x=w.on,k=w.unsubscribe;t.emailing={announcements:!1,features:!1,newsletter:!1,beta:!1},t.locales=Object.entries(Le.a.locales).map((function(t){var e=M()(t,2);return{key:e[0],label:e[1]}})),t.locale=Ca()(t.locales,{key:l.getCurrentLanguage()})||t.locales[0];var A=Object.keys(t.emailing);function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:angular.noop,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:angular.noop;d.activate({params:{submit:t,cancel:function(){d.deactivate(),e()}}})}function P(){e.cancel(y),y=e((function(){if(n.active()){var t=l.getString("Operation timed out for security reasons, please try again",null,"Info");n.deactivate(),f.error(t)}}),6e5,!1)}function C(){e.cancel(y)}function E(){var e=h.get(),n=e.PasswordMode,o=e.News,s=e.Email;t.notificationEmail=s.Value,t.passwordReset=s.Reset,t.dailyNotifications=s.Notify,t.desktopNotificationsStatus=r.status(),t.passwordMode=n,t.isMember=a.user.Role===m.Ob,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;fe()(A,(function(a,n){t.emailing[a]=!!(e&1<<n)}))}(o)}function T(){var e=u.get(),a=e.Hotkeys,n=e.ShowImages,o=e.AutoSaveContacts,r=e.ConfirmLink;t.requestLink=r,t.autosaveContacts=o,t.images=n&m.cc?1:0,t.embedded=n&m.Q?2:0,t.hotkeys=a}E(),T(),t.setPasswordMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.passwordMode=e},x("mailSettings",(function(e,a){var n=a.type;"updated"===(void 0===n?"":n)&&t.$applyAsync((function(){T()}))})),x("userSettings",(function(e,a){var n=a.type;"updated"===(void 0===n?"":n)&&t.$applyAsync((function(){E()}))})),t.$on("$destroy",(function(){k()})),t.saveDefaultLanguage=function(){var e=t.locale.key,a=g.updateLocale({Locale:e}).then((function(){return window.location.reload()}));return p.track(a),a},t.enableDesktopNotifications=function(){r.request((function(){t.desktopNotificationsStatus=r.status()}))},t.testDesktopNotification=function(){r.create(l.getString("You have a new email",null,"Info"),{body:"Quarterly Operations Update - Q1 2016 ",icon:"/assets/img/notification-badge.gif",onClick:function(){window.focus()}})},t.saveNotification=function(e){S((function(a,n){d.deactivate();var o={Password:a,TwoFactorCode:n},r=g.updateEmail(o,{Email:t.notificationEmail}).then((function(){h.set("NotificationEmail",t.notificationEmail),e.$setUntouched(),e.$setPristine(),f.success(l.getString("Recovery/Notification email saved",null,"Success"))}));p.track(r)}))},t.savePasswordReset=function(){S((function(e,a){d.deactivate();var n={Password:e,TwoFactorCode:a},o=g.passwordReset(n,{PasswordReset:t.passwordReset}).then((function(){f.success(l.getString("Preference saved",null,"Success"))})).catch((function(e){var a=h.get().Email;throw t.passwordReset=a.Reset,e}));p.track(o)}),(function(){return t.passwordReset=+!t.passwordReset}))},t.saveDailyNotifications=function(){var e=g.notify({Notify:t.dailyNotifications}).then((function(){f.success(l.getString("Preference saved",null,"Success"))})).catch((function(e){var a=h.get().Email;throw t.dailyNotifications=a.Notify,e}));p.track(e)},t.changePassword=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={type:t,phase:e};function o(){n.activate({params:{phase:a.phase,type:a.type,close:function(t){n.deactivate(),t?(a.phase=2,a.type="mailbox",setTimeout((function(){return o()}),100)):C()}}})}function r(t,e){var a=b.password({Password:t,TwoFactorCode:e}).then((function(){d.deactivate(),P(),o()}));p.track(a)}S(r)},t.saveAutosaveContacts=function(){var e=v.updateAutoSaveContacts({AutoSaveContacts:t.autosaveContacts}).then((function(){f.success(l.getString("Preference saved",null,"Success"))}));p.track(e)},t.saveImages=function(){var e=(u.get("ShowImages")&m.Q?2:0)+t.images,a=v.updateShowImages({ShowImages:e}).then((function(){f.success(l.getString("Image preferences updated",null,"Success"))}));p.track(a)},t.saveEmbedded=function(){var e=(u.get("ShowImages")&m.cc?1:0)+t.embedded,a=v.updateShowImages({ShowImages:e}).then((function(){f.success(l.getString("Image preferences updated",null,"Success"))}));p.track(a)},t.saveRequestLink=function(){var e=v.updateConfirmLink({ConfirmLink:t.requestLink}).then((function(){f.success(l.getString("Preference saved",null,"Success"))}));p.track(e)},t.openHotkeyModal=function(){i.activate({params:{close:function(){i.deactivate()}}})},t.saveHotkeys=function(){var e=v.updateHotkeys({Hotkeys:t.hotkeys}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.MailSettings,a=void 0===e?{}:e;c[1===a.Hotkeys?"bind":"unbind"](),f.success(l.getString("Hotkeys preferences updated",null,"Success"))}));p.track(e)},t.deleteAccount=function(){o.activate({params:{close:function(){o.deactivate()}}})},t.changeEmailing=function(){var e=Te()(A,(function(e,a,n){return e+(t.emailing[a]<<n)}),0),a=l.getString("Emailing preference updated",null,"Success"),n=g.setNews({News:e}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.set("News",e),t})).then((function(){return f.success(a)}));p.track(n)}}Dd.$inject=["$scope","$timeout","authentication","changePasswordModal","deleteAccountModal","desktopNotifications","dispatchers","gettextCatalog","hotkeyModal","hotkeys","loginPasswordModal","mailSettingsModel","networkActivityTracker","notification","settingsApi","settingsMailApi","User","userSettingsModel"];var _d=Dd;function Od(t,e,a,n,o,r,s,l,i,c,d,u){var p=e(["appearance"]),f=p.on,g=p.unsubscribe,v=p.dispatcher,b=d.get(),h=b.Theme,y=b.ComposerMode,w=b.ViewLayout,x=b.MessageButtons,k=b.ViewMode,A=b.StickyLabels;a.appearance={cssTheme:h,ComposerMode:y,ViewLayout:w,MessageButtons:x,viewMode:!k,stickyLabels:!!A},f("changeViewMode",(function(t,e){var a=e.data.status?m.E:m.Gb;v.appearance("changingViewMode");var n=c.updateViewMode({ViewMode:a}).then((function(){return i.call()})).then((function(){u.success(r.getString("View mode saved",null,"Success")),v.appearance("viewModeChanged")}));return l.track(n),n})),f("changeStickyLabels",(function(t,e){var a=+e.data.status,n=c.updateStickyLabels({StickyLabels:a}).then((function(){return i.call()})).then((function(){u.success(r.getString("Preference saved",null,"Success"))}));return l.track(n),n})),a.$on("$destroy",g),a.loadThemeClassic=function(){a.appearance.cssTheme="CLASSIC",a.saveTheme()},a.saveTheme=function(){var t=c.updateTheme({Theme:a.appearance.cssTheme}).then(i.call).then((function(){u.success(r.getString("Theme saved",null,"Info"))}));return l.track(t),t},a.clearTheme=function(){a.appearance.cssTheme="",a.saveTheme()},a.saveComposerMode=function(){var t=parseInt(a.appearance.ComposerMode,10),e=c.updateComposerMode({ComposerMode:t}).then(i.call).then((function(){u.success(r.getString("Compose mode saved",null,"Info"))}));l.track(e)},a.saveLayoutMode=function(){var t=a.appearance.ViewLayout,e=c.updateViewLayout({ViewLayout:t}).then(i.call).then((function(){u.success(r.getString("Layout saved",null,"Info"))}));l.track(e)},a.saveButtonsPosition=function(){var t=a.appearance.MessageButtons,e=c.updateMessageButtons({MessageButtons:t}).then(i.call).then((function(){u.success(r.getString("Buttons position saved",null,"Info"))}));return l.track(e),e}}Od.$inject=["$log","dispatchers","$scope","$state","$window","gettextCatalog","$q","networkActivityTracker","eventManager","settingsMailApi","mailSettingsModel","notification"];var Ld=Od,Nd=a("gLAU"),$d=a.n(Nd);function Rd(t,e,a,n,o,r,s){var l=t(),i=l.on,c=l.unsubscribe,d=function(){return e.isPaidUser=o.user.Subscribed};i("updateUser",(function(){e.$applyAsync((function(){return d()}))})),!0===a.scroll&&$d()((function(){return $(".settings").animate({scrollTop:$("#plans").offset().top},1e3)})),d(),function(t){e.methods=t}(n),r.set("cycle",a.cycle||s.cycle()),r.set("currency",a.currency||s.currency()),e.$on("$destroy",c)}Rd.$inject=["dispatchers","$scope","$stateParams","methods","authentication","dashboardConfiguration","subscriptionModel"];var jd=Rd;function Fd(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ud(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Fd(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Fd(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Vd(t,e,a,n,o,r,s,l,i,c,d,u,p,f,g,v,b,h,y,w,x,k){t("SignaturesController",{$scope:e,authentication:l});var A=k(),S=A.on,P=A.unsubscribe;S("domainModal",(function(t,a){var n=a.type,o=a.data,r=void 0===o?{}:o;switch(e.closeModals(),n){case"domain":e.addDomain(r.domain);break;case"spf":e.spf(r.domain);break;case"address":e.addAddresses(r.domain);break;case"mx":e.mx(r.domain);break;case"dkim":e.dkim(r.domain);break;case"verification":e.verification(r.domain);break;case"dmarc":e.dmarc(r.domain)}})),e.$on("$destroy",(function(){P()})),S("addressModel",(function(t,a){var n=a.type,o=a.data;if("address.new"===n){var r=Ud(Ud({},o.address),{},{MemberID:o.member.ID}),s=Ud(Ud({},o.domain),{},{Addresses:o.domain.Addresses.concat([r])});e.addAddresses(s)}})),S("memberActions",(function(t,a){var n=a.type,o=a.data;if("edit.success"===n){var r,s=Ud({},o.domains[0]);(r=s.Addresses).push.apply(r,ce()(o.member.Addresses)),e.members.push(o.member),e.addAddresses(s)}})),e.goodSetup=function(t){var e=t.DomainName,a=void 0===e?"":e,n=t.VerifyState,o=t.Addresses,r=void 0===o?[]:o,s=t.MxState,l=t.SpfState,i=t.DKIM,c=t.DmarcState,d=a.length,u=2===n,p=r.length,m=3===s,f=3===l,g=4===i.State;return d&&u&&p&&m&&f&&g&&3===c},e.wizard=function(t){t.DomainName?2!==t.VerifyState?e.verification(t):t.Addresses.length?3!==t.MxState?e.mx(t):3!==t.SpfState?e.spf(t):4!==t.DKIM.State?e.dkim(t):3!==t.DmarcState&&e.dmarc(t):e.addAddresses(t):e.addDomain()},e.deleteDomain=function(t){i.activate({params:{title:n.getString("Delete domain",null,"Title"),message:n.getString("Are you sure you want to delete this address?",null,"Info"),confirm:function(){var e=u.delete(t.ID).then(g.call).then((function(){y.success(n.getString("Domain deleted",null,"Success")),i.deactivate()}));h.track(e)},cancel:function(){i.deactivate()}}})};e.changeCatchall=function(t,a){var o=a.Addresses,r=void 0===o?[]:o,s=t.catchall,l=t.DomainID,i=t.ID,c=t.Type;if(!(c===m.G&&1&e.organization.Features))return y.info(n.getString("This feature is only available for ProtonMail Professional plans or higher",null,"Info")),void(t.catchall=!s);r.forEach((function(t){t.ID!==i&&(t.catchall=!1)}));var d=p.catchall(l,s?i:null).then((function(){y.success(n.getString("Catch-all address updated",null,"Success"))}));h.track(d)},e.owned=function(t){var e=r.getByID(t.ID,l.user,!0);return angular.isDefined(e)},e.privated=function(t){return 1===Ca()(e.members,{ID:t.MemberID}).Private},e.addDomain=function(t){f.activate({params:{step:1,domain:t,submit:function(t){var a=u.create({Name:t}).then((function(t){return g.call().then((function(){return t}))})).then((function(t){y.success(n.getString("Domain created",null,"Success")),f.deactivate(),e.verification(t.Domain)}));h.track(a)},next:function(){f.deactivate(),e.verification(t)},cancel:function(){f.deactivate()}}})},e.refreshStatus=function(){var t=p.fetch().then((function(t){e.domains=t}));h.track(t)};var C=function(){var t=_()(I.a.mark((function t(e){var a,o,r,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.ID,t.next=3,u.get(a);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0={};case 6:if(o=t.t0,r=o.Domain||{},0!==(s=r.VerifyState)){t.next=10;break}throw new Error(n.getString("Verification did not succeed, please try again in an hour.",null,"Error"));case 10:if(1!==s){t.next=13;break}return y.error(n.getString("Wrong verification code. Please make sure you copied the verification code correctly and try again. It can take up to 24 hours for changes to take effect.",null,"Error"),{duration:3e4}),t.abrupt("return",{test:!1,data:o});case 13:if(2!==s){t.next=16;break}return y.success(n.getString("Domain verified",null,"Success")),t.abrupt("return",{test:!0,data:o});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.verification=function(t){var a=e.domains.indexOf(t);x.activate({params:{domain:t,step:2,submit:function(){var n=C(t).then((function(t){var n=t.test,o=t.data;n&&(e.domains[a]=Ud(Ud({},e.domains[a]),o.Domain),x.deactivate(),e.addAddresses(o.Domain))}));h.track(n)},next:function(){e.addAddresses(t)},close:function(){x.deactivate()}}})},e.addAddresses=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(1===e.organization.HasKeys&&e.keyStatus>0)return y.error(n.getString("Administrator privileges must be activated",null,"Error")),void a.go("secured.members");s.activate({params:{step:3,domain:t,members:e.members,next:function(){s.deactivate(),e.mx(t)},cancel:function(){s.deactivate(),g.call()}}})},e.mx=function(t){b.activate({params:{domain:t,step:4,next:function(){b.deactivate(),e.spf(t)},close:function(){b.deactivate(),g.call()}}})},e.spf=function(t){w.activate({params:{domain:t,step:5,next:function(){w.deactivate(),e.dkim(t)},close:function(){w.deactivate(),g.call()}}})},e.dkim=function(t){c.activate({params:{domain:t,step:6,next:function(){c.deactivate(),e.dmarc(t)},close:function(){c.deactivate(),g.call()}}})},e.dmarc=function(t){var a=e.domains.indexOf(t);d.activate({params:{domain:t,step:7,verify:function(){var n=u.get(t.ID).then((function(t){return g.call().then((function(){return t}))})).then((function(t){e.domains[a]=Ud(Ud({},e.domains[a]),t.Domain),d.deactivate()}));h.track(n)},close:function(){d.deactivate(),g.call()}}})},e.closeModals=function(){f.deactivate(),x.deactivate(),c.deactivate(),d.deactivate(),w.deactivate(),b.deactivate(),s.deactivate(),o.deactivate(),v.deactivate()},e.member=function(t){var a=Ca()(e.members,{ID:t});if(angular.isDefined(a))return a}}Vd.$inject=["$controller","$scope","$state","gettextCatalog","addressModal","addressesModel","addressesModal","authentication","confirmModal","dkimModal","dmarcModal","domainApi","domainModel","domainModal","eventManager","memberModal","mxModal","networkActivityTracker","notification","spfModal","verificationModal","dispatchers"];var zd=Vd,Kd=a("7tbW"),Bd=a.n(Kd),Gd=a("MzkN");function qd(t,e,a,n,o,r,s,l,i,c,d){var u=t(),p=u.on,m=u.unsubscribe,f=d((function(){return{labelUpdated:a.getString("Label updated",null,"Success"),folderUpdated:a.getString("Folder updated",null,"Success")}})),g=function(){return e.labels=l.get()};g();var v=Object(Gd.a)({scrollableSelector:"#labelContainer"}),b=v.dragStart,h=v.dragMove,y=v.dragEnd;function w(t,e){s.activate({params:{label:t,onSuccess:function(){if("edit"!==e)var t=setTimeout((function(){var e=document.querySelector(".labelsState-item:last-child");e&&e.scrollIntoView(),clearTimeout(t)}),500)}}})}e.labelsDragControlListeners={containment:"#labelContainer",dragStart:b,dragMove:h,dragEnd:y,accept:function(t,e){return t.itemScope.sortableScope.$id===e.$id},orderChanged:function(){var t=qn()(e.labels,"ID");e.saveLabelOrder(t)}},p("changeNotifyLabel",(function(t,a){var n=a.data,s=n.id,l=n.status,d=Ca()(e.labels,{ID:s}),u=d.Name,p=d.Color,m=d.Display,g=d.Exclusive,v=r.update({ID:s,Name:u,Color:p,Display:m,Exclusive:g,Notify:+!!l}).then(o.call).then((function(){return c.success(g?f.folderUpdated:f.labelUpdated)}));i.track(v)})),p("labelsModel",(function(t,a){var n=a.type;"cache.update"!==n&&"cache.refresh"!==n||e.$applyAsync((function(){return g()}))})),e.$on("$destroy",m),e.createLabel=function(){w({Exclusive:0})},e.createFolder=function(){w({Exclusive:1})},e.editLabel=function(t){w(t,"edit")},e.sortLabels=function(){e.labels=l.sort();var t=qn()(e.labels,"ID");e.saveLabelOrder(t)},e.deleteLabel=function(t){var e=t.Exclusive?a.getString("Delete folder",null,"Title"):a.getString("Delete label",null,"Title"),s=t.Exclusive?{CONFIRM:a.getString("Are you sure you want to delete this folder? Messages in the folders arent deleted if the folder is deleted, they can still be found in all mail. If you want to delete all messages in a folder, move them to trash.",null,"Info"),NOTIF:a.getString("Folder deleted",null,"Success")}:{CONFIRM:a.getString("Are you sure you want to delete this label? Removing a label will not remove the messages with that label.",null,"Info"),NOTIF:a.getString("Label deleted",null,"Success")},l=s.CONFIRM,d=s.NOTIF;n.activate({params:{title:e,message:l,confirm:function(){var e=r.remove(t.ID).then(o.call).then((function(){n.deactivate(),c.success(d)}));i.track(e)},cancel:function(){n.deactivate()}}})},e.saveLabelOrder=function(t){var e=r.order({LabelIDs:Bd()(t)}).then(o.call).then((function(){c.success(a.getString("Label order saved",null,"Success"))}));i.track(e)}}qd.$inject=["dispatchers","$scope","gettextCatalog","confirmModal","eventManager","Label","labelModal","labelsModel","networkActivityTracker","notification","translator"];var Hd=qd;function Yd(t,e,a,n,o,r){switch(t("SignaturesController",{$scope:e,authentication:n}),e.roles=r.getRoles(),a.action){case"new":o.add();break;case"edit":o.edit(Ca()(e.members,{ID:a.id}));break;case"scroll":$(".settings").animate({scrollTop:$("#settingsMembers").offset().top},1e3)}}Yd.$inject=["$controller","$scope","$stateParams","authentication","memberActions","memberModel"];var Wd=Yd,Xd=a("UfWW"),Jd=a.n(Xd),Zd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ExpMonth,a=void 0===e?12:e,n=t.ExpYear,o=void 0===n?9999:n,r=new Date,s=r.getMonth()+1,l=r.getFullYear();return s>=+a&&l>=+o};function Qd(t,e,a,n,o,r,s,l,i,c,d,u){var p=o(),f=p.on,g=p.unsubscribe,v=function(){t.subscribed=a.user.Subscribed,t.delinquent=a.user.Delinquent>=m.qc.DELINQUENT,t.role=a.user.Role};t.methods=l,t.invoiceOwner=0,f("updateUser",(function(){t.$applyAsync((function(){v()}))})),t.add=function(){n.activate({params:{close:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.methods,o=e.method;n.deactivate(),o&&t.$applyAsync((function(){t.methods=a}))}}})},t.edit=function(e){n.activate({params:{method:e,close:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.methods,o=e.method;n.deactivate(),o&&t.$applyAsync((function(){t.methods=a}))}}})},t.default=function(a){var n=t.methods.slice(),o=Jd()(n,{ID:a.ID});n.splice(o,1),n.unshift(a);var r=d.order({PaymentMethodIDs:qn()(n,"ID")}).then((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.data,r=void 0===o?{}:o;return t.methods=n,i.success(e.getString("Payment method updated",null,"Payment")),r}));c.track(r)},t.delete=function(a){var n=e.getString("Delete payment method",null,"Title"),o=e.getString("Are you sure you want to delete this payment method?",null,"Info");s.activate({params:{title:n,message:o,confirm:function(){var n=d.deleteMethod(a.ID).then((function(){return u.getMethods(!0)})).then(s.deactivate).then((function(){t.methods.splice(t.methods.indexOf(a),1),i.success(e.getString("Payment method deleted",null,"Payment"))})).catch((function(t){throw s.deactivate(),t}));c.track(n)},cancel:function(){s.deactivate()}}})},t.pay=function(t){var a={methods:d.methods(),check:d.check(t.ID),status:d.status()};c.track(Promise.all(a).then((function(a){var n=a.methods.data.PaymentMethods,o=a.status.data;r.activate({params:{invoice:t,methods:n,status:o,currency:a.check.data.Currency,amount:a.check.data.Amount,credit:a.check.data.Credit,amountDue:a.check.data.AmountDue,checkInvoice:a.check.data,close:function(a){r.deactivate(),!0===a&&(t.State=1,i.success(e.getString("Invoice paid",null,"Info")))}}})})))},t.isExpired=Zd,v(),t.$on("$destroy",(function(){g()}))}Qd.$inject=["$scope","gettextCatalog","authentication","cardModal","dispatchers","payModal","confirmModal","methods","notification","networkActivityTracker","Payment","paymentModel"];var tu=Qd;function eu(t,e,a,n,o,r,s,l,i,c,d,u,p,m){var f=n([]),g=f.on,v=f.unsubscribe,b=m((function(){return{twofa:{title:o.getString("Disable Two-Factor Authentication",null,"Title"),message:o.getString("Are you sure you want to disable two-factor authentication?",null,"Info"),disabled:o.getString("Two-factor authentication disabled",null,"Disable 2FA")},revoke:{successOthers:o.getString("Other sessions revoked",null,"Success"),success:o.getString("Session revoked",null,"Success")}}})),h=d.get().TwoFactor;function y(e,a){w((function(n,o){var r=c.enableTwoFactor({TwoFactorCode:o,Password:n},{TwoFactorSharedSecret:e}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.TwoFactorRecoveryCodes})).then((function(e){t.twoFactor=1,d.set("TwoFactor",1),function(t){i.activate({params:{recoveryCodes:t,close:function(){i.deactivate()}}})}(e)})).catch((function(t){throw x(e,a),t}));s.track(r)}))}function w(t){r.activate({params:{hasTwoFactor:1,submit:function(e,a){r.deactivate(),t(e,a)},cancel:function(){r.deactivate()}}})}function x(t,e){u.activate({params:{sharedSecret:t,qrURI:e,next:function(t,e){u.deactivate(),y(t,e)},cancel:function(){u.deactivate()}}})}t.activeSessions=e.get(),t.twoFactor=h,t.enableTwoFactor=function(){p.activate({params:{next:function(){x(),p.deactivate()},cancel:function(){p.deactivate()}}})},t.disableTwoFactor=function(){a.activate({params:{title:b.twofa.title,message:b.twofa.message,confirm:function(){a.deactivate(),w((function(e,a){var n=c.disableTwoFactor({TwoFactorCode:a,Password:e}).then((function(){t.twoFactor=0,d.set("TwoFactor",0),l.success(b.twofa.disabled)}));s.track(n)}))},cancel:function(){a.deactivate()}}})},t.revokeOthers=function(){var t=e.revokeOthers().then((function(){return l.success(b.revoke.successOthers)}));s.track(t)},t.revoke=function(t){var a=e.revoke(t).then((function(){return l.success(b.revoke.success)}));s.track(a)},g("activeSessions",(function(e,a){var n=a.type,o=a.data;"update"===n&&(t.activeSessions=o.sessions)})),t.$on("$destroy",(function(){v()}))}eu.$inject=["$scope","activeSessionsModel","confirmModal","dispatchers","gettextCatalog","loginPasswordModal","networkActivityTracker","notification","recoveryCodeModal","settingsApi","userSettingsModel","sharedSecretModal","twoFAIntroModal","translator"];var au=eu,nu=a("Ln+c");function ou(t,e,a,n,o,r,s,l,i,c){var d=t(),u=d.on,p=d.unsubscribe;e.isSubUser=a.user.subuser;var f=i.getActive(),g=f.active,v=f.disabled;e.activeAddresses=g,e.disabledAddresses=v,e.itemMoved=!1,e.members=o.getAll(),e.organization=r.get();var b=a.user.Role===m.Nb;e.domains=n.query();var h=function(){var t=_()(I.a.mark((function t(){var a,n=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:r.get(),t.next=3,s.manage(a);case 3:e.$applyAsync((function(){e.keyStatus=s.get("keyStatus"),e.organizationKeyInfo=s.get("organizationKeyInfo"),e.organizationKeyType=Object(nu.a)(e.organizationKeyInfo)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();h(),b&&(u("organizationChange",(function(t,a){var n=a.data;e.organization=n,s.fetch().then((function(){return h(n)}))})),u("members",(function(t,a){var n=a.type,o=a.data,r=void 0===o?{}:o;"update"===n&&(e.members=r.list)})),u("domainsChange",(function(t,a){var n=a.data;e.$applyAsync((function(){e.domains=n}))}))),u("updateUser",(function(){!1===e.itemMoved&&e.$applyAsync((function(){var t=i.getActive(),a=t.active,n=t.disabled;e.activeAddresses=a,e.disabledAddresses=n})),b||a.user.Role!==m.Nb||(o.clear(),r.clear(),s.clear(),c.reload()),e.$applyAsync((function(){e.members=o.getAll()}))})),u("addressModel",(function(t,a){"generateKey.success"===a.type&&e.$applyAsync((function(){var t=i.getActive(),a=t.active,n=t.disabled;e.activeAddresses=a,e.disabledAddresses=n}))})),e.aliasDragControlListeners={containment:".pm_form",accept:function(t,e){return t.itemScope.sortableScope.$id===e.$id},dragStart:function(){e.itemMoved=!0},dragEnd:function(){e.itemMoved=!1},orderChanged:function(){var t=e.activeAddresses.concat(e.disabledAddresses),a=t.map((function(t){return t.ID}));t.forEach((function(t,e){t.Order=e+1})),l.saveOrder(a)}},e.getDomain=function(t){var e=t.Email.split("@");return M()(e,1)[0]},e.$on("$destroy",p)}ou.$inject=["dispatchers","$scope","authentication","domainModel","memberModel","organizationModel","organizationKeysModel","addressModel","addressesModel","$state"];var ru=ou;function su(t,e,n){var o="DraftMIMEType";return{replace:!0,scope:{},templateUrl:a("s6q/"),link:function(a,r){var s=t(),l=s.on,i=s.unsubscribe;a.model=n.get(o);var c=function(t){var a=t.target,n=a.value,o=a.querySelector('[value="'.concat(n,'"]')).textContent;e.updateComposerMode(n,o)};r.on("change",c),l("mailSettings",(function(t,e){var n=e.key,r=e.value,s=void 0===r?{}:r;"all"===n&&(a.model=s[o])})),a.$on("$destroy",(function(){i(),r.off("change",c)}))}}}su.$inject=["dispatchers","composerSettings","mailSettingsModel"];var lu=su;function iu(t,e,a){var n="RightToLeft";return{restrict:"E",replace:!0,scope:{},templateUrl:"templates/settings/chooseRightToLeft.tpl.html",link:function(o,r){var s=t(),l=s.on,i=s.unsubscribe;o.model=""+(a.get(n)||0);var c=function(t){var a=t.target,n=parseInt(a.value,10),o=a.querySelector('[value="'.concat(a.value,'"]')).textContent;e.updateRightToLeft(n,o)};r.on("change",c),l("mailSettings",(function(t,e){var a=e.key,r=e.value,s=void 0===r?{}:r;"all"===a&&(o.model=""+s[n])})),o.$on("$destroy",(function(){i(),r.off("change",c)}))}}}iu.$inject=["dispatchers","composerSettings","mailSettingsModel"];var cu=iu,du=function(){return{replace:!0,transclude:!0,template:'<header class="headerBlock-container" ng-transclude></header>'}};function uu(t,e,n,o,r,s,l,i){var c=i((function(){return{SUCCES_MESSAGE:t.getString("Encryption setting updated",null,"Success"),ENABLE_SIGNING_TITLE:t.getString("Automatic sign outgoing messages?",null,"Confirm modal title"),ENABLE_SIGNING_MESSAGE:t.getString("PGP clients are more likely to automatically detect your PGP keys if outgoing messages are signed.",null,"Info"),YES:t.getString("Yes",null,"Confirm text"),NO:t.getString("No",null,"Confirm text")}})),d=function(){var t=_()(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a&&!e.get("Sign")){t.next=2;break}return t.abrupt("return",!1);case 2:return t.abrupt("return",new Promise((function(t){l.activate({params:{title:c.ENABLE_SIGNING_TITLE,message:c.ENABLE_SIGNING_MESSAGE,confirmText:c.YES,cancelText:c.NO,confirm:function(){t(!0),l.deactivate()},cancel:function(){t(!1),l.deactivate()}}})})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(t){return t.then((function(){return r.success(c.SUCCES_MESSAGE)}))},p=function(t){var e=t.target.value,a="pgp-mime"===(void 0===e?"pgp-mime":e)?m.Mb.SEND_PGP_MIME:m.Mb.SEND_PGP_INLINE;u(o.updatePgpScheme({PGPScheme:a}))},f=function(){var t=_()(I.a.mark((function t(e,a){var n,r,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:n=t.sent,r=[o.updateAttachPublic({AttachPublicKey:+e})],n&&(s=o.updateSign({Sign:1}).then((function(){a.$applyAsync((function(){a.sign=!0}))})),r.push(s)),u(Promise.all(r));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return{replace:!0,scope:{},templateUrl:a("D0hN"),link:function(t,a){var r=n(),s=r.on,l=r.unsubscribe,i=a[0].querySelector(".pgp-scheme");t.attachPublic=e.get("AttachPublicKey"),t.sign=e.get("Sign"),t.promptpin=e.get("PromptPin"),t.pgpscheme=e.get("PGPScheme")===m.Mb.SEND_PGP_INLINE?"pgp-inline":"pgp-mime",s("encryptSettings",(function(e,a){var n=a.type,r=a.data.status;"attachPublic"===n&&f(r,t),"sign"===n&&u(o.updateSign({Sign:+r})),"promptpin"===n&&u(o.updatePromptPin({PromptPin:+r}))})),i.addEventListener("change",p),t.$on("$destroy",(function(){i.removeEventListener("change",p),l()}))}}}uu.$inject=["gettextCatalog","mailSettingsModel","dispatchers","settingsMailApi","notification","networkActivityTracker","confirmModal","translator"];var pu=uu;function mu(t,e,a,n){var o=e.build("settings"),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return n.set("all",a.UserSettings),a};return{fetch:function(){return t.get(o()).then(r)},password:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a.verify.put({Password:t},o("password"))},passwordReset:function(t,e){return a.auth.put(t,o("email","reset"),e).then(r)},updateEmail:function(t,e){return a.auth.put(t,o("email"),e).then(r)},setLogging:function(e){return t.put(o("logauth"),e).then(r)},enableTwoFactor:function(t,e){return a.auth.post(t,o("2fa","totp"),e).then(r)},disableTwoFactor:function(t){return a.auth.put(t,o("2fa","totp")).then(r)},passwordUpgrade:function(t,e,n){return a.verify.put(t,o("password","upgrade"),e,n)},notify:function(e){return t.put(o("email","notify"),e).then(r)},updateLocale:function(e){return t.put(o("locale"),e).then(r)},setNews:function(e){return t.put(o("news"),e).then(r)},invoiceText:function(e){return t.put(o("invoicetext"),e).then(r)}}}mu.$inject=["$http","url","srp","userSettingsModel"];var fu=mu;function gu(t,e,a,n){var o=n.build("settings/mail"),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=void 0===e?{}:e;return a.set("all",n.MailSettings),n},s=function(t){return t.then(r)};return{fetch:function(){return s(t.get(o()))},updateTheme:function(e){return s(t.put(o("theme"),e))},updateAutoSaveContacts:function(e){return s(t.put(o("autocontacts"),e))},updateComposerMode:function(e){return s(t.put(o("composermode"),e))},updateMessageButtons:function(e){return s(t.put(o("messagebuttons"),e))},updateConfirmLink:function(e){return s(t.put(o("confirmlink"),e))},updateShowImages:function(e){return s(t.put(o("images"),e))},updateShowMoved:function(e){return s(t.put(o("moved"),e))},updateViewMode:function(e){return s(t.put(o("viewmode"),e))},updateViewLayout:function(e){return s(t.put(o("viewlayout"),e))},updateSwipeLeft:function(e){return s(t.put(o("swipeleft"),e))},updateSwipeRight:function(e){return s(t.put(o("swiperight"),e))},updateHotkeys:function(e){return s(t.put(o("hotkeys"),e))},updatePMSignature:function(e){return s(t.put(o("pmsignature"),e))},updateAutowildcard:function(e){return s(t.put(o("autowildcard"),e))},updateDraftType:function(e){return s(t.put(o("drafttype"),e))},updateReceiveType:function(e){return s(t.put(o("receivetype"),e))},updateShowType:function(e){return s(t.put(o("showtype"),e))},updateImageProxy:function(e){return s(t.put(o("imageproxy"),e))},updateTLS:function(e){return s(t.put(o("tls"),e))},updateRightToLeft:function(e){return s(t.put(o("righttoleft"),e))},updateAttachPublicKey:function(e){return s(t.put(o("attachpublic"),e))},updateAutoresponder:function(e){return s(t.put(o("autoresponder"),e))},updateAttachPublic:function(e){return s(t.put(o("attachpublic"),e))},updateSign:function(e){return s(t.put(o("sign"),e))},updatePgpScheme:function(e){return s(t.put(o("pgpscheme"),e))},updatePromptPin:function(e){return s(t.put(o("promptpin"),e))},updateStickyLabels:function(e){return s(t.put(o("stickylabels"),e))}}}gu.$inject=["$http","gettextCatalog","mailSettingsModel","url"];var vu=gu;function bu(t){var e=t(["userSettings"]),a=e.on,n=e.dispatcher,o={},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return angular.copy("all"===t?o:o[t])};return a("logout",(function(){return o={}})),{get:r,set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1?arguments[1]:void 0;"all"===t?Lt()(o,e):o[t]=e,n.userSettings("updated",r())}}}bu.$inject=["dispatchers"];var hu=bu;function yu(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function wu(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?yu(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yu(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function xu(t,e,a){var n={},o=t(["vpnSettings"]),r=o.on,s=o.dispatcher,l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return angular.copy("all"===t?n:n[t])},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1?arguments[1]:void 0;"all"===t?n=wu(wu({},n),e):n[t]=e,s.vpnSettings("updated",l())},c=function(t,n){return function(){var o=_()(I.a.mark((function o(r){var s;return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!n||l("initApiCredentials")){o.next=4;break}return o.next=3,a.get();case 3:i("initApiCredentials",!0);case 4:return o.next=6,e[t](r);case 6:return s=o.sent,i("all",s),o.abrupt("return",l());case 9:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}()},d=c("fetch",!0),u=c("resetSettings");return r("logout",(function(){return n={}})),{get:l,set:i,fetch:d,resetSettings:u}}xu.$inject=["dispatchers","vpnSettingsApi","vpnApi"];var ku=xu;function Au(t){var e=t(["mailSettings"]),a=e.on,n=e.dispatcher,o={};return a("logout",(function(){return o={}})),{get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return angular.copy("all"===t?o:o[t])},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1?arguments[1]:void 0;"all"===t?Lt()(o,e):o[t]=e,n.mailSettings("updated",{key:t,value:e})},draftsIncluded:function(){return 1&o.ShowMoved},sentIncluded:function(){return 2&o.ShowMoved}}}Au.$inject=["dispatchers"];var Su=Au,Pu=a("I3fF"),Cu=a.n(Pu);function Eu(t,e,n){return n({controllerAs:"ctrl",templateUrl:a("9W3/"),controller:["params",function(a){var n=this,o=Js()(new Uint8Array(20)),r=Cu.a.encode(o),s=Ca()(t.get(),(function(t){return t.Keys})),l=s?s.Email:"".concat(e.user.Name,"@protonmail"),i="otpauth://totp/".concat(l,"?secret=").concat(r,"&issuer=ProtonMail&algorithm=SHA1&digits=6&period=30");this.sharedSecret=a.sharedSecret||r,this.qrURI=a.qrURI||i,this.manual=!1,this.next=function(){return a.next(n.sharedSecret,n.qrURI)},this.displayManual=function(){n.manual=!n.manual},this.makeCode=function(){new Gi.a(document.getElementById("qrcode"),n.qrURI)}}]})}Eu.$inject=["addressesModel","authentication","pmModal"];var Mu=Eu;function Tu(t,e){var a=e.build("vpn/settings"),n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a.VPNSettings};return{fetch:function(){return t.get(a()).then(n)},resetSettings:function(){return t.put(a("reset"),{}).then(n)}}}Tu.$inject=["$http","url"];var Iu=Tu;function Du(t,e,a,n,o,r){var s=function(t){return a.track(t),t},l=r((function(){return{successComposer:function(t){return n.getString("Change composer mode to {{value}}",{value:t},"Info")},successTextDirection:function(t){return n.getString("Change default text direction to {{value}}",{value:t},"Info")}}}));return{updateComposerMode:function(t,a){return s(e.updateDraftType({MIMEType:t})).then((function(){return o.success(l.successComposer(a))}))},updateRightToLeft:function(t,a){return s(e.updateRightToLeft({RightToLeft:t})).then((function(){return o.success(l.successTextDirection(a))}))}}}Du.$inject=["authentication","settingsMailApi","networkActivityTracker","gettextCatalog","notification","translator"];var _u=Du,Ou=angular.module("proton.settings",[]).factory("vpnSettingsApi",Iu).controller("AccountController",_d).controller("AppearanceController",Ld).controller("DashboardController",jd).controller("DomainsController",zd).controller("LabelsController",Hd).controller("MembersController",Wd).controller("PaymentsController",tu).controller("SecurityController",au).controller("SignaturesController",ru).directive("chooseComposerMode",lu).directive("chooseRightToLeft",cu).directive("headerBlock",du).directive("encryptionView",pu).factory("sharedSecretModal",Mu).factory("settingsApi",fu).factory("settingsMailApi",vu).factory("userSettingsModel",hu).factory("vpnSettingsModel",ku).factory("composerSettings",_u).factory("mailSettingsModel",Su).name,Lu=a("Rqpp"),Nu=a.n(Lu),$u=a("eDNR"),Ru=a.n($u),ju=a("QVEU"),Fu=a.n(ju);function Uu(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Vu(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Uu(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Uu(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}Hu.$inject=["$injector","dispatchers","userType"];var zu=m.P.OPEN_TAG_AUTOCOMPLETE,Ku=m.P.CLOSE_TAG_AUTOCOMPLETE;function Bu(t,e){return function(a){var n=a.isContactGroup;return"contactGroup"===t?n:!("contact"===t&&n||e&&n)}}var Gu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("@"),a=M()(e,2),n=a[0],o=a[1],r=void 0===o?"":o;return Ll()(Ni()((function(t){return t.includes(r.toLowerCase())})),Ri()((function(t){var e="".concat(n,"@").concat(t);return{label:e,value:e,Name:e}})),Ru()(m.g))(m.f)},qu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Address",n=Object(j.j)(t,"reverse");if(m.Zb.test(n)&&"Address"===a){var o=n.split(/<|\(/).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.trim()})),r=M()(o,2),s=r[0],l=r[1],i=void 0===l?e:l,c=/(>|\))$/.test(i)?i.slice(0,-1):i;return{Name:s,Address:c}}return x()({Name:t.trim()},a,e.trim())};function Hu(t,e,a){var n=e(["ui","contactGroupModel"]),r=n.on,s=n.dispatcher,l={EMAILS:[],LABELS:Object.create(null)},i=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={},n=function(t){_rAF((function(){l.EMAILS=d(),s.ui("autocompleteContacts.updated",{type:t})}))};return function(r,s){var l=s.type;t.includes(l)&&(a[l]||(a[l]=e?o()(n,300):n),a[l](l))}};r("contacts",i(["contactsUpdated"],!0)),r("contacts",i(["contactEmails.updated","resetContacts"])),r("contactGroupModel",i(["cache.refresh"])),r("logout",(function(){l.EMAILS.length=0,l.LABELS=Object.create(null)}));var c=function(e){var a=e.Name,n=e.Email,o=e.Color,r=e.ID,s=e.LastUsedTime,l=n||r,i=void 0!==o;return{label:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e===t||!t)return e.trim();var n=Object(j.j)(t);return!e&&t?a?"".concat(n," ").concat(a):n:"".concat(Object(j.d)(n).trim()," ").concat(zu).concat(e.trim()).concat(Ku)}(a,n,function(e,a){if(a){var n=t.get("contactGroupModel").getNumber(e);return n<=0?"":"(".concat(n,")")}}(r,i)),value:l,Name:a,ID:r,isContactGroup:i,LastUsedTime:s}};function d(){return Ll()(Ri()(c),Nu()(["LastUsedTime","label"],["desc","asc"]))(t.get("contactGroupModel").get().concat(t.get("contactEmails").get()))}var u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.length?t:[{label:e,value:e}];return a?ro()(n,{value:e}):n},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object(j.j)(n.trim()),s=r.toLowerCase(),i=a(),c=i.isFree;l.EMAILS.length||(l.EMAILS=d());var p=Ll()(Ni()(Bu(t,c)),Ni()((function(t){var a=t.label,n=t.Name,o=t.isContactGroup;return!e[o?n:a]&&a.toLowerCase().includes(s)})),Ru()(m.g))(l.EMAILS);l.LABELS=p.reduce((function(t,e){var a=e.label,n=e.Name;return t[a]=n,t}),Object.create(null));var f=!!p.length;if(f)return{list:u(p,r,o),hasAutocompletion:f};if(/@$/.test(r)&&"emails"===t){var g=Gu(r);return{list:g,hasAutocompletion:!!g.length}}return{list:[],hasAutocompletion:!1}}};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.keyValue,n=void 0===a?"Address":a,o=e.mode,r=void 0===o?"emails":o,s={list:[],mapExisting:Object.create(null)},i=function(){return s.list},d=function(){return{LOCAL_CACHE:s,CACHE:l}},u=function(t){return s.list.some((function(e){return e[n]===t}))},m=function(){s.list.length=0,l.LABELS=Object.create(null),s.mapExisting=Object.create(null)},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!u(t[n])){s.list.push(t);var a=c(e||t),o=t.isContactGroup?a.label:t.label;s.mapExisting[o||a.label]=a}},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,a=t.value,o=void 0===a?"":a,r="string"==typeof o,s=r?o:o.value,i=qu(l.LABELS[e]||e,s,n);f(Vu(Vu({label:e},i),!r&&o.data))},v=function(t){if(t){var e=Object.keys(s.mapExisting).find((function(e){return t.ID?s.mapExisting[e].ID===t.ID:e===t.Name||e===t.label}));delete s.mapExisting[e]}},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ta.a,a=s.list.find(e);return s.list=s.list.filter(t),v(a),s.list},h=function(){return v(s.list.pop()),s.list},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return b((function(a){return a[e]!==t}),(function(a){return a[e]===t}))},w=function(t){return y(t,"Address")},k=function(t,e,a){t!==e&&s.list.some((function(t){return t.Address===e}))?w(t):e||a?s.list=s.list.map((function(n){return n.Address===t?Vu(Vu({},n),{},{Address:e,Name:a}):n})):w(t)},A=function(){return!s.list.length},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Fu()(t,n),a=Fu()(s.list,n);s.list=s.list.filter((function(t){return e[t[n]]})),t.forEach((function(t){a[t[n]]||f(t)}))};return t.forEach((function(t){var e;return f(Vu((e={Name:t.Name||t[n]||t.Address},x()(e,n,t[n]),x()(e,"mode",r),e),"Address"===n&&{isContactGroup:!!t.isContactGroup}),t)})),{filterContact:p(r,s.mapExisting),formatInput:j.j,all:i,add:g,remove:b,removeByAddress:w,removeLast:h,removeItem:y,updateEmail:k,isEmpty:A,clear:m,exist:u,debug:d,refresh:S}}}var Yu=Hu,Wu=a("KtqP"),Xu=a.n(Wu),Ju=a("ijCd"),Zu=a.n(Ju);function Qu(t,e,a,n,o,r){var s=["inbox","drafts","sent","starred","archive","spam","trash","allmail","allDrafts","allSent"],l=e().on,i=function(){return{"eo.message":a.getString("Encrypted Message",null,"Title"),"eo.reply":a.getString("Encrypted Reply",null,"Title"),account:a.getString("Account",null,"Title"),allDrafts:a.getString("Drafts",null,"Title"),allmail:a.getString("All Mail",null,"Title"),allSent:a.getString("Sent",null,"Title"),appearance:a.getString("Appearance",null,"Title"),archive:a.getString("Archive",null,"Title"),autoresponder:a.getString("Automatic Replies",null,"Title"),bridge:a.getString("Bridge IMAP/SMTP",null,"Title"),contact:a.getString("Contact",null,"Title"),contacts:a.getString("Contacts",null,"Title"),contactsCreate:a.getString("Create Contact",null,"Title"),dashboard:a.getString("Dashboard",null,"Title"),domains:a.getString("Domains",null,"Title"),drafts:a.getString("Drafts",null,"Title"),encryption:a.getString("Encryption",null,"Title"),filters:a.getString("Filters",null,"Title"),inbox:a.getString("Inbox",null,"Title"),invoices:a.getString("Invoices",null,"Title"),keys:a.getString("Keys",null,"Title"),labels:a.getString("Labels",null,"Title"),login:a.getString("Login",null,"Title"),members:a.getString("Addresses / Users",null,"Title"),payments:a.getString("Payment methods",null,"Title"),pmme:"pm.me",search:a.getString("Search",null,"Title"),security:a.getString("Security",null,"Title"),sent:a.getString("Sent",null,"Title"),signatures:a.getString("Name / Signature",null,"Title"),signup:a.getString("Signup",null,"Title"),spam:a.getString("Spam",null,"Title"),starred:a.getString("Starred",null,"Title"),trash:a.getString("Trash",null,"Title"),users:a.getString("Users",null,"Title"),vpn:a.getString("VPN",null,"Title")}},c=i();function d(){return Ll()(Ni()({Status:1,Receive:1}),_l()("Order"),Xu.a)(t.get("addressesModel").get())||{}}var u=function(){var e=(t.get("labelsModel").read(o.params.label)||{}).Name;return(void 0===e?"":e)||a.getString("Label",null,"Title")},p=function(){return"message"===r.getTypeList()?"unreadMessage":"unreadConversation"},f=function(){var e=r.currentMailbox(),a=t.get("cacheCounters");return"label"===e?a[p()](o.params.label):a[p()](m.sb[e])},g=function(t,e){return Zu()(s,e)&&t>0?"(".concat(t,")"):""},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return["".concat(e," ").concat(t),a,"ProtonMail"].map((function(t){return t.trim()})).filter(Boolean).join(" | ")};l("i18n",(function(t,e){"load"===e.type&&(c=i())}));return{find:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r.currentMailbox()||r.filteredState();if(/login|reset-password|pre-invite|invite/.test(n||e))return v(c.login);if(/(signup|eo\.|support)/.test(n||e))return v(c[n||e]);if(/contacts.list/.test(n||e))return v(c.contacts);if(/contacts.new/.test(n||e))return v(c.contactsCreate);if(/contacts.detail/.test(n||e))return v(c.contact);var o="label"===n,s=g(f(),n),l=a?d():{},i=l.Email,p=void 0===i?"":i;if(c[n]||o){var m=o?u():c[n];return v(m,s,p)}return v(n,s,p)}}}Qu.$inject=["$injector","dispatchers","gettextCatalog","authentication","$state","tools"];var tp=Qu;function ep(t,e){var a=t(["timepicker"]),n=a.on,o=a.unsubscribe,r=a.dispatcher;var s=[{label:e.getString("1st of the month",null,"Day of the month select value"),value:0},{label:e.getString("2nd of the month",null,"Day of the month select value"),value:1},{label:e.getString("3rd of the month",null,"Day of the month select value"),value:2},{label:e.getString("4th of the month",null,"Day of the month select value"),value:3},{label:e.getString("5th of the month",null,"Day of the month select value"),value:4},{label:e.getString("6th of the month",null,"Day of the month select value"),value:5},{label:e.getString("7th of the month",null,"Day of the month select value"),value:6},{label:e.getString("8th of the month",null,"Day of the month select value"),value:7},{label:e.getString("9th of the month",null,"Day of the month select value"),value:8},{label:e.getString("10th of the month",null,"Day of the month select value"),value:9},{label:e.getString("11th of the month",null,"Day of the month select value"),value:10},{label:e.getString("12th of the month",null,"Day of the month select value"),value:11},{label:e.getString("13th of the month",null,"Day of the month select value"),value:12},{label:e.getString("14th of the month",null,"Day of the month select value"),value:13},{label:e.getString("15th of the month",null,"Day of the month select value"),value:14},{label:e.getString("16th of the month",null,"Day of the month select value"),value:15},{label:e.getString("17th of the month",null,"Day of the month select value"),value:16},{label:e.getString("18th of the month",null,"Day of the month select value"),value:17},{label:e.getString("19th of the month",null,"Day of the month select value"),value:18},{label:e.getString("20th of the month",null,"Day of the month select value"),value:19},{label:e.getString("21st of the month",null,"Day of the month select value"),value:20},{label:e.getString("22nd of the month",null,"Day of the month select value"),value:21},{label:e.getString("23rd of the month",null,"Day of the month select value"),value:22},{label:e.getString("24th of the month",null,"Day of the month select value"),value:23},{label:e.getString("25th of the month",null,"Day of the month select value"),value:24},{label:e.getString("26th of the month",null,"Day of the month select value"),value:25},{label:e.getString("27th of the month",null,"Day of the month select value"),value:26},{label:e.getString("28th of the month",null,"Day of the month select value"),value:27},{label:e.getString("29th of the month",null,"Day of the month select value"),value:28},{label:e.getString("30th of the month",null,"Day of the month select value"),value:29},{label:e.getString("31st of the month",null,"Day of the month select value"),value:30}],l={};return{init:angular.noop,refresh:function(t,e,a){r.timepicker("refresh",{eventKey:t,timestamp:e,zone:a})},daysInMonth:s,initTimePicker:function(t,e){l[t]=e,r.timepicker("initTimePicker",e)},onInitTimePicker:function(t,e){return n("timepicker",(function(t,a){var n=a.type,o=a.data;"initTimepicker"===n&&e(o)})),t in l&&e(l[t]),function(){delete l[t],o()}}}}ep.$inject=["dispatchers","gettextCatalog"];var ap=ep;function np(t){var e=function(e){e.preventDefault(),e.stopPropagation(),t.activate({params:{close:function(){t.deactivate()}}})};return{replace:!0,template:'<a data-prefix="v" href="'.concat(Le.a.articleLink,'" title="').concat(Le.a.date_version,'" target="_blank" class="appVersion-container">').concat(Le.a.app_version,"</a>"),link:function(t,a){a.on("click",e),t.$on("$destroy",(function(){a.off("click",e)}))}}}np.$inject=["releaseNotesModal"];var op=np;function rp(t,e){var n=e((function(){return{decrypting:t.getString("Decrypting",null,"atom text loader")}}));return{replace:!0,templateUrl:a("UI/w"),link:function(t,e,a){var o=a.translationKey,r=a.loaderTheme,s=e[0].querySelector(".atomLoader-text");r&&e[0].classList.add(r),o&&(s.innerHTML=function(t){return"".concat(n[t])}(o))}}}rp.$inject=["gettextCatalog","translator"];var sp=rp;function lp(t,e,n){return{scope:{email:"="},replace:!0,templateUrl:a("w44d"),compile:e({link:function(e,a,o){var r=o.awesomplete,s=o.attr,l=n(["autocompleteEmail"]).dispatcher,i=t(),c=function(t){var e=t.target,a=i.filterContact(e.value),n=a.list;a.hasAutocompletion&&(r.list=n),(e.value||"").includes("@")&&m.Zb.test(e.value)&&r.goto(-1)},d=function(t){var e=t.target;if(r.minChars=1,"INPUT"===e.nodeName&&!e.value){r.minChars=0;var a=i.filterContact(e.value),n=a.list;a.hasAutocompletion&&(r.list=n)}},u=function(){s.eventType&&e.$applyAsync((function(){var t,a;t="input.blur",a={value:e.email,type:s.eventType,eventData:s.eventData},l.autocompleteEmail(t,a)}))};r.replace=function(t){!function(t){var a=t.value;e.$applyAsync((function(){return e.email=a}))}(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(m.Zb.test(e)){var a=t.filterContact(e,!0).list[0];if(a)return a}return{label:e,value:e}}(i,t.value))},r.filter=function(t,e){return Awesomplete.FILTER_CONTAINS(t,i.formatInput(e))},a.on("click",d),a.on("input",c),a.find("input").on("blur",u),e.$on("$destroy",(function(){a.off("click",d),a.off("input",c),a.off("blur",u),i.clear()}))}})}}lp.$inject=["autocompleteEmailsModel","autocompleteBuilder","dispatchers"];var ip=lp,cp=a("DzJC"),dp=a.n(cp);function up(t,e,n,o,r,s,l,i){var c=i((function(){return{failedToFetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.getString("Failed to get key information for {{emails}}. Removing from recipient list. Please try again.",{emails:t.join(", ")},"Error")}}})),d=function(t){return t.all().slice().reduce((function(t,e){return t[e.isContactGroup?"contactGroups":"emails"].push(e),t}),{emails:[],contactGroups:[]})};return{scope:{list:"=emails",message:"="},replace:!0,templateUrl:a("I8SS"),compile:e({link:function(e,a,r){var i=r.awesomplete,u=r.attr,p=o(["composer.update","autocompleteEmails"]),f=p.dispatcher,g=p.on,v=p.unsubscribe;e.emails=[];var b=a[0].querySelector(".autocompleteEmails-admin"),h=t(e.list),y=n(e.message),w=function(){return _rAF((function(){return b.scrollTop=b.scrollHeight+32}))},x=function(){var t=d(h),a=y.extendFromCache(t.emails);!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.$applyAsync((function(){e.emails=t,e.list=t,w(),_rAF((function(){e.$applyAsync((function(){f.autocompleteEmails("refresh",{messageID:e.message.ID,emails:t})}))}))}))}(t.contactGroups.concat(a))},k=function(){var t=_()(I.a.mark((function t(){var e,a,n,o,r,s,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=d(h),a=e.emails,t.next=3,y.sync(a);case 3:n=t.sent,o=n.addressesToRemove,r=void 0===o?[]:o,s=n.failedAddresses,(i=void 0===s?[]:s).length&&l.error(c.failedToFetch(i)),r.forEach(h.removeByAddress);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=_()(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(),t.next=3,k();case 3:x();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=dp()(A,300);function P(t){var a,n=t.address,o=t.key;u.key===o&&(h.removeByAddress(n),a=n,s(e.message.ID).remove(a),S())}S(),g("contacts",(function(t,e){var a=e.type;"contactEvents"!==a&&"contactUpdated"!==a||S()})),g("mailSettings",(function(t,e){var a=e.data.key;"Sign"!==a&&"all"!==a||S()})),g("composer.update",(function(t,a){var n=a.type,o=a.data,r=(o=void 0===o?{}:o).message;"close.panel"===n&&(void 0===r?{ID:null}:r).ID===e.message.ID&&S()})),g("squire.messageSign",(function(t,a){a.data.messageID===e.message.ID&&S()})),g("recipient.update",(function(t,a){var n=a.type,o=a.data,r=o.messageID,s=o.oldAddress,l=o.Address,i=o.Name,c=o.key,d=o.remove,p=void 0===d?{}:d;r===e.message.ID&&("update"===n&&u.key===c&&(h.updateEmail(s,l,i),S()),"remove"===n&&P(p))}));var C=function(t){var e=t.target;if(","===e.value&&(e.value=""),e.value&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.indexOf(",")>-1||t.indexOf(";")>-1}(e.value))return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(/,|;/).filter(Boolean).map((function(t){return t.trim()}))}(e.value).forEach((function(t){return h.add({label:t,value:t})})),S(),_rAF((function(){return i.input.value="",i.input.focus()}));var a=h.filterContact(e.value),n=a.list,o=a.hasAutocompletion;return o&&(i.list=n),(e.value||"").includes("@")&&o&&m.Zb.test(e.value)?i.goto(-1):void 0},E=function(t){var e=t.target;if(i.minChars=1,e.classList.contains("autocompleteEmails-btn-remove"))return P(e.dataset);if("INPUT"===e.nodeName&&!e.value){i.minChars=0;var a=h.filterContact(e.value),n=a.list;a.hasAutocompletion&&(i.list=n)}},T=function(t){t.preventDefault();var e=function(t){if("FORM"===t.nodeName){var e=t.querySelector("input");return{value:(e?e.value:"").trim(),clear:function(){e&&(e.value="")}}}return{value:(t.value||"").trim(),clear:function(){t.value=""}}}(t.target),a=e.value,n=e.clear;a&&(h.add(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(m.Zb.test(e)){var a=M()(t.filterContact(e,!0).list,1),n=a[0];if(n)return n}return{label:e,value:e}}(h,a)),n(),S(),i.close())},D=function(t){var a=!i.input.value&&!h.isEmpty();switch(t.keyCode){case 9:if(i.opened&&i.selected)return t.preventDefault(),i.select(),_rAF((function(){return i.input.focus()}));i.input.value&&T(t);break;case!t.shiftKey:i.select();break;case 27:a||f["composer.update"]("escape.autocomplete",{message:e.message});break;case 8:a&&(h.removeLast(),S())}};i.input.addEventListener("blur",T),i.replace=function(t){h.add(t),this.input.value="",S()},i.filter=function(t,e){return Awesomplete.FILTER_CONTAINS(t,h.formatInput(e))},a.on("keydown",D),a.on("click",E),a.on("input",C),a.on("submit",T),g("autocompleteEmails",(function(t,n){var o=n.type,r=n.data,s=void 0===r?{}:r;"refresh"===o&&s.name===a[0].getAttribute("data-name")&&s.messageID===e.message.ID&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h.refresh(t),S()}(s.list)})),e.$on("$destroy",(function(){a.off("keydown",D),a.off("click",E),a.off("input",C),a.off("submit",T),i.input.removeEventListener("blur",T),h.clear(),y.clear(),v()}))},compile:function(t,e){var a=e.key,n=t[0].querySelector(".autocompleteEmails-item");n&&n.setAttribute("data-key",a)}},{data:function(t){return{label:t.label,value:{value:t.value,data:{ContactID:t.ContactID,isContactGroup:t.isContactGroup}}}}})}}up.$inject=["autocompleteEmailsModel","autocompleteBuilder","emailsEncryptionFlags","dispatchers","gettextCatalog","composerContactGroupSelection","notification","translator"];var pp=up;gp.$inject=["sanitize","sendPreferences","autoPinPrimaryKeys","checkTypoEmails","keyCache","dispatchers","manageContactGroup","contactGroupModel"];var mp=m.P.OPEN_TAG_AUTOCOMPLETE_RAW,fp=m.P.CLOSE_TAG_AUTOCOMPLETE_RAW;function gp(t,e,n,o,r,s,l,i){var c=function(t){return"autocompleteEmails-".concat(t)},d={BTN_REMOVE:c("btn-remove"),INVALID_EMAIL:c("item-invalid"),EDIT_EMAIL:c("item-edit")},u=function(e){var a=function(t){var e=t.textContent.replace(fp,"").split(mp),a=M()(e,2),n=a[0],o=void 0===n?"":n,r=a[1],s=void 0===r?"":r;return{name:o.trim(),adr:s.trim()}}(e),n=a.name;return{Address:a.adr||n,Name:t.input(n)}};function p(t,e,a){var n,o,r,c,p=a.key,m=s(["recipient.update"]),f=m.dispatcher,g=m.on,v=m.unsubscribe,b=e.find("span"),h=e.find("."+d.BTN_REMOVE),y=(n=e[0],o=n.querySelector("button"),function(t){return o.setAttribute("data-address",t)});if(t.email.isContactGroup){var w=i.read(t.email.Address,"labels");e[0].insertAdjacentHTML("afterBegin",(c=w.Color,'<i aria-hidden="true" class="fa fa-users autocompleteEmailsItem-icon-group" style="color:'.concat(c,'"></i>')))}var x,k=function(e){var a=e.target;if(t.email.isContactGroup)return l.editComposer(t.email.Address,t.message,p);a.setAttribute("contenteditable",!t.email.isContactGroup)},A=function(e){var a=e.target;if(a.parentElement.classList.remove(d.EDIT_EMAIL),!t.email.isContactGroup){a.setAttribute("contenteditable",!1);var n=t.email.Address,o=u(a),r=o.Address,s=o.Name;y(r),f["recipient.update"]("update",{Address:r,Name:s,oldAddress:n,messageID:t.message.ID,key:p})}},S=dp()((function(e){if(x=e.keyCode,e.target.parentElement.classList.contains(d.EDIT_EMAIL)||e.target.parentElement.classList.add(d.EDIT_EMAIL),13===e.keyCode)return A(e);"true"===e.target.getAttribute("contenteditable")&&(e.stopPropagation(),t.email.invalid&&e.target.parentElement.classList.remove(d.INVALID_EMAIL))}),150);g("autocompleteEmails",(function(a,n){var o=n.type,s=n.data.messageID;"refresh"===o&&s===t.message.ID&&function(){var a=t.email.warnings,n=void 0===a?[]:a;if(n.length){var o=n[0];r?r.updateTitleContent(o):r=Object(Hr.a)(e,{title:o})}else r&&r.hide()}()})),g("tooltip",(function(t,e){"hideAll"===e.type&&r&&r&&r.hide()}));var P=function(e){var a=e.target,n=e.originalEvent;if((void 0===n?{}:n).relatedTarget&&9!==x){var o=a.dataset.address;f["recipient.update"]("remove",{messageID:t.message.ID,remove:{address:o,key:p}})}};b.on("keydown input",S),h.on("focus",P),b.on("click",k),b.on("blur",A),t.$on("$destroy",(function(){h.off("focus",P),b.off("keydown input",S),b.off("click",k),b.off("blur",A),r&&r.dispose(),v()}))}return{replace:!0,templateUrl:a("mZt9"),compile:function(t,e){var a=e.key;return t[0].querySelector(".autocompleteEmails-btn-remove").setAttribute("data-key",a),p}}}var vp=gp;function bp(t,e){return{replace:!0,scope:{email:"<",message:"<"},templateUrl:a("1urt"),link:function(a,n){var o=e(),r=o.on,s=o.unsubscribe,l=Object(Hr.a)(n,{title:t.getTooltip(a.email)});r("autocompleteEmails",(function(e,n){var o,r=n.type,s=n.data.messageID;"refresh"===r&&s===a.message.ID&&(o=a.email,l.updateTitleContent(t.getTooltip(o)))})),r("tooltip",(function(t,e){"hideAll"===e.type&&l.hide()})),a.$on("$destroy",(function(){l.dispose(),s()}))}}}bp.$inject=["encryptionStatus","dispatchers"];var hp=bp;function yp(t,e,n,o,r,s,l){var i=t(["settings"]).dispatcher,c=function(t){var a=function(t){var e=l.get().ViewLayout;return"rows"===t&&e===m.q?1:"columns"===t&&e===m.fc?0:void 0}(t);if(angular.isDefined(a)){var c=o.updateViewLayout({ViewLayout:a}).then((function(){i.settings("viewLayout.updated",{viewLayout:a}),n.mobileResponsive(),r.success(s.getString("Layout saved",null,"Info"))}));e.track(c)}};return{replace:!0,templateUrl:a("kWmj"),link:function(t,e){var a=e.find("a"),n=function(t){t.preventDefault(),c(t.target.getAttribute("data-action"))};a.on("click",n),t.$on("$destroy",(function(){a.off("click",n)}))}}}yp.$inject=["dispatchers","networkActivityTracker","tools","settingsMailApi","notification","gettextCatalog","mailSettingsModel"];var wp=yp;function xp(t){return{restrict:"E",replace:!0,templateUrl:a("C7OI"),scope:{},link:function(e,a,n){var o=n.name,r=void 0===o?"":o,s=n.currency,l=void 0===s?"":s,i=t([r]),c=i.dispatcher,d=i.on,u=i.unsubscribe,p=function(t){a[0].dataset.currency=t},m=function(t){var e=t.target.getAttribute("value");e&&(c[r]("change",e),p(e))};a.on("click",m),d(r,(function(t,e){var a=e.type,n=e.data;return"set"===a&&p(n)})),p(l),e.$on("$destroy",(function(){u(),a.off("click",m)}))}}}xp.$inject=["dispatchers"];var kp=xp,Ap=function(t,e){return{replace:!0,templateUrl:a("GnPB"),compile:t("checkbox",{post:function(t,a,n){if(n.customCheckboxEvent){var o=e(["customCheckbox"]).dispatcher,r=a.find("input"),s=function(t){o.customCheckbox("change",{event:t})};r.on("click",s),t.$on("$destroy",(function(){a.off("click",s)}))}}})}};Ap.$inject=["customInputCreator","dispatchers"];var Sp=Ap,Pp=function(t){return{replace:!0,templateUrl:a("Qo52"),compile:t("radio")}};Pp.$inject=["customInputCreator"];var Cp=Pp,Ep=function(t,e,a,n){return{replace:!0,template:'<style id="customTheme"></style>',link:function(o,r){var s=e(),l=s.on,i=s.unsubscribe,c=function(){if(t.query().isLoggedIn){var e=(n.get()||{}).Theme,o=a.get("Theme");r[0].textContent=e||o||""}};l("organizationChange",c),l("mailSettings",c),l("AppModel",c),l("logout",(function(){r[0].textContent=""})),c(),o.$on("$destroy",i)}}};Ep.$inject=["AppModel","dispatchers","mailSettingsModel","organizationModel"];var Mp=Ep;function Tp(t,e,n,o){var r=new Date(1970,1,1);return{replace:!0,restrict:"E",templateUrl:a("Yquj"),scope:{form:"="},compile:function(a){var s=Math.floor(1e16*Math.random()).toString(36);a[0].querySelector(".timepicker").setAttribute("data-event-key",s);var l=moment.localeData().longDateFormat("L");return a[0].querySelector(".datepicker").setAttribute("placeholder",o.I18N.localizedDatePlaceholder),function(a,o,i){var c=i.datePickerKey,d=i.timestamp,u=i.disableInput,p=i.labelId,m=i.zone,f=t(["timepicker"]),g=f.on,v=f.unsubscribe,b=f.dispatcher,h=function(t,e){return b.timepicker(t,e)},y=o.find(".datepicker");function w(){if(null===a.timestamp)return a.model.time=null,void(a.model.date=null);var t=moment(1e3*a.timestamp).tz(a.zone),e=t.clone().startOf("day");a.model.time=t.diff(e,"seconds"),a.model.date=new Date(e.format("YYYY-MM-DDTHH:mm:ss"))}function x(){a.$applyAsync((function(){""===y.val().trim()&&(a.model.date=null,null!==a.model.pikaday.getDate()&&a.model.pikaday.setDate(null)),a.model.date instanceof Date&&y.val()!==moment(a.model.date).format(l)&&y.val(moment(a.model.date).format(l)),k()}))}function k(){if(null===a.model.time||void 0===a.model.time||null===a.model.date||void 0===a.model.date)return a.timestamp=null,void h("update",{eventKey:a.datePickerKey,timestamp:a.timestamp});a.timestamp=Number(moment.tz(moment(a.model.date).format("YYYY-MM-DD"),a.zone).format("X"))+a.model.time,h("update",{eventKey:a.datePickerKey,timestamp:a.timestamp})}n.initTimePicker(s,{disableInput:u,labelId:p+"_time"}),a.zone=m,a.datePickerKey=c,a.timestamp=String(Number(d))===d?Number(d):null,a.disableInput="true"===u,a.labelId=p,a.combineErrors=e.create(s,a),a.minDate=r,a.model={time:null,date:null},y.attr("id",a.labelId),w(),y.on("change",x),g("timepicker",(function(t,e){var n=e.type,o=e.data;"refresh"===n&&o.eventKey===a.datePickerKey&&(a.timestamp=o.timestamp,a.zone=o.zone,w()),"update"===n&&o.eventKey===s&&k()})),a.$on("$destroy",(function(){v(),y.off("change",x)}))}}}}Tp.$inject=["dispatchers","datetimeErrorCombiner","timepickerModel","dateUtils"];var Ip=Tp;function Dp(t,e){return{restrict:"A",scope:{},link:function(a,n,o){var r=o.dropdownNoAutoClose,s=o.dropdownType,l=e(["dropdown"]),i=l.on,c=l.unsubscribe,d=l.dispatcher,u=n.parent().find(".pm_dropdown");function p(){n.removeClass("active"),n.attr("aria-expanded","false"),u.removeClass("pm_dropdown-opened"),t.off("click",m)}function m(){r||d.dropdown("close",{type:s})}function f(){var e=n.hasClass("active");return d.dropdown("close",{type:s}),e||(n.addClass("active"),n.attr("aria-expanded","true"),u.addClass("pm_dropdown-opened"),t.on("click",m),d.dropdown("show",{type:s})),!1}n.on("click",f),n.on("keydown",(function(t){var e=t.key;return" "===e||"Spacebar"===e||"Enter"===e?(f(),!1):"Escape"===e||"Esc"===e?(p(),!1):void 0})),i("dropdown",(function(t,e){"close"===e.type&&p()})),a.$on("$destroy",(function(){n.off("click",f),p(),c()}))}}}Dp.$inject=["$document","dispatchers"];var _p=Dp;var Op=function(){return{restrict:"E",replace:!0,templateUrl:a("ItiI")}};var Lp=function(){return{replace:!0,restrict:"E",scope:{list:"="},templateUrl:a("HuKI")}},Np=function(){return{restrict:"E",replace:!0,scope:{},template:'<div class="loader"><em></em></div>'}};function $p(t,e,n){return{replace:!0,restrict:"E",templateUrl:a("FBB8"),scope:{form:"="},compile:function(a){var o=Math.floor(1e16*Math.random()).toString(36);return a[0].querySelector(".timepicker").setAttribute("data-event-key",o),function(a,r,s){var l=s.datePickerKey,i=s.timestamp,c=s.disableInput,d=s.labelId,u=t(["timepicker"]),p=u.on,m=u.unsubscribe,f=u.dispatcher,g=function(t,e){return f.timepicker(t,e)},v=r.find(".day-selector");function b(){if(null===a.timestamp)return a.model.time=null,void(a.model.day=null);a.model.day=Ca()(a.availableDays,{value:Math.floor(a.timestamp/86400)%31}),a.model.time=a.timestamp%86400}function h(){a.$applyAsync(y)}function y(){if(null===a.model.time||null===a.model.day)return a.timestamp=null,void g("update",{eventKey:a.datePickerKey,timestamp:a.timestamp});a.timestamp=24*a.model.day.value*3600+a.model.time,g("update",{eventKey:a.datePickerKey,timestamp:a.timestamp})}e.initTimePicker(o,{disableInput:c,labelId:d+"_time"}),a.datePickerKey=l,a.timestamp=String(Number(i))===i?Number(i):null,a.disableInput="true"===c,a.labelId=d,a.combineErrors=n.create(o,a),a.availableDays=e.daysInMonth,a.timePickerKey=a.datePickerKey+Math.floor(1e16*Math.random()).toString(36),a.model={time:null,day:null},v.attr("id",a.labelId),b(),v.on("change",h),p("timepicker",(function(t,e){var n=e.type,r=e.data;"refresh"===n&&r.eventKey===a.datePickerKey&&(a.timestamp=r.timestamp,b()),"update"===n&&r.eventKey===o&&y()})),a.$on("$destroy",(function(){m(),v.off("change",h)}))}}}}$p.$inject=["dispatchers","timepickerModel","datetimeErrorCombiner"];var Rp=$p;function jp(t){return{replace:!0,restrict:"E",scope:{selected:"=",options:"="},templateUrl:a("qMZ4"),link:function(e,a,n){var o=n.name,r=n.disabled,s=t(["multiselect"]).dispatcher,l=[];function i(t){var a=t.target;(a.classList.contains("multiselectLabel")||a.classList.contains("multiselectCheckbox"))&&e.$applyAsync((function(){o&&s.multiselect("update",{value:e.selected,name:o})}))}e.disabled="true"===r,a.on("click",i),l.push((function(){return a.off("click",i)})),e.$on("$destroy",(function(){fe()(l,(function(t){return t()})),l.length=0}))}}}jp.$inject=["dispatchers"];var Fp=jp;function Up(t,e,n,o,r,s){var l=s((function(){return{LEARN_MORE:n.getString("Learn more",null,"Link")}})),i={inbox:{icon:"fa-inbox",text:n.getString("Inbox",null,"No results heading")},drafts:{icon:"fa-file-text-o",text:n.getString("Drafts",null,"No results heading")},sent:{icon:"fa-sign-out",text:n.getString("Sent",null,"No results heading")},trash:{icon:"fa-trash-o",text:n.getString("Trash",null,"No results heading")},spam:{icon:"fa-ban",text:n.getString("Spam",null,"No results heading")},starred:{icon:"fa-star-o",text:n.getString("Starred",null,"No results heading")},allmail:{icon:"",text:n.getString("All Mail",null,"No results heading")},archive:{icon:"fa-archive",text:n.getString("Archive",null,"No results heading")},search:{icon:"fa-search",text:n.getString("Search",null,"No results heading")},label:{icon:"fa-tag",text:n.getString("Label",null,"No results heading")},folder:{icon:"fa-folder",text:n.getString("Folder",null,"No results heading")}};return{restrict:"E",replace:!0,templateUrl:a("g/W2"),link:function(a,s){var c=s[0].querySelector("i"),d=s[0].querySelector("span"),u=s[0].querySelector("h3"),p=e.currentMailbox(),m=e.getTypeList(),f=t.last(),g=f.code,v=f.error;if(p){var b=function(t){var e=t;"label"===e&&(1===(o.read(r.label)||{}).Exclusive&&(e="folder"));return i[e]||{}}(p),h=b.icon,y=b.text;h&&c.classList.add(h),d.textContent=y}u.innerHTML=g===st.a.MESSAGE_SEARCH_QUERY_SYNTAX?"".concat(v,'.<br /><a href="https://protonmail.com/support/knowledge-base/search/" target="_blank">').concat(l.LEARN_MORE,"</a>"):function(t){return"conversation"===t?n.getString("No conversations",null,"Title"):n.getString("No messages",null,"Title")}(m)}}}Up.$inject=["elementsError","tools","gettextCatalog","labelsModel","$stateParams","translator"];var Vp=Up;function zp(t,e,a){return{scope:{number:"="},replace:!0,template:'<h2 ng-bind="text()" class="numberElementSelected-title"></h2>',link:function(n){n.text=function(){var o=n.number,r=e.getTypeList();return a.includes("secured.contacts")?t.getPlural(o,"{{$count}} contact selected","{{$count}} contacts selected",{},"Info"):"conversation"===r?t.getPlural(o,"{{$count}} conversation selected","{{$count}} conversations selected",{},"Info"):t.getPlural(o,"{{$count}} message selected","{{$count}} messages selected",{},"Info")}}}}zp.$inject=["gettextCatalog","tools","$state"];var Kp=zp;function Bp(t){return{restrict:"E",replace:!0,template:'<progress class="progressBar-container"></progress>',scope:{},compile:function(e,a){var n=a.max,o=void 0===n?100:n;return e[0].value=1,e[0].max=o,function(e,a,n){var o=n.id,r=t(),s=r.on,l=r.unsubscribe;s("progressBar",(function(t,e){var n=e.type,r=void 0===n?"":n,s=e.data,l=(void 0===s?{}:s).progress,i=void 0===l?0:l;o===r&&(a[0].value=+i)})),e.$on("$destroy",l)}}}}Bp.$inject=["dispatchers"];var Gp=Bp;function qp(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"linear-gradient(90deg, rgba(".concat(m.rc,", 1) ").concat(t,"%, rgba(").concat(m.sc,", 1) 0%)")};return{scope:{model:"="},replace:!0,templateUrl:a("yH2K"),link:function(a,n){var o,r,s,l=t(),i=l.on,c=l.unsubscribe,d=(o=a.model,r=o.id,s=o.messageID,{isAttachment:function(t){return t.messageID===s&&t.id===r},isMessage:function(t){return t.messageID===s}});if(!a.model.packet.uploading)return n[0].classList.remove("progressUpload-uploading"),n[0].classList.add("progressUpload-uploaded");n[0].style.background=e(1),i("attachment.upload",(function(t,a){var o=a.type,r=a.data,s=void 0===r?{}:r;if(d.isMessage(s)&&d.isAttachment(s)){if("uploaded.success"===o)return n[0].classList.add("progressUpload-uploaded"),c();if("uploading"===o){if(100===s.progress)return _rAF((function(){n[0].classList.remove("progressUpload-uploading"),n[0].style.background=""}));s.progress&&s.progress<100&&(n[0].style.background=e(s.progress))}}})),a.$on("$destroy",c)}}}qp.$inject=["dispatchers"];var Hp=qp,Yp=function(t,e){return{replace:!0,templateUrl:a("p7bp"),link:function(a,n,o){var r=o.action,s=void 0===r?"":r,l=o.fileName,i=t(["attachment.upload"]),c=i.dispatcher,d=i.on,u=i.unsubscribe;n[0].querySelector(".sr-only").innerHTML=e.getString("Remove the attachment {{fileName}}",{fileName:l},"Info"),n[0].setAttribute("data-label",s);var p=function(t){t.stopPropagation(),n[0].disabled=!0,c["attachment.upload"](s,a.model)};d("attachment.upload",(function(t,e){var o=e.type,r=e.data;"remove.error"===o&&(void 0===r?{}:r).id===a.model.id&&(n[0].disabled=!1)})),n.on("click",p),a.$on("$destroy",(function(){n.off("click",p),u()}))}}};Yp.$inject=["dispatchers","gettextCatalog"];var Wp=Yp,Xp=function(t){return{replace:!0,scope:{},templateUrl:a("+HTY"),link:function(e,a){var n=t(),o=n.on,r=n.unsubscribe;o("AppModel",(function(t,e){var n=e.type,o=e.data;if("networkActivity"===n||"loggingOut"===n){var r=(void 0===o?{}:o).value?"add":"remove";_rAF((function(){return a[0].classList[r]("show")}))}})),e.$on("$destroy",r)}}};Xp.$inject=["dispatchers"];var Jp=Xp;tm.$inject=["authentication","organizationModel","subscriptionModel","dispatchers"];var Zp=m.Sb.PLAN,Qp=[Zp.PLUS,Zp.PROFESSIONAL,Zp.VISIONARY].join(" ");function tm(t,e,n,o){return{restrict:"E",templateUrl:a("i8y8"),replace:!0,link:function(a,r){var s=o(),l=s.on,i=s.unsubscribe;function c(){var a=e.get(),o="LIFETIME"===n.get().CouponCode,s=t.user.subuser,l=t.user.Role===m.Ob,i=a.PlanName;o&&(i="lifetime"),(s||l||"free"===i)&&(i=""),r.removeClass(Qp).addClass(i),r.attr("data-plan-name",i)}l("organizationChange",c),l("updateUser",c),c(),a.$on("$destroy",i)}}}var em=tm;function am(t){return{replace:!0,template:'<div style="display: none"></div>',link:function(e,a){t.get("/assets/img/proton-svgs.svg").then((function(t){var e=t.data;a.html(e)}))}}}am.$inject=["$http"];var nm=am;function om(t){return{restrict:"A",link:function(e,a,n){var o=n.ptTooltip,r=void 0===o?"":o,s=n.ptPlacement,l=void 0===s?"top":s,i=n.ptHtml,c=void 0!==i&&i,d=t(),u=d.on,p=d.unsubscribe,m=Object(Hr.a)(a,{title:r,placement:l,html:c});u("tooltip",(function(t,e){"hideAll"===e.type&&m.hide()})),e.$on("$destroy",(function(){m.dispose(),p()}))}}}om.$inject=["dispatchers"];var rm=om,sm=function(){return{replace:!0,templateUrl:a("+AtJ"),link:function(t,e){var a=e.find("a"),n=function(e){e.preventDefault(),t.$applyAsync((function(){return t[e.target.getAttribute("data-action")]()}))};a.on("click",n),t.$on("$destroy",(function(){a.off("click",n)}))}}};function lm(t){return{replace:!0,templateUrl:a("FOXv"),link:function(e,a){var n=a[0].querySelector(".request-timeout-button-refresh"),o=function(){t.set("requestTimeout",!1),e.$applyAsync((function(){e.refreshElements()}))};n.addEventListener("click",o),e.$on("$destroy",(function(){n.removeEventListener("click",o)}))}}}lm.$inject=["AppModel"];var im=lm;function cm(t,e,n,o,r,s){var l=function(){return e.back()};return{replace:!0,scope:{},templateUrl:a("h2qI"),link:function(e,a){var n=o(),i=n.on,c=n.unsubscribe,d=function(){return t.user.Role===m.Ob},u=a.find(".".concat("sidebar-btn-back")),p=function(){return e.listStates=Object.keys(r.getStateConfig())};p(),t.user.subuser&&a.addClass("settingsMenu-is-subuser"),d()&&a.addClass("settingsMenu-is-member"),i("updateUser",(function(){d()&&a.addClass("settingsMenu-is-member"),e.$applyAsync((function(){p()}))})),i("$stateChangeStart",(function(){s.set("showSidebar",!1)})),i("appearance",(function(t,e){var a=e.type;"changingViewMode"===a&&u.prop("disabled",!0),"viewModeChanged"===a&&u.prop("disabled",!1)})),u.on("click",l),e.$on("$destroy",(function(){c(),u.off("click",l)}))}}}cm.$inject=["authentication","backState","networkActivityTracker","dispatchers","sidebarSettingsModel","AppModel"];var dm=cm,um=a("6foH"),pm=a.n(um);function mm(t){return{replace:!0,restrict:"E",scope:{value:"=",options:"="},templateUrl:a("dUrn"),link:function(e,a){var n=t(["slider.updated"]),o=n.on,r=n.unsubscribe,s=n.dispatcher,l=a[0].querySelector(".slider"),i=e.options.range.max-e.options.range.min;function c(t){return t/i*100+"%"}function d(t,e){e.appendChild(t)}function u(){var t=Number(l.noUiSlider.get());t<e.options.minPadding&&(t=e.options.minPadding,l.noUiSlider.set(t)),t>e.options.maxPadding&&(t=e.options.maxPadding,l.noUiSlider.set(t)),e.$applyAsync((function(){e.value=t,e.options.type&&s["slider.updated"](e.options.type,{value:t})}))}pm.a.create(l,e.options),u(),l.noUiSlider.on("change",u),e.plus=function(){var t=Number(l.noUiSlider.get())+e.options.step;t<=e.options.range.max&&(l.noUiSlider.set(t),u())},e.minus=function(){var t=Number(l.noUiSlider.get())-e.options.step;t>=e.options.range.min&&(l.noUiSlider.set(t),u())},e.$applyAsync((function(){return function(){var t=l.querySelector(".noUi-base");if(e.options.minPadding){var a=l.querySelector(".slider-min-padding");d(a,t),a.style.width=c(e.options.minPadding)}if(e.options.maxPadding){var n=l.querySelector(".slider-max-padding");d(n,t),e.maxPadding=e.options.range.max-e.options.maxPadding,n.style.width=c(e.maxPadding)}}()})),e.$watch("value",(function(t){return l.noUiSlider.set(t)})),e.options.type&&(o("refresh.slider",(function(t,a){var n=a.type,o=a.data,r=void 0===o?{}:o;e.options.type===n&&(l.noUiSlider.set(r.value),e.$applyAsync((function(){return e.value=r.value})))})),o("update.slider.options",(function(t,a){var n=a.type,o=a.data,r=void 0===o?{}:o;e.options.type===n&&l.noUiSlider.updateOptions(r.options)})),o("enable.slider",(function(t,a){var n=a.type;e.options.type===n&&l.removeAttribute("disabled")})),o("disable.slider",(function(t,a){var n=a.type;e.options.type===n&&l.setAttribute("disabled",!0)}))),e.$on("$destroy",(function(){l.noUiSlider.off("change",u),l.noUiSlider.destroy(),r()}))}}}mm.$inject=["dispatchers"];var fm=mm;function gm(t,e){var n=t(["timepicker"]).dispatcher;return{replace:!0,restrict:"E",templateUrl:a("OX+9"),require:"?ngModel",scope:{},link:function(t,a,o,r){var s=o.eventKey,l=[],i=a.find("input");l.push(e.onInitTimePicker(s,(function(t){i.attr("disabled","true"===t.disableInput),i.attr("id",t.labelId)}))),t.model={currentTime:null},t.eventKey=s;var c,d=(c=!1,function(){c||(c=!0,i.change(),c=!1)}),u=i.timepicker({change:d,showOnInput:!0,timeFormat:"h:mm p"}).data("TimePicker");function p(){var e=u.getTime();u.setTime(e),t.$applyAsync((function(){if(e instanceof Date)r.$setViewValue(3600*e.getHours()+60*e.getMinutes());else if(r.$setViewValue(null),""!==i.val())return i.val(""),void i.change();var t,a;t="update",a={eventKey:s,timestamp:r.$modelValue},n.timepicker(t,a)}))}r&&(r.$render=function(){if(null===r.$modelValue)t.model.currentTime=null;else{var e=Math.floor(r.$modelValue/3600),a=Math.floor((r.$modelValue-3600*e)/60),n=e>=12?"PM":"AM",o=e%12==0?12:e%12;t.model.currentTime=o+":"+(a<10?"0":"")+a+" "+n}},i.on("change",p),l.push((function(){return i.off("change",p)}))),l.push((function(){return u.destroy()})),t.$on("$destroy",(function(){fe()(l,(function(t){return t()})),l.length=0}))}}}gm.$inject=["dispatchers","timepickerModel"];var vm=gm;function bm(t,e,a){var n=function(t,e){return _rAF((function(){return t.text(e)}))};return{restrict:"E",scope:{},link:function(o,r){var s=t(),l=s.on,i=s.unsubscribe;l("$stateChangeSuccess",(function(t,a){n(r,e.find(a))})),l("elements",(function(t,o){"refresh"===o.type&&!a.is("secured.label.element")&&n(r,e.find(a.current))})),o.$on("$destroy",i)}}}bm.$inject=["dispatchers","pageTitlesModel","$state"];var hm=bm;function ym(t){return{restrict:"E",replace:!0,templateUrl:a("zWgH"),scope:{id:"@",status:"=",name:"@",type:"@"},link:function(e,a,n){var o=n.action,r=a.find(".pm_toggle-checkbox"),s=e.name||o||"toggle",l=e.type||"",i=t([s]).dispatcher,c=function(){s&&i[s](l,{status:e.status,id:e.id})};e.getID=function(){return e.id||"pm_toggle-".concat(e.$id)},r.on("change",c),e.status=!!e.status,e.$on("$destroy",(function(){r.off("change",c)}))}}}ym.$inject=["dispatchers"];var wm=ym;var xm=function(){return{restrict:"E",replace:!0,template:'<button class="pm_button link">{{text}} <i class="fa"></fa></button>',scope:{model:"=",text:"@"},link:function(t,e){var a=e[0].querySelector(".fa");function n(){var n=t.model.toggle?"fa-chevron-down":"fa-chevron-right",o=t.model.toggle?"fa-chevron-right":"fa-chevron-down";e[0].setAttribute("aria-expanded",t.model.toggle),a.classList.remove(o),a.classList.add(n)}function o(){t.$applyAsync((function(){t.model.toggle=!t.model.toggle,n()}))}t.model.toggle=!!t.model.toggle,n(),e[0].addEventListener("click",o),t.$on("$destroy",(function(){e[0].removeEventListener("click",o)}))}}};function km(t,e){return{replace:!0,templateUrl:a("fZzD"),link:function(a){var n=t(),o=n.on,r=n.unsubscribe,s=function(){var t=e.get().ViewLayout;a.$applyAsync((function(){a.viewLayout=t}))};o("mailSettings",(function(t,e){var a=e.type;"updated"===(void 0===a?"":a)&&s()})),s(),a.$on("$destroy",r)}}}km.$inject=["dispatchers","mailSettingsModel"];var Am=km;function Sm(t,e,n){return{replace:!0,templateUrl:a("G7xT"),link:function(a){var o=e(),r=o.on,s=o.unsubscribe,l=function(t){return a.numberElementSelected=t},i=function(){var t=n.get().ViewLayout;a.$applyAsync((function(){a.viewLayout=t}))};r("AppModel",(function(t,e){var n=e.type,o=e.data,r=void 0===o?{}:o;""===n&&a.$applyAsync((function(){l(r.value)}))})),r("mailSettings",(function(t,e){var a=e.type;"updated"===(void 0===a?"":a)&&i()})),i(),l(t.get("updateNumberElementSelected")),a.$on("$destroy",s)}}}Sm.$inject=["AppModel","dispatchers","mailSettingsModel"];var Pm=Sm;function Cm(t){return{restrict:"A",link:function(e,a,n){var o=n.text,r=n.url,s=n.hashtags,l=n.via,i=n.related,c=n.inReplyTo,d=t({text:o,url:r,hashtags:s,via:l,related:i,inReplyTo:c});a[0].setAttribute("href","https://twitter.com/intent/tweet?"+d)}}}Cm.$inject=["$httpParamSerializer"];var Em=Cm;function Mm(t,e,n){return{replace:!0,restrict:"E",templateUrl:a("0DtK"),scope:{form:"="},compile:function(a){var o=Math.floor(1e16*Math.random()).toString(36);return a[0].querySelector(".timepicker").setAttribute("data-event-key",o),function(a,r,s){var l=s.datePickerKey,i=s.timestamp,c=s.disableInput,d=s.labelId,u=moment.weekdays(),p=t(["timepicker"]),m=p.on,f=p.unsubscribe,g=p.dispatcher,v=function(t,e){return g.timepicker(t,e)},b=r.find(".week-day-selector");function h(){if(null===a.timestamp)return a.model.time=null,void(a.model.weekday=null);a.model.weekday=u[function(t){return Math.floor(t/86400)%7}(a.timestamp)],a.model.time=function(t){return t%86400}(a.timestamp)}function y(){a.$applyAsync(w)}function w(){if(null===a.model.time||null===a.model.weekday)return a.timestamp=null,void v("update",{eventKey:a.datePickerKey,timestamp:a.timestamp});a.timestamp=24*moment.localeData().weekdaysParse(a.model.weekday)*3600+a.model.time,v("update",{eventKey:a.datePickerKey,timestamp:a.timestamp})}n.initTimePicker(o,{disableInput:c,labelId:d+"_time"}),a.datePickerKey=l,a.timestamp=String(Number(i))===i?Number(i):null,a.disableInput="true"===c,a.labelId=d,a.combineErrors=e.create(o,a),a.model={time:null,weekday:null},a.data={timestamp:null,zone:"UTC"},a.timePickerKey=a.datePickerKey+Math.floor(1e16*Math.random()).toString(36),a.days=u,b.attr("id",a.labelId),h(),m("timepicker",(function(t,e){var n=e.type,r=e.data;"refresh"===n&&r.eventKey===a.datePickerKey&&(a.timestamp=r.timestamp,h()),"update"===n&&r.eventKey===o&&y()})),b.on("change",y),a.$on("$destroy",(function(){f(),b.off("change",y)}))}}}}Mm.$inject=["dispatchers","datetimeErrorCombiner","timepickerModel"];var Tm=Mm;_m.$inject=["contactGroupModel","composerContactGroupSelection"];var Im=m.P.OPEN_TAG_AUTOCOMPLETE_RAW,Dm=m.P.CLOSE_TAG_AUTOCOMPLETE_RAW;function _m(t,e){var a=function(a,n){var o=(e(n).get(a)||[]).length;return o&&o!==t.getNumber(a)?"".concat(o,"/").concat(t.getNumberString(a)):"".concat(t.getNumber(a),"/").concat(t.getNumberString(a))};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Name,n=void 0===e?"":e,o=t.Address,r=void 0===o?"":o,s=t.isContactGroup,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=l.ID;return s?"".concat(n," (").concat(a(r,i),")"):n===r?r:"".concat(n," ").concat(Im).concat(r).concat(Dm)}}var Om=_m,Lm=a("/w9J"),Nm=a.n(Lm);var $m=function(){return function(t){return Nm()(t)}};function Rm(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function jm(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Rm(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Rm(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Fm(t){return function(e){var a=e.link,n=void 0===a?ta.a:a,o=e.pre,r=void 0===o?ta.a:o,s=e.compile,l=void 0===s?ta.a:s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=function(t,e,a){var o=e[0].querySelector("input");o&&(o.id="".concat(o.id).concat(Object(j.k)()));var r=new Awesomplete(o,jm({minChars:1,maxItems:m.g,autoFirst:!0,sort:!1,list:[],ul:e[0].querySelector(".autocompleteEmails-autocomplete")},i)),s=0,l=function(){if(s!==r.index){s=r.index;var t=r.ul.children[s];t&&t.scrollIntoView(!1)}};r.input.addEventListener("awesomplete-highlight",l),n(t,e,{attr:a,awesomplete:r}),t.$on("$destroy",(function(){r.input.removeEventListener("awesomplete-highlight",l),r.destroy(),r=null}))};return t("text",{pre:r,post:c,compile:l})}}Fm.$inject=["customInputCreator"];var Um=Fm,Vm=a("zqxM"),zm=a.n(Vm),Km=a("9UKM"),Bm=a.n(Km);function Gm(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function qm(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Gm(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Gm(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Hm=function(t,e){var a=e.encrypt,n=e.sign,o=e.scheme,r=e.pinned,s=e.ownAddress,l=e.warnings,i=void 0===l?[]:l;return qm(qm({},t),{},{encrypt:a,sign:n,isPgp:[m.ic.SEND_PGP_MIME,m.ic.SEND_PGP_INLINE].includes(o),isPgpMime:o===m.ic.SEND_PGP_MIME,isEO:o===m.ic.SEND_EO,isPinned:r&&!s,ownAddress:s,loadCryptInfo:!1,warnings:i})};function Ym(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Wm(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ym(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ym(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Xm(t,e,a,n){var o={},r=function(){var t=_()(I.a.mark((function t(a){var n,o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ml()(qn()(a,"primaryPinned"),(function(t){return!t}))){t.next=2;break}return t.abrupt("return",[]);case 2:return n=Bm()(a),o=n.filter((function(t){return!M()(t,2)[1].primaryPinned})).map((function(t){return M()(t,1)[0]})),t.next=6,e.confirm(o);case 6:if(!t.sent){t.next=9;break}return t.abrupt("return",[]);case 9:return t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=_()(I.a.mark((function t(a){var n,o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ml()(qn()(a,"isVerified"),(function(t){return!t}))){t.next=2;break}return t.abrupt("return",[]);case 2:return n=Bm()(a),o=n.filter((function(t){return!M()(t,2)[1].isVerified})).map((function(t){return M()(t,1)[0]})),t.next=6,e.resign(o);case 6:if(!t.sent){t.next=9;break}return t.abrupt("return",[]);case 9:return t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return function(e){!o[e.ID]&&(o[e.ID]={});var l=o[e.ID],i=function(){var t=_()(I.a.mark((function t(e){var o,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.Address||e.Email,t.t0=!m.Zb.test(o)||a(o),t.t0){t.next=6;break}return t.next=5,n.isInvalid(o);case 5:t.t0=t.sent;case 6:return r=t.t0,t.abrupt("return",Wm(Wm({},e),{},{invalid:r}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=_()(I.a.mark((function t(e){var a,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e);case 2:return a=t.sent,t.next=5,r(e);case 5:return n=t.sent,t.abrupt("return",a.concat(n));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all(t.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e[t.Address||t.Email];return i(Hm(t,a))})))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Address,a=t.Email;l[e||a]=t})),e.forEach((function(t){delete l[t]}))};return{extendFromCache:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Address,a=t.Email,n=l[e||a];return n?Wm(Wm({},n),t):Wm(Wm({},t),{},{loadCryptInfo:!0})}))},sync:function(){var a=_()(I.a.mark((function a(){var n,o,r,s,l,i,p,m,f=arguments;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=f.length>0&&void 0!==f[0]?f[0]:[],o=n.map((function(t){var e=t.Address,a=t.Email;return e||a})),a.next=4,t.get(o,e,!0);case 4:return r=a.sent,s=zm()(o,Object.keys(r)),a.next=8,c(r);case 8:return l=a.sent,i=l.concat(s),p=n.filter((function(t){var e=t.Address,a=t.Email;return!i.includes(e||a)})),a.next=13,d(p,r);case 13:return m=a.sent,u(m,i),a.abrupt("return",{addressesToRemove:i,failedAddresses:s});case 16:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),clear:function(){return delete o[e.ID]}}}}Xm.$inject=["sendPreferences","autoPinPrimaryKeys","checkTypoEmails","keyCache"];var Jm=Xm;af.$inject=["dispatchers","$state","tools","mailSettingsModel","dynamicStates"];var Zm=function(t){return t.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"secured.".concat(t)}))},Qm=Zm(["allDrafts","drafts"]),tf=Zm(["allSent","sent"]),ef=[].concat(Qm,tf);function af(t,e,a,n,o){var r={},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(".element","")},l=t().on;return l("$stateChangeSuccess",(function(t,e,o){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(l.name&&m.sb[a.filteredState(l.name)]){var c=n.get(),d=c.ViewMode;r.state=s(l.name),r.params=i,r.mode=d}})),l("mailSettings",(function(t,e){"updated"===e.type&&ef.includes(r.state)&&(r.state=Qm.includes(r.state)?o.getDraftsState():tf.includes(r.state)?o.getSentState():"secured.inbox")})),{init:angular.noop,back:function(){var t=n.get().ViewMode;return r.state&&r.mode===t?e.go(r.state,r.params):e.includes("secured.**")?e.go("secured.inbox"):e.go("login")}}}var nf=af;function of(t){var e="color: #505061; font-size: 14px;",a="color: #505061; font-size: 14px; font-weight: bold;",n="color: #9397cd; font-size: 14px;";return function(){t.info("%cFind a %csecurity bug?%c security@protonmail.com",e,a,n),t.info("%cWe're %chiring! %chttps://careers.protonmail.com/",e,a,n)}}of.$inject=["$log"];var rf=of;var sf=function(){var t=["id","class","value","checked","name","disabled","required","placeholder"],e=function(t,e){return t.removeAttribute("data-custom-".concat(e))},a=function(a,n){var o=n.el,r=n.attr,s=void 0===r?{}:r,l=n.type,i=void 0===l?"":l,c=n.$label,d=new RegExp("custom".concat(Object(j.h)(i))),u=Object.keys(s).filter((function(t){var e=/custom[A-Z]/.test(t),a=d.test(t);return e&&!a})),p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.find((function(t){return"customId"===t}));if(e)return{for:e,id:e};var a="customInput".concat(Object(j.k)());return{for:a,id:a}}(u);return a.id=s[p.id]||p.id,c&&c.setAttribute("for",a.id),u.forEach((function(n){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.replace(/^custom/,"");return(e.charAt(0)+e.slice(1).replace(/([A-Z])/g,"-$1")).toLowerCase()}(n);if(/aria/.test(r)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.some((function(t){return t===e}))}(r)){var l;if("class"===r)return e(o[0],r),(l=a.classList).add.apply(l,ce()(s[n].split(" ")));a.setAttribute(r,s[n])}else a.setAttribute("data-".concat(r),s[n]);e(o[0],r),delete s[n]})),u};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.pre,o=e.post,r=void 0===o?ta.a:o,s=e.compile,l=void 0===s?ta.a:s;return function(e,o){var s=e[0].querySelector('input[type="'.concat(t,'"]')),i=e[0].querySelector(".customMaskInput-mask");return s&&a(s,{el:e,attr:o,type:t,$label:i}),l(e,o),n?{pre:n,post:r}:r}}},lf=a("0XPj"),cf=a.n(lf);var df=function(){return{create:function(t,e){return function(){var a=Object.keys(e.form[e.datePickerKey].$error),n=t in e.form?Object.keys(e.form[t].$error):[],o=qn()(cf()(a,n),(function(t){return"both_"+t})),r=qn()(zm()(a,n),(function(t){return"date_"+t})),s=qn()(zm()(n,a),(function(t){return"time_"+t}));return Te()(o.concat(s,r),(function(t,e){return t[e]=!0,t}),{})}}}},uf=function(){return{restrict:"E",replace:!0,templateUrl:a("2VAr")}};yf.$inject=["gettextCatalog","translator"];var pf=m.hc.LOADING_CRYPT_INFO,mf=m.hc.PGP_MIME,ff=m.hc.ENCRYPTION_ENABLED,gf=m.hc.SIGNING_ENABLED,vf=m.hc.PINNING_ENABLED,bf=m.hc.PGP_INLINE,hf=m.hc.PM_EO;function yf(t,e){var a=function(t){var e=t.loadCryptInfo,a=void 0!==e&&e,n=t.encrypt,o=void 0!==n&&n,r=t.sign,s=void 0!==r&&r,l=t.isPgpMime,i=void 0!==l&&l,c=t.isEO,d=void 0!==c&&c,u=t.isPgp,p=void 0!==u&&u,m=t.isPinned;return a*pf+o*ff+s*gf+(p&&i)*mf+(p&&!i)*bf+d*hf+(void 0!==m&&m&&!p)*vf},n=e((function(){return{LOADING_CRYPT_INFO:t.getString("Loading encryption info...",null,"Tooltip"),PGP_SIGN:t.getString("PGP-signed",null,"Tooltip"),PGP_ENCRYPT_SIGN:t.getString("PGP-encrypted",null,"Tooltip"),PINNED_ENCRYPT_SIGN:t.getString("End-to-end encrypted to verified recipient",null,"Tooltip"),PM_ENCRYPT_SIGN:t.getString("End-to-end encrypted",null,"Tooltip")}}));return{getTooltip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(a(t)){case mf|!ff|gf:return n.PGP_SIGN;case mf|ff|gf:return n.PGP_ENCRYPT_SIGN;case hf|ff:case hf|ff|vf:return n.PM_ENCRYPT_SIGN;case bf|!ff|gf:return n.PGP_SIGN;case bf|ff|gf:return n.PGP_ENCRYPT_SIGN;case vf|ff|gf:return n.PINNED_ENCRYPT_SIGN;case ff|gf:return n.PM_ENCRYPT_SIGN;default:return n.LOADING_CRYPT_INFO}}}}var wf=yf;function xf(t){return{getDraftsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"secured.";return t.draftsIncluded()?"".concat(e,"allDrafts"):"".concat(e,"drafts")},getSentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"secured.";return t.sentIncluded()?"".concat(e,"allSent"):"".concat(e,"sent")}}}xf.$inject=["mailSettingsModel"];var kf=xf;var Af=function(){return{scope:{},replace:!0,restrict:"E",templateUrl:a("ri1t")}};var Sf=function(){return{restrict:"E",replace:!0,controller:"HeaderController",templateUrl:a("HcFT")}};var Pf=function(){return{restrict:"E",replace:!0,controller:"HeaderController",templateUrl:a("eZQm")}};var Cf=function(){var t="arrowsToScroll-button";return{restrict:"A",compile:function(e){return e.append('\n                    <button class="'.concat(t,'" data-direction="left"></button>\n                    <button class="').concat(t,'" data-direction="right"></button>\n                ')),function(e,a){var n=a.find(".".concat("settingsDashboard-plans")),r=a.find(".".concat(t)),s=a.find('[data-direction="left"]'),l=a.find('[data-direction="right"]'),i=o()((function(){return r.prop("disabled",n.get(0).scrollWidth<=n.get(0).clientWidth)}),300),c=o()((function(){var t=n.scrollLeft(),e=n.get(0).scrollWidth-n.get(0).clientWidth;s.prop("disabled",!t),l.prop("disabled",t===e)}),300),d=function(e){if(e.target.classList.contains(t))switch(e.target.getAttribute("data-direction")){case"left":n.animate({scrollLeft:"-=350"});break;case"right":n.animate({scrollLeft:"+=350"})}};n.on("scroll",c),angular.element(window).on("resize",i),r.on("click",d),i(),c(),e.$on("$destroy",(function(){n.off("scroll",c),angular.element(window).off("resize",i),r.off("click",d)}))}}}};var Ef=function(){return{restrict:"E",replace:!0,templateUrl:a("JfhC")}};function Mf(t,e,n){return{restrict:"E",scope:{},replace:!0,templateUrl:a("Wssu"),link:function(a,o){var r=e(),s=r.on,l=r.unsubscribe,i=o[0].querySelector(".navigation-title"),c=function(){var e=n.isProductPayerPeriod()||n.isBlackFridayPeriod();if(i.textContent=Object(Uc.a)(n.isProductPayerPeriod()),o[0].classList[e?"add":"remove"]("navigationBlackFriday-is-black-friday"),e){var a=n.isBlackFridayPeriod();o[0].classList[a?"add":"remove"]("navigationBlackFriday--redDot"),n.getCloseState().then((function(e){e||t()}))}},d=setInterval(c,36e5);c(),s("subscription",(function(t,e){var a=e.type;"update"===(void 0===a?"":a)&&c()})),s("updateUser",c),s("blackFriday",(function(t,e){var a=e.type;"run"===(void 0===a?"":a)&&c()})),o.on("click",t),a.$on("$destroy",(function(){o.off("click",t),clearInterval(d),l()}))}}}Mf.$inject=["blackFridayModalOpener","dispatchers","blackFridayModel"];var Tf=Mf;var If=function(){return{replace:!0,templateUrl:a("+iZh")}};function Df(t,e,n){return{replace:!0,templateUrl:a("g+rB"),link:function(a){var o=t(),r=o.on,s=o.unsubscribe,l=function(){var t=n.user.Name,o=void 0===t?"":t,r=e.get(),s=M()(r,1)[0],l=(s=void 0===s?{}:s).DisplayName,i=void 0===l?"":l,c=s.Email,d=void 0===c?"":c;a.$applyAsync((function(){a.displayName=i||o,a.email=d}))};r("updateUser",l),l(),a.$on("$destroy",s)}}}Df.$inject=["dispatchers","addressesModel","authentication"];var _f=Df,Of=angular.module("proton.ui",[]).directive("mozInfo",Af).factory("dynamicStates",kf).run(["backState",function(t){return t.init()}]).factory("encryptionStatus",wf).factory("autocompleteEmailsModel",Yu).factory("pageTitlesModel",tp).factory("timepickerModel",ap).directive("appVersion",op).directive("atomLoader",sp).directive("autocompleteEmail",ip).directive("autocompleteEmails",pp).directive("autocompleteEmailsItem",vp).directive("emailEncryptionIcon",hp).directive("chooseLayoutBtns",wp).directive("currencySelector",kp).directive("customCheckbox",Sp).directive("customRadio",Cp).directive("customTheme",Mp).directive("dateTimePicker",Ip).directive("dropdown",_p).directive("headerSecured",Op).directive("legends",Lp).directive("loaderTag",Np).directive("monthdayTimePicker",Rp).directive("multiselect",Fp).directive("noResults",Vp).directive("numberElementSelected",Kp).directive("progressBar",Gp).directive("progressUpload",Hp).directive("progressionBtn",Wp).directive("protonLoader",Jp).directive("protonmailLogo",em).directive("protonSvgs",nm).directive("ptTooltip",rm).directive("readUnread",sm).directive("requestTimeout",im).directive("settingsMenu",dm).directive("slider",fm).directive("timePicker",vm).directive("title",hm).directive("toggle",wm).directive("toggleExpand",xm).directive("toolbarDesktop",Am).directive("toolbarMobile",Pm).directive("twitterLink",Em).directive("weekdayTimePicker",Tm).filter("labelAutocomplete",Om).filter("unescape",$m).factory("autocompleteBuilder",Um).factory("emailsEncryptionFlags",Jm).factory("backState",nf).factory("consoleMessage",rf).factory("customInputCreator",sf).factory("datetimeErrorCombiner",df).directive("headerNoAuth",uf).directive("headerSecuredDesktop",Sf).directive("headerSecuredMobile",Pf).directive("arrowsToScroll",Cf).directive("navigation",Ef).directive("navigationBlackFriday",Tf).directive("navigationReport",If).directive("navigationUser",_f).name;function Lf(t,e,n,o,r,s){var l=".humanVerification-completeSetup-create";return{replace:!0,scope:{model:"=",verificator:"="},templateUrl:a("OqGN"),link:function(t,e,a){var n=a.offerType,r=void 0===n?m.Wb.MAIL:n,i=s(["payments"]),c=i.on,d=i.unsubscribe,u=i.dispatcher,p=function(t,e){return u.payments(t,e)},f=e.find(l);t.model.confirmationType&&setTimeout((function(){t.$applyAsync((function(){t.verificator=t.model.confirmationType}))}),500),o.getOptionsVerification(r).then((function(e){var a=e.email,n=e.captcha,o=e.sms,r=e.payment;t.$applyAsync((function(){t.showEmail=a,t.showCaptcha=n,t.showSms=o,t.showPayment=r,t.verificator=function(t){return t.showCaptcha?"captcha":t.showEmail?"email":t.showSms?"sms":void 0}(t)}))}));var g=function(e){e.preventDefault(),t.$applyAsync((function(){t.model.confirmationType="",p("create.account")}))};c("payments",(function(t,e){var a=e.type,n=e.data,o=void 0===n?{}:n;"donate.submit"===a&&"humanVerification"===o.action&&p("create.account",o)})),c("humanVerification",(function(e,a){var n=a.type,o=a.data,r=void 0===o?{}:o;if("validate.submit.codeVerification"===n)return g({preventDefault:function(){}});"captcha"===n&&t.$applyAsync((function(){t.model.captcha_token=r.token}))})),f.on("click",g),t.$on("$destroy",(function(){f.off("click",g),d()}))}}}Lf.$inject=["AppModel","User","$state","signupModel","networkActivityTracker","dispatchers"];var Nf=Lf;function $f(t){var e={"create.user":"creation",loguserin:"loggedin","setup.account":"setupaccount","user.get":"userready","user.finish":"done"};return{replace:!0,scope:{},templateUrl:a("zAEO"),link:function(a){a.flow={};var n=t(),o=n.on,r=n.unsubscribe;o("signup",(function(t,n){var o=n.type,r=n.data;if(e[o])return a.$applyAsync((function(){return a.flow[e[o]]=r.value}));"signup.error"===o&&a.$applyAsync((function(){return a.signupError=r.value}))})),a.$on("$destroy",r)}}}$f.$inject=["dispatchers"];var Rf=$f;function jf(t){return{replace:!0,scope:{account:"="},templateUrl:a("k6kZ"),link:function(e,a){e.verificator="";var n=t(["signup"]).dispatcher,o=function(t){t.preventDefault(),e.$applyAsync((function(){"donation"!==e.verificator&&n.signup("humanform.submit",e.account)}))};a.on("submit",o),e.$on("$destroy",(function(){a.off("submit",o)}))}}}jf.$inject=["dispatchers"];var Ff=jf;function Uf(t,e){var a=e((function(){return{username:t.getString("Forgot username?",null,"Action"),forFree:t.getString("Sign up for free",null,"Action"),signup:t.getString("Create Account",null,"Action"),no:t.getString("No",null,"Action")}}));return{replace:!0,template:"<a></a>",link:function(e,n,o){var r=o.key,s=o.link,l=t.getCurrentLanguage().split(/[-_]/),i=M()(l,1)[0];n[0].textContent=a[r||s],n[0].href=function(t,e){return["https://protonmail.com",t,e].filter(Boolean).join("/")}("en"!==i&&i,s)}}}Uf.$inject=["gettextCatalog","translator"];var Vf=Uf;function zf(t,e){return{scope:{},replace:!0,restrict:"E",templateUrl:a("/0db"),link:function(a,n){var o=n.find(".addressesSelector-select"),r=e(["addressSelection"]),s=r.dispatcher,l=r.on,i=r.unsubscribe,c=function(t){var e=t.target;return s.addressSelection("change",{ID:e.value})},d=function(){var e,a=o[0].selectedIndex;o[0].innerHTML=(void 0===(e=t.getActive(void 0,{Send:1}).active)?[]:e).map((function(t){var e=t.ID,a=void 0===e?"":e,n=t.Email,o=void 0===n?"":n;return'<option class="addressesSelector-option" value="'.concat(a,'">').concat(o,"</option>")})),o[0].selectedIndex=Math.max(0,a)};d(),o.on("change",c),l("addressesModel",(function(t,e){var a=e.type;"addresses.updated"===(void 0===a?"":a)&&d()})),a.$on("$destroy",(function(){o.off("change",c),i()}))}}}zf.$inject=["addressesModel","dispatchers"];var Kf=zf;function Bf(t,e,n,o){return{scope:{},replace:!0,restrict:"E",templateUrl:a("Dx2r"),link:function(a){var r=n(),s=r.on,l=r.unsubscribe,i=function(){a.$applyAsync((function(){var t=e.getActive(void 0,{Send:1}),n=t.active,o=t.disabled;a.activeAddresses=n,a.disabledAddresses=o}))},c=function(){a.$applyAsync((function(){var t=o(),e=t.isAdmin,n=t.isFree;a.isAdmin=e,a.isFree=n}))};a.itemMoved=!1,a.getDomain=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Email,a=void 0===e?"":e,n=a.split("@"),o=M()(n,1),r=o[0];return r},a.aliasDragControlListeners={containment:".pm_form",accept:function(t,e){return t.itemScope.sortableScope.$id===e.$id},dragStart:function(){a.itemMoved=!0},dragEnd:function(){a.itemMoved=!1},orderChanged:function(){var e=a.activeAddresses.concat(a.disabledAddresses).map((function(t){return t.ID}));t.saveOrder(e)}},s("updateUser",(function(){a.itemMoved||i(),c()})),s("addressModel",(function(t,e){"generateKey.success"===e.type&&i()})),i(),c(),a.$on("$destroy",l)}}}Bf.$inject=["addressModel","addressesModel","dispatchers","userType"];var Gf=Bf;function qf(t,e,n){return{scope:{},replace:!0,restrict:"E",templateUrl:a("B6hA"),link:function(a){var o=e.get().PMSignature,r=t(),s=r.on,l=r.unsubscribe;s("changePMSignature",(function(t,e){var a=e.data.status;n.changeProtonStatus(a)})),a.protonSignature={content:m.Ub,isMandatory:2===e.get().PMSignature,isActive:!!o},a.$on("$destroy",l)}}}qf.$inject=["dispatchers","mailSettingsModel","signatureModel"];var Hf=qf;function Yf(t,e,n,o,r,s,l,i){var c=i((function(){return{SUCCESS_SAVE:n.getString("Name / Signature saved",null,"User's signature")}}));return{scope:{},replace:!0,restrict:"E",templateUrl:a("4WLl"),link:function(a,n){var i={},d=n.find('[name="identityForm"]'),u=l(),p=u.on,m=u.unsubscribe,f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ID,o=t.DisplayName,r=t.Signature;if(n){var l=!i.ID;i.ID=n;var c=s.replaceLineBreaks(r);if(!l){var d=e.find({ID:"signature"}),u=d.editor;return u.fireEvent("refresh",{action:"signature.update",data:c}),a.$applyAsync((function(){a.address={DisplayName:o,Signature:c}}))}a.address={DisplayName:o,Signature:c}}},g=function(){var e=t.getActive(void 0,{Send:1}).active,a=void 0===e?[]:e;i.addresses=a.slice(),n[0].classList[i.addresses.length>1?"add":"remove"]("identitySection-has-multiple-address")},v=function(){var t=_()(I.a.mark((function t(){var e,n,s,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.address,n=e.DisplayName,s=e.Signature,l={ID:i.ID,DisplayName:n,Signature:s},t.next=4,r.save(l);case 4:o.success(c.SUCCESS_SAVE),f(l);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();d.on("submit",v),p("addressSelection",(function(t,e){var a=e.type,n=void 0===a?"":a,o=e.data,r=void 0===o?{}:o;"change"===n&&f(Ca()(i.addresses,{ID:r.ID}))})),p("addressesModel",(function(t,e){var a=e.type;"addresses.updated"===(void 0===a?"":a)&&g()})),g(),f(i.addresses[0],!0),a.$on("$destroy",(function(){d.off("submit",v),m()}))}}}Yf.$inject=["addressesModel","editorModel","gettextCatalog","notification","signatureModel","tools","dispatchers","translator"];var Wf=Yf;Qf.$inject=["paymentUtils","dispatchers","cardModel","notification","gettextCatalog","$filter","translator"];var Xf=m.H.MONTHLY,Jf=m.H.YEARLY,Zf=m.H.TWO_YEARS;function Qf(t,e,n,o,r,s,l){var i=l((function(){var t;return{MONTH:r.getString("month",null,"Info"),BILLING:(t={},x()(t,Jf,r.getString("Annually",null,"Info")),x()(t,Xf,r.getString("Monthly",null,"Info")),x()(t,Zf,r.getString("Every 2 years",null,"Info")),t),thanks:function(t){return(t||{}).Code===m.j.COUPON_CODE?"Thank you for choosing ProtonMail. <br>The ".concat(Object(Uc.a)()," discount has been automatically applied."):r.getString("Thank you for your support!",null,"Title")}}})),c={has:"signupPayForm-has-couponCode"},d={has:"signupPayForm-has-giftCode",show:"signupPayForm-show-gift",applied:"signupPayForm-gift-applied"},u={hidden:"signupPayForm-method-hidden",paypal:"signupPayForm-method-paypal",error:"signupPayForm-error"},p=function(t,e,a,n){var o,r=e.Coupon,s=e.Gift,l=e.AmountDue,i=(o={},x()(o,c.has,!!r),x()(o,d.has,!!s),x()(o,u.hidden,0===l),x()(o,u.paypal,"paypal"===a.value),x()(o,u.error,!!n),o);Object.keys(i).forEach((function(e){t[0].classList[i[e]?"add":"remove"](e)}))},f=function(t,e){return s("currency")(t/100,e)},g=function(t){var e=t.Cycle,a=t.AmountDue,n=t.Currency,o=f(a,n);if(e===Xf||0===a)return o;var r=f(a/e,n);return"".concat(o," (").concat(r," / ").concat(i.MONTH,")")},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{name:e.map((function(t){return t.Title})).join(" + "),price:g(t),gift:f(t.Gift,t.Currency),billing:i.BILLING[t.Cycle]}};return{replace:!0,scope:{plans:"<",payment:"<",account:"<"},templateUrl:a("V03A"),link:function(a,o){var r=e(["signup"]),s=r.on,l=r.unsubscribe,c=r.dispatcher,u=function(t,e){return c.signup(t,e)},m=o.find(".signupPayForm-btn-apply"),f=t.generateMethods({Cycle:a.payment.Cycle,Amount:a.payment.AmountDue,CouponCode:a.payment.Coupon&&a.payment.Coupon.Code}),g=f.list,b=f.selected;a.methods=g,a.method=b,o.find(".signupPayForm-thanks").html(i.thanks(a.payment.Coupon));var h=function(t){u("payform.submit",function(t,e,a){var n=t.AmountDue,o=t.Currency,r=t.Amount,s=t.CouponDiscount;return a?{Amount:n,Currency:o,Credit:r+s,GiftCode:a,Payment:e}:{Amount:n,Currency:o,Payment:e}}(a.payment,t,a.giftCode))};a.onPaymentMethodChange=function(){p(o,a.payment,a.method,a.errorPay)},a.onPaypalSuccess=function(t){h({Type:"token",Details:t})};s("signup",(function(t,e){var n=e.type,r=void 0===n?"":n,s=e.data;"payment.verify.error"===r&&a.$applyAsync((function(){a.errorPay=!0,p(o,a.payment,a.method,a.errorPay)})),"displayGiftSignup"===r&&o[0].classList.add(d.show),"gift.applied"===r&&(o[0].classList.add(d.applied),a.$applyAsync((function(){var t;0===s.AmountDue&&(a.method.value="card"),a.plan=v(s,a.plans),p(o,s,a.method,a.errorPay),"paypal"===(t=a.method.value)&&(a.method.value="",_rAF((function(){a.$applyAsync((function(){return a.method.value=t}))})))})))}));var y=function(t){t.preventDefault(),t.stopPropagation(),a.$applyAsync((function(){a.errorPay=!1,p(o,a.payment,a.method,a.errorPay);var t=n(a.account.card);h({Type:"card",Details:t.details()})}))},w=function(){return a.$applyAsync((function(){a.errorPay=!0,p(o,a.payment,a.method,a.errorPay)}))},x=function(){a.$applyAsync((function(){u("giftcode.submit",a.giftCode||"")}))};p(o,a.payment,a.method,a.errorPay),a.plan=v(a.payment,a.plans),o.on("reset",w),o.on("submit",y),m.on("click",x),a.$on("$destroy",(function(){o.off("reset",w),o.off("submit",y),m.off("click",x),l()}))}}}var tg=Qf,eg=function(t){return{replace:!0,restrict:"A",link:function(e,a,n){var o=n.signupStepLink,r=void 0===o?1:o,s=t(["signup"]).dispatcher,l=function(t){t.preventDefault(),t.stopPropagation(),s.signup("goto.step",{value:+r})};a.on("click",l),e.$on("$destroy",(function(){a.off("click",l)}))}}};eg.$inject=["dispatchers"];var ag=eg;function ng(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function og(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ng(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ng(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function rg(t,e,n,o,r,s){var l=o((function(){return{TITLE:n.getString("Warning",null,"Title"),MESSAGE:n.getString("Warning: You did not set a recovery email so account recovery is impossible if you forget your password. Proceed without recovery email?",null,"Warning"),ERROR_NO_USERNAME:n.getString("Invalid username",null,"Error")}}));function i(){return(i=_()(I.a.mark((function t(e){var a,n,o,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.login,n=void 0===a?{}:a,o=e.username,navigator.credentials){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,r=new window.PasswordCredential({id:o,password:n.password}),t.next=7,navigator.credentials.store(r);case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),console.log("--- debug ---"),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,9]])})))).apply(this,arguments)}return{replace:!0,scope:{domains:"=",account:"="},templateUrl:a("ac53"),link:function(a,n){var o,c=e(["signup"]),d=c.dispatcher,u=c.on,p=c.unsubscribe,m=n[0].querySelector('input[name="username"]'),f=function(t,e){return m.value=t.username,function(){var n=og(og(og({},a.account),t),{},{domain:{label:t.domain,value:t.domain},payload:e});!function(t){i.apply(this,arguments)}(n),d.signup("userform.submit",n)}};u("signup",(function(e,r){var i=r.type,c=r.data;"iframe.message"===i&&(o=c),"iframe.message.valid"===i&&c.success&&a.$applyAsync((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.user,r=void 0===o?{}:o,i=e.data;if(!r.username)return s.error(l.ERROR_NO_USERNAME);if(a.accountForm.$setSubmitted(),!a.accountForm.$valid)return n[0].querySelector(".ng-invalid").focus();var c=f(r,i);if(r.notificationEmail)return c();t.activate({params:{title:l.TITLE,message:l.MESSAGE,confirm:function(){c(),t.deactivate()},cancel:function(){t.deactivate(),n.find("#notificationEmail").focus()}}})}(o)}))}));var g=r("signupUserForm"),v=g.listen();n.on("submit",g.triggerSubmit),a.$on("$destroy",(function(){p(),v(),n.off("submit",g.triggerSubmit)}))}}}rg.$inject=["confirmModal","dispatchers","gettextCatalog","translator","iframeVerifWizard","notification"];var sg=rg;function lg(t){return{scope:{},replace:!0,restrict:"E",templateUrl:a("2U6m"),link:function(e,a){var n=a[0].querySelector(".link"),o=function(e){e.preventDefault(),t.showModal()};n.addEventListener("click",o),e.$on("$destroy",(function(){n.removeEventListener("click",o)}))}}}lg.$inject=["storageWarning"];var ig=lg;var cg=function(){return{replace:!0,scope:{form:"=",model:"=",domains:"="},templateUrl:a("JrvE")}};var dg=function(){return{replace:!0,scope:{form:"=",model:"="},templateUrl:a("5r2/")}};var ug=function(){return{scope:{model:"="},replace:!0,restrict:"E",templateUrl:a("m20B")}};function pg(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function mg(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?pg(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pg(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function fg(t,e,a,n,o,r,s,l){var i={QUEUED:0,GENERATING:1,DONE:2,SAVED:3,ERROR:4},c=l((function(){return{TITLE:o.getString("Similar Key Already Active!",null,"Title"),WARNING:o.getString("A key with the same encryption algorithm is already active for this address.\nGenerating another key will cause slower account loading and deletion of this key can cause issues.\nIf you are generating a new key because your old key is compromised, please mark that key as compromised.\nAre you sure you want to continue?",null,"Message")}})),d=function(t,e){return t.state=i.SAVED,t.Keys=t.Keys||[],t.Keys.push(e),t},u=function(){var t=_()(I.a.mark((function t(e){var n,o,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.getByID(e.ID,a.user,!0)||{},o=n.Keys,s=void 0===o?[]:o,t.next=3,Object(ol.a)(s,"PublicKey");case 3:return t.abrupt("return",t.sent.reduce((function(t,e){var a=e.keys;return e.Flags!==m.lb.DISABLED&&t.push(a[0].getAlgorithmInfo()),t}),[]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.some((function(t){var a=t.algorithm,n=t.curve,o=t.bits;return Object(nu.b)(a)?n===e.curve:!!Object(nu.c)(a)&&o===e.numBits}))};return{generate:function(){var a=_()(I.a.mark((function a(o){var r,l,f,g,v,b,h,y,w,x,k,A,S,P,C,E,M,T;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=o.encryptionConfigName,l=void 0===r?m.K:r,f=o.passphrase,g=o.organizationKey,v=o.memberMap,b=void 0===v?{}:v,h=o.address,y=o.primary,w=void 0===y||y,a.next=3,u(h);case 3:if(x=a.sent,k=m.S[l],!p(x,k)){a.next=14;break}return a.prev=6,a.next=9,new Promise((function(t,e){n.activate({params:{icon:"fa fa-exclamation-triangle",isDanger:!0,title:c.TITLE,message:c.WARNING,class:"very-important",confirm:function(){n.deactivate(),t()},cancel:function(){n.deactivate(),e()}}})}));case 9:a.next=14;break;case 11:return a.prev=11,a.t0=a.catch(6),a.abrupt("return",null);case 14:return a.prev=14,h.state=i.GENERATING,a.next=18,Object(Os.c)(mg({userIds:[{name:h.Email,email:h.Email}],passphrase:f},k));case 18:if(A=a.sent,S=A.privateKeyArmored,h.state=i.DONE,!(P=b[h.ID]||{}).ID){a.next=30;break}return a.next=25,e.generateAddresses([h],"temp",l);case 25:return C=a.sent,a.next=28,e.memberKey("temp",C[0],P,g);case 28:return E=a.sent,a.abrupt("return",d(h,E));case 30:return a.t1=t,a.t2=h.ID,a.t3=S,a.t4=w,a.t5=s,a.t6=h.ID,a.next=38,Object(R.a)(S,f);case 38:return a.t7=a.sent,a.t8=S,a.t9={mode:"create",decryptedPrivateKey:a.t7,encryptedPrivateKey:a.t8},a.next=43,a.t5.signedKeyList.call(a.t5,a.t6,a.t9);case 43:return a.t10=a.sent,a.t11={AddressID:a.t2,PrivateKey:a.t3,Primary:a.t4,SignedKeyList:a.t10},a.next=47,a.t1.create.call(a.t1,a.t11);case 47:return M=a.sent,T=M.data,a.abrupt("return",d(h,T.Key));case 52:throw a.prev=52,a.t12=a.catch(14),h.state=i.ERROR,a.t12;case 56:case"end":return a.stop()}}),a,null,[[6,11],[14,52]])})));return function(t){return a.apply(this,arguments)}}(),getStates:function(){return i}}}fg.$inject=["Key","setupKeys","authentication","confirmModal","gettextCatalog","addressesModel","keysModel","translator"];var gg=fg;function vg(t,e,a,n,o,r,s,l,i){var c=i((function(){return{SUCCESS_UPDATE:s.getString("Signature updated",null,"Info")}})),d=function(){var t=_()(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=+!!e,t.next=3,n.updatePMSignature({PMSignature:a});case 3:return t.next=5,o.call();case 5:return t.abrupt("return",r.success(c.SUCCESS_UPDATE));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(t){return"<div><br /></div>"===t?"":t?a.message(t.replace(/\n/g,"<br />")):t},p=function(){var t=_()(I.a.mark((function t(n,r,s){var l,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=r?a.input(r):r,i=u(s),t.next=4,e.edit(n,{DisplayName:l,Signature:i});case 4:return t.abrupt("return",o.call());case 5:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}();return{save:function(e){var a,n=e.ID,o=void 0===n?(a=t.get(),M()(a,1)[0].ID):n,r=e.DisplayName,s=e.Signature;return l.track(p(o,r,s))},changeProtonStatus:function(t){return l.track(d(t))}}}vg.$inject=["addressesModel","Address","sanitize","settingsMailApi","eventManager","notification","gettextCatalog","networkActivityTracker","translator"];var bg=vg;function hg(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function yg(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?hg(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):hg(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}xg.$inject=["Address","authentication","dispatchers"];var wg=m.b.PREMIUM;function xg(t,e,a){var n=a(["addressesModel","prepareDraft"]),o=n.dispatcher,r=n.on,s={},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return De()(t,"Order")},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.user,n=l(t);return Object(ol.d)(n).then((function(t){s[a.ID]=t,o.addressesModel("addresses.updated",{addresses:t})}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.user;return s[t.ID]?s[t.ID]:[]},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.user,a=c(t),n=M()(a,1),o=n[0];return o||{}};return r("logout",(function(){return s={}})),{fetch:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.user;return t.query().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.slice();return i(e,a),e}))},get:function(){return c()},getFirst:d,getByUser:c,getByEmail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.user,n=Object(j.f)(t),o=s[a.ID]||[];return o.find((function(t){var e=t.Email;return Object(j.f)(e)===n}))},getByID:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.user,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!s[a.ID])return{};var o=Ca()(s[a.ID],{ID:t});return o||(n?void 0:d(a))},getActive:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.user,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s[t.ID],o=ro()(n,yg({Status:1,Receive:1},a)),r=zm()(n,o);return{active:o,disabled:r}},set:i,update:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=Object(yr.a)(s[e.user.ID],t,"Address"),n=a.collection;return i(n,e.user)},hasPmMe:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.user;return Ca()(s[t.ID],{Type:wg})}}}var kg=xg,Ag=a("MDsB");function Sg(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Pg(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Sg(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Sg(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}Eg.$inject=["gettextCatalog","dispatchers","authentication","$state","confirmModal","AppModel","translator"];var Cg={isModalOpen:!1,percentage:0,isLimitReached:!1};function Eg(t,e,a,n,o,r,s){var l=s((function(){return{LEARN_MORE:t.getString("Learn more",null,"Link"),warningMessage:function(e){return t.getString("\n                You have reached {{ percentage }}% of your storage capacity. Consider freeing up some space\n                or purchasing more storage before you run out of capacity.\n                ",{percentage:e},"Storage warning")},reachedMessage:function(){return t.getString("\n                You have reached 100% of your storage capacity. You won't be able to send or receive emails\n                unless you permanently delete some emails or purchase more storage. {{learnMoreLink}}.\n                ",{learnMoreLink:'<a href="'.concat(m.nb.STORAGE_WARNING,'" target="_blank">').concat(this.LEARN_MORE,"</a>")},"Storage warning")},DASHBOARD:t.getString("Go to dashboard",null,"Action"),OK:t.getString("Ok",null,"Action"),DO_NOT_REMIND:t.getString("Do not remind me",null,"Action"),WARNING:t.getString("Warning",null,"Title")}})),i=e().on,c=Pg({},Cg),d=function(t){c.isModalOpen||o.activate({params:Pg(Pg({},t),{},{confirm:function(){o.deactivate(),c.isModalOpen=!1,t.confirm&&t.confirm()},cancel:function(){o.deactivate(),t.cancel&&t.cancel.apply(t,arguments),c.isModalOpen=!1}})})},u=function(){var t=a.user,e=t.UsedSpace,n=t.MaxSpace;if(n){var o=Math.ceil(e/n*100);return c.percentage=Math.min(100,Math.max(o,0)),c.isLimitReached=c.percentage>=m.nc.REACHED_LIMIT,r.set("storageLimitReached",c.isLimitReached),c.percentage>=m.nc.WARNING_LIMIT?function(t){if(Object(Ag.a)(m.nc.KEY)!==m.nc.VALUE)return d({icon:"fa fa-exclamation-triangle",title:l.WARNING,message:l.warningMessage(t),confirmText:l.OK,cancelText:l.DO_NOT_REMIND,cancel:function(t){"btn"===t&&Object(Ag.b)(m.nc.KEY,m.nc.VALUE)}})}(c.percentage):void 0}};return i("logout",(function(){c=Pg({},Cg),r.set("storageLimitReached",c.isLimitReached)})),i("setUser",u),i("updateUser",u),i("app.event",(function(t,e){return"usedSpace"===e.type&&u()})),u(),{isLimitReached:function(){return c.isLimitReached},showModal:function(){d({icon:"fa fa-exclamation-triangle",title:l.WARNING,message:l.reachedMessage(),cancelText:l.DASHBOARD,confirmText:l.OK,cancel:function(t){"btn"===t&&n.go("secured.dashboard")}})}}}var Mg=Eg;function Tg(t,e,n,o,r,s,l,i,c,d,u,p){var f=d((function(){return{selectReason:l.getString("Select a reason",null,"Reason to delete account"),differentAccount:l.getString("I use a different Proton account",null,"Reason to delete account"),tooExpensive:l.getString("It's too expensive",null,"Reason to delete account"),missingKeyFeature:l.getString("It's missing a key feature that I need",null,"Reason to delete account"),foundAnotherService:l.getString("I found another service that I like better",null,"Reason to delete account"),notListed:l.getString("My reason isn't listed",null,"Reason to delete account")}}));return t({controllerAs:"ctrl",templateUrl:a("tBM4"),controller:["params",function(t){var a=this;this.hasTwoFactor=i.get("TwoFactor"),this.isAdmin=c().isAdmin,this.isFree=c().isFree,this.cancel=t.close,this.check=!1,this.email="",this.feedback="",this.password="",this.twoFactorCode="",this.reasons=[{label:f.selectReason,value:"",disabled:!0},{label:f.differentAccount,value:m.a.DIFFERENT_ACCOUNT},{label:f.tooExpensive,value:m.a.TOO_EXPENSIVE},{label:f.missingKeyFeature,value:m.a.MISSING_FEATURE},{label:f.foundAnotherService,value:m.a.USE_OTHER_SERVICE},{label:f.notListed,value:m.a.OTHER}].filter(Boolean),this.reason=this.reasons[0],this.isSubmitDisabled=function(){return!(a.check&&a.reason.value&&a.password)||!(!a.hasTwoFactor||a.twoFactorCode)},this.submit=function(){var t=r.user.Name,i={OS:"--",OSVersion:"--",Browser:"--",BrowserVersion:"--",BrowserExtensions:"--",Client:"--",ClientVersion:"--",ClientType:m.p,Title:"[DELETION FEEDBACK] ".concat(t),Username:t,Email:a.email||"noemail@example.com",Description:a.feedback},c=function(){var t=_()(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.stop(),t.next=4,n.password({Password:a.password,TwoFactorCode:a.twoFactorCode});case 4:return t.next=6,n.canDelete();case 6:if(!a.isAdmin){t.next=9;break}return t.next=9,e.bug(i);case 9:return t.next=11,n.delete({Reason:a.reason.value,Email:a.email,Feedback:a.feedback});case 11:return p.success(l.getString("Account deleted. Logging out...",null,"Info")),t.next=14,Object(Ft.c)(2500);case 14:r.logout(!1,!1),s.go("login"),t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(0),u.start(),t.t0;case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}();o.track(c())}}]})}Tg.$inject=["pmModal","Report","User","networkActivityTracker","authentication","$state","gettextCatalog","userSettingsModel","userType","translator","eventManager","notification"];var Ig=Tg;function Dg(t){return t({controllerAs:"ctrl",templateUrl:a("Z5do"),controller:["params",function(t){this.close=t.close}]})}Dg.$inject=["pmModal"];var _g=Dg;function Og(t,e,n,o,r,s,l,i,c){var d=r.getStates(),u=c((function(){return{success:function(t){return s.getString("Key created for {{email}}",{email:t},"Generate key modal")},title:s.getString("Setting up your Addresses",null,"Title"),message:s.getString("Before you can start sending and receiving emails from your new addresses you need to create encryption keys for them.",null,"Info")}}));return e({controllerAs:"ctrl",templateUrl:a("085u"),controller:["params",function(e){var a=this,s=t(),c=s.on,p=s.unsubscribe;this.encryptionConfigName=m.K,this.process=!1,this.title=e.title||u.title,this.message=e.message||u.message,this.class=e.class||"",this.import=e.import,this.primary=e.primary,this.askPassword=!1,this.password=e.password,this.cancel=function(){return e.close()},this.addresses=qn()(e.addresses,(function(t){return t.state=d.QUEUED,t})),c("updateUser",(function(){!l.fromUser().length&&a.cancel()})),this.submit=function(){a.process=!0;var t=Promise.all(qn()(a.addresses,(function(t){return r.generate({address:t,encryptionConfigName:a.encryptionConfigName,passphrase:a.password,organizationKey:e.organizationKey,memberMap:e.memberMap,primary:a.primary})}))).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter((function(t){return t}))})).then((function(t){return t.length?i.call().then((function(){return t})):t})).then((function(t){return t.forEach((function(t){var e=t.Email;return o.success(u.success(e))}))})).then(e.onSuccess).catch((function(t){throw e.close(a.addresses,a.password),t}));n.track(t)},this.$onDestroy=function(){p()}}]})}Og.$inject=["dispatchers","pmModal","networkActivityTracker","notification","generateKeyModel","gettextCatalog","addressWithoutKeys","eventManager","translator"];var Lg=Og;function Ng(t){var e=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=a.Currency,o=a.Cycle,r=a.Coupon,s=r||{},l=s.Code;return t.subscribe({Amount:0,Currency:n,Cycle:o,CouponCode:l,PlanIDs:e})}},a=function(){var e=_()(I.a.mark((function e(){var a,n=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.length>0&&void 0!==n[0]?n[0]:{},!["token"].includes(a.Type)){e.next=3;break}return e.abrupt("return",t.updateMethod(a,{noNotify:!0}).catch((function(){})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(t){var n=t.planIds,o=t.payment,r=t.method;return Promise.all([e(n,o),a(r)])}}Ng.$inject=["Payment"];var $g=Ng;function Rg(t,e,a,n,o){var r=o((function(){return{ERROR_MEMBER:e.getString("Account access restricted due to unpaid invoices. Please contact your administrator.",null,"Error"),ERROR_ADMIN:e.getString("Your account currently has an overdue invoice. Please pay all unpaid invoices.",null,"Error")}})),s=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.ERROR_ADMIN;return n.user.Keys.length?t.go(e).then((function(){a.error(o)})):t.go("login.setup")},l=function(){var t=n.user.Delinquent;return(void 0===t?0:t)>=m.qc.DELINQUENT},i=function(){var t=_()(I.a.mark((function t(){var e,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.user.Role,a=void 0===e?m.Ob:e,l()){t.next=4;break}return t.abrupt("return");case 4:if(a!==m.Ob){t.next=6;break}return t.abrupt("return",s("login",r.ERROR_MEMBER));case 6:return t.abrupt("return",s("secured.payments"));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{getIsDelinquent:l,testAndRedirect:i}}Rg.$inject=["$state","gettextCatalog","notification","authentication","translator"];var jg=Rg;function Fg(t,e,a,n,o,r,s,l,i,c,d){var u=r(["organizationChange","updateUser"]),p=u.dispatcher,f=u.on,g=d((function(){return{REVOKE_ADMIN_RELOAD:s.getString("Your admin privileges have been revoked.",null,"Info"),REVOKE_ADMIN_RELOAD_INFO:s.getString("The app will now be reloaded in a few seconds",null,"Info")}})),v={},b=function(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=a.reduce((function(t,e){var a=e.address;return a.ID===m.tb||t.map[a.ID]||(t.map[a.ID]=!0,t.list.push(a)),t}),{map:Object.create(null),list:[]}),r=o.list,s=r.concat(n),l=s.length;l--;){var i=s[l],c=e.getByID(i.ID,t,!0);angular.isUndefined(c)&&s.splice(l,1)}return e.set(s,t,!0)},h=function(){var t=_()(I.a.mark((function t(){var e,a,n,r=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},a=r.length>1?r[1]:void 0,n=r.length>2?r[2]:void 0,fe()(Object.keys(e),(function(t){o.user[t]=e[t]})),t.next=6,b(e,a,n);case 6:p.updateUser();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(t,e,o){return n.manage(t,qn()(e,"Member"),!0).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length)return!0}),(function(){return a.storeKeys(o)}))},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Role;if(angular.isUndefined(v.previousRole)&&(v.previousRole=o.user.Role),e===m.ab&&p.organizationChange("update",{data:{PlanName:"free",HasKeys:0}}),angular.isDefined(e)&&v.previousRole===m.Nb&&e!==m.Nb)return v.previousRole=e,_rAF((function(){return l.info("".concat(g.REVOKE_ADMIN_RELOAD,"<br>").concat(g.REVOKE_ADMIN_RELOAD_INFO))})),ql()((function(){return window.location.reload()}),5e3),!0;angular.isDefined(e)&&(v.previousRole=e)};function x(){return(x=_()(I.a.mark((function n(){var r,s,l,d,u,p,m,f,g,v,b,x,k,A,S,P=arguments;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=P.length>0&&void 0!==P[0]?P[0]:{},s=r.User,l=void 0===s?{}:s,d=r.Addresses,u=void 0===d?[]:d,p=r.Members,m=void 0===p?[]:p,Object.keys(l).length||u.length){n.next=3;break}return n.abrupt("return");case 3:if(delete l.Addresses,delete l.MailSettings,!w(l)){n.next=7;break}return n.abrupt("return");case 7:if(n.prev=7,f=o.getPassword(),g=o.user.subuser,!(v=l.OrganizationPrivateKey||o.user.OrganizationPrivateKey)){n.next=17;break}return n.next=14,Object(R.a)(v,f);case 14:n.t0=n.sent,n.next=18;break;case 17:n.t0=void 0;case 18:return b=n.t0,x=e.get(),n.next=22,i({user:l,addresses:x,organizationKey:b,mailboxPassword:f,isSubUser:g});case 22:return k=n.sent,A=k.dirtyAddresses,S=k.keys,n.next=27,y(l,m,S);case 27:if(!n.sent){n.next=29;break}return n.abrupt("return");case 29:if(u.length&&a.clearAddressKeys(),a.storeKeys(S),g){n.next=34;break}return n.next=34,c(x,f);case 34:h(l,S,A),n.next=40;break;case 37:n.prev=37,n.t1=n.catch(7),n.t1&&t(n.t1);case 40:case"end":return n.stop()}}),n,null,[[7,37]])})))).apply(this,arguments)}return f("logout",(function(){delete v.previousRole})),function(){return x.apply(this,arguments)}}Fg.$inject=["$exceptionHandler","addressesModel","keysModel","addressWithoutKeysManager","authentication","dispatchers","gettextCatalog","notification","decryptKeys","activateKeys","translator"];var Ug=Fg,Vg=a("7GkX"),zg=a.n(Vg);function Kg(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Bg(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Kg(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Kg(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Gg(t,e,a,n,o,r,s,l){var i={},c=o(["signup"]).dispatcher,d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.signup(t,e)},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"model",a=angular.copy(i[e]);return t?(a||{})[t]:a},p=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"model";return i[a][t]=angular.copy(e)},f=function(){return u().login.password};return{all:function(){return i},get:u,set:p,store:function(t){return i.model=angular.copy(t)},clear:function(){zg()(i).forEach((function(t){delete i[t]}))},getEmail:function(){var t=u();return"".concat(t.username,"@").concat(t.domain.value)},getDomain:function(){return u("domain").value||""},getPassword:f,getOptionsVerification:function(n){return i.humanCheck?Promise.resolve(i.humanCheck):a.inviteToken?Promise.resolve({invitation:!0}):t.direct(n).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return 1===a.Direct?i.humanCheck={email:Zu()(a.VerifyMethods,"email"),captcha:Zu()(a.VerifyMethods,"captcha"),sms:Zu()(a.VerifyMethods,"sms"),payment:Zu()(a.VerifyMethods,"payment")}:(window.location.href=m.eb,a)})).catch((function(t){throw e.go("login"),t}))},optionsHumanCheck:function(t){return u(t,"humanCheck")},createUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={Username:u("username"),Email:u("notificationEmail"),Type:m.Wb.MAIL,Referrer:n.search().ref,Payload:u("payload")};return a.inviteToken?(o.Token=a.inviteSelector+":"+a.inviteToken,o.TokenType="invite"):angular.isDefined(e.captcha_token)&&!1!==e.captcha_token?(o.Token=e.captcha_token,o.TokenType="captcha"):u("VerifyCode")?(o.Token=u("VerifyCode"),o.TokenType="payment"):u("smsVerificationSent")?(o.Token=e.smsCodeVerification,o.TokenType="sms"):u("emailVerificationSent")&&(o.Token=e.emailCodeVerification,o.TokenType="email"),t.create(o,f())},verify:function(t){var e=mc({params:t,paymentApi:r,paymentVerificationModal:l}).then((function(e){return r.verify(Bg(Bg({},e),{},{Username:u("username")})).then((function(a){var n=a.VerifyCode;p("VerifyCode",n),["card","paypal","token"].includes(t.Payment.Type)&&p("temp.method",e.Payment)}))})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;if(a.Error)throw d("payment.verify.error",{error:a.Error}),new Error(a.Error);throw t}));return s.track(e),e}}}Gg.$inject=["User","$state","$stateParams","$location","dispatchers","Payment","networkActivityTracker","paymentVerificationModal"];var qg=Gg;function Hg(t){return function(){var e=t().isPaid,a=new Date,n=new Date(a.getFullYear(),11,31,23,59,59),o=".".concat(Object(be.e)());e&&"1"!==Object(be.b)("is-paid-user")&&Object(be.u)({cookieName:"is-paid-user",cookieValue:"1",cookieDomain:o,expirationDate:n.toUTCString(),path:"/"})}}Hg.$inject=["userType"];var Yg=Hg;function Wg(t,e,a,n,o,r,s,l,i,c,d,u,p,f){var g={},v=a(["signup"]).dispatcher,b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v.signup(t,e)};function h(t){return y.apply(this,arguments)}function y(){return(y=_()(I.a.mark((function t(e){var a,n,o,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b("create.user",{value:!0}),t.prev=1,t.next=4,r.createUser(e);case 4:return a=t.sent,n=a.data,t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(1),o=t.t0.data,s=void 0===o?{}:o,[st.a.USER_CREATE_TOKEN_INVALID,st.a.ALREADY_EXISTS].includes(s.Code)&&(b("creating",{value:!1}),b("chech.humanity",{value:!0}),s.Code===st.a.ALREADY_EXISTS&&c.error(s.Error)),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}function w(){if(t.search().language)return o.updateLocale({Locale:n.getCurrentLanguage()})}function x(){return k.apply(this,arguments)}function k(){return(k=_()(I.a.mark((function t(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b("loguserin",{value:!0}),e={username:r.get("username"),password:r.getPassword()},t.next=4,s.loginWithCookies(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return S.apply(this,arguments)}function S(){return(S=_()(I.a.mark((function t(){var e,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b("setup.account",{value:!0}),t.next=3,d.setup({Domain:r.getDomain()});case 3:return e=t.sent,a=e.data,g.setupPayload.keys[0].AddressID=a.Address.ID,t.next=8,f.setup(g.setupPayload,r.getPassword());case 8:s.setPassword(g.setupPayload.mailboxPassword);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){return C.apply(this,arguments)}function C(){return(C=_()(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b("user.get",{value:!0}),t.next=3,i.app();case 3:return t.abrupt("return",s.fetchUserInfo());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var E=function(){var t=_()(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l({planIds:r.get("temp.planIds"),payment:r.get("temp.payment"),method:r.get("temp.method")}).catch((function(t){return console.error(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=_()(I.a.mark((function t(e){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:return t.next=4,x();case 4:return t.next=6,A();case 6:return t.next=8,E();case 8:return t.next=10,w();case 10:return t.next=12,P();case 12:return r.clear(),t.abrupt("return",(b("user.finish",{value:!0}),delete g.setupPayload,s.user.Delinquent<m.qc.DELINQUENT?p.go("secured.inbox",{welcome:m.zc}):p.go("secured.dashboard")));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{createAccount:function(t){b("signup.error",{value:!1}),M(t).catch((function(){b("signup.error",{value:!0})}))},generateNewKeys:function(){return b("generate.newkeys",{value:!0}),f.generate([{ID:0,Email:r.getEmail()}],r.getPassword()).then((function(t){return g.setupPayload=t}))}}}Wg.$inject=["$location","AppModel","dispatchers","gettextCatalog","settingsApi","signupModel","authentication","attachSignupSubscription","lazyLoader","notification","Address","authApi","$state","setupKeys"];var Xg=Wg;Qg.$inject=["authentication"];var Jg=function(t){return!(1&t.user.Subscribed)},Zg=function(t){var e=t.user;return!Jg({user:e})&&e.Role===m.Ob};function Qg(t){return function(){return{isAdmin:(o=t,r=o.user,!Jg({user:r})&&r.Role===m.Nb),isMember:Zg(t),isFree:Jg(t),isPaid:(n=t,1&n.user.Subscribed),isSub:(a=t,void 0!==a.user.OrganizationPrivateKey),isDelinquent:(e=t,!!e.user.Delinquent)};var e,a,n,o,r}}var tv=Qg;function ev(t,e,a,n){var o=n((function(){return{UPGRADE:t.getString("Please upgrade to a paid plan to use this premium feature.",null,"Info")}})),r=function(){return e.info(o.UPGRADE)};function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.notify,n=void 0===e||e;if(a().isFree)return n&&r(),!0}return s.notify=r,s}ev.$inject=["gettextCatalog","notification","userType","translator"];var av=ev;function nv(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ov(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?nv(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):nv(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function rv(t,e,a){var n={},o=t(["signup"]).dispatcher,r=s();function s(){var t,e,a,n,o=Le.a.apiUrl,r=new URL(o,window.location.origin);return r.hostname=(t=r.hostname,e=t.indexOf("."),a=t.substr(0,e),n=t.substr(e+1),"".concat(a,"-api.").concat(n)),r.pathname="",{app:window.location.origin,iframe:r.origin,iframeUrl:r.toString()}}function l(t){n[t]||(n[t]={callbacks:[],onLoad:{},onDone:{}});var s=n[t].callbacks,l={i:0,data:{user:{},data:{}}},i=function(t,e){return function(a){t.forEach((function(t){var n=t.iframe;n.getAttribute("data-name")===e&&a(n)}))}},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.type,n=e.data,o=void 0===n?{}:n,r=i(t,o.name);"usernameInput.info"===a&&r((function(t){t.setAttribute("data-is-loading",o.isLoading),t.setAttribute("data-has-error",o.isError),t.setAttribute("data-is-available",o.isAvailable)})),"emailInput.info"===a&&r((function(t){t.setAttribute("data-has-error",o.isError)}))},d=function(t,e){return function(a){var n=a.iframe,o=a.mode;(e&&e===o||!e)&&n.contentWindow.postMessage(ov(ov({},t),{},{targetOrigin:r.app}),r.iframe)}};function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.fallback;t.forEach(d({type:"submit.broadcast",fallback:e}))}var p={};function f(t,e){return g.apply(this,arguments)}function g(){return(g=_()(I.a.mark((function t(n,r){var s,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.name,l=r.queryParam,p.deferred&&(p.deferred.resolve(m.o),p.deferred=void 0),p.request=l.Name,p.deferred=a.defer(),l.Name){t.next=6;break}return t.abrupt("return",{data:{},success:!1});case 6:e.available({params:l,noNotify:!0,timeout:p.deferred.promise}).then((function(t){return{data:t.data,success:!0}})).catch((function(t){var e=t.data,a=void 0===e?{}:e;if("abort"!==t.xhrStatus)return{data:a,success:!1}})).then((function(t){p.deferred=void 0,p.request===l.Name&&t&&(n.forEach(d({type:"usernameInput.query",data:t,value:l.Name},s)),o.signup("iframe.message.valid",t))}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{register:function(t,e,a){s.some((function(e){return e.mode===t}))||s.push({mode:t,iframe:e,cb:a})},listen:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(a){if(a.origin===r.iframe){if("child.message.data"===a.data.type){var s=a.data.data.id,i=Object(j.k)(),d="{{id}}"===s?i:s,p=e.reduce((function(t,e){var n=(0,e.cb)(a),o=n.fingerprint,r=n.user;return t.user=ov(ov({},t.user),r),t.data[d]=o,t}),l.data);l.i++,l.i===e.length&&(o.signup("iframe.message",p),l.i=0,l.data={user:{},data:{}})}if(c(e,a.data),"iframe.loaded"===a.data.type){var m=n[t].onLoad[a.data.data.name];m&&m()}if("app.loaded"===a.data.type){var g=n[t].onDone[a.data.data.name];g&&g()}if("app.onerror"===a.data.type){var v=a.data.data||{},b=n[t].onError;b&&b(v)}["usernameInput.info","emailInput.info"].includes(a.data.type)&&(l.fallback=a.data.data.fallback,a.data.data.isEnter&&!a.data.data.isError&&u(e,a.data.data.fallback)),"submit.init"===a.data.type&&u(e,a.data.data.fallback),"usernameInput.request"===a.data.type&&f(e,a.data.data||{})}}}(n[t].callbacks);return window.addEventListener("message",e,!1),function(){window.removeEventListener("message",e,!1),delete n[t]}},onLoad:function(e,a){n[t].onLoad[e]=a},onDone:function(e,a){n[t].onDone[e]=a},onError:function(e){n[t].onError=e},triggerSubmit:function(){return u(n[t].callbacks)}}}return l.getOrigin=s,l}rv.$inject=["dispatchers","User","$q"];var sv=rv,lv=angular.module("proton.user",[]).factory("iframeVerifWizard",sv).factory("needUpgrade",av).service("userType",tv).factory("setPaidCookie",Yg).directive("humanVerification",Nf).directive("signupCreationProcess",Rf).directive("signupHumanForm",Ff).directive("linkWebsite",Vf).directive("addressesSelector",Kf).directive("addressesSection",Gf).directive("pmSignatureToggle",Hf).directive("identitySection",Wf).directive("signupPayForm",tg).directive("signupStepLink",ag).directive("signupUserForm",sg).directive("storageWarningView",ig).directive("usernameDomain",cg).directive("usernamePassword",dg).directive("displayNameSignature",ug).factory("abuseFraudModal",_g).factory("generateKeyModel",gg).factory("signatureModel",bg).factory("addressesModel",kg).factory("storageWarning",Mg).factory("deleteAccountModal",Ig).factory("generateModal",Lg).factory("attachSignupSubscription",$g).factory("isDelinquent",jg).factory("manageUser",Ug).factory("signupModel",qg).factory("signupUserProcess",Xg).name;function iv(t){return{link:function(){var e=setTimeout((function(){!function(e){document.body.insertAdjacentHTML("beforeEnd",'<div id="timeWidthTest" style="position:absolute;left:0;top:0;z-index:1;visibility:hidden">');var a=document.getElementById("timeWidthTest");a.textContent=t("readableTime")("29000668525");var n=Math.ceil(a.offsetWidth);if(n>0){var o="<style>\n              .conversation .time { width: ".concat(n+5,"px; }\n              .conversation .row .meta { width: ").concat(n+55,"px;}\n              </style>");document.body.insertAdjacentHTML("beforeEnd",o)}document.body.removeChild(a),clearTimeout(e)}(e)}),2400)}}}iv.$inject=["$filter"];var cv=iv,dv=a("eeMe"),uv=a.n(dv);var pv=function(){return{scope:{dropzoneConfig:"&dropzone"},restrict:"A",link:function(t,e){uv.a.autoDiscover=!1;var a=angular.isFunction(t.dropzoneConfig)?t.dropzoneConfig():t.dropzoneConfig,n=new uv.a(e[0],a.options);angular.forEach(a.eventHandlers,(function(t,e){n.on(e,t)})),t.$on("$destroy",(function(){n.disable()}))}}};function mv(t,e){return{restrict:"A",link:function(a,n,o){var r=e(),s=r.on,l=r.unsubscribe,i="TIME"===n[0].nodeName,c=o.timeInterval,d=void 0===c?1e3:c,u=o.timeFilter,p=t(void 0===u?"delay":u),m=function(){var t=o.timeRefreshed;n.text(p(t)),i&&n[0].setAttribute("datetime",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=1e3*+t;return new Date(e||Date.now()).toISOString()}(t))},f=setInterval(m,d);m(),s("elements",(function(t,e){"refresh.time"===e.type&&m()})),a.$on("$destroy",(function(){clearInterval(f),l()}))}}}mv.$inject=["$filter","dispatchers"];var fv=mv;function gv(t){var e=function(){return t.reload()};return{restrict:"A",scope:{},link:function(t,a){a.on("click",e),t.$on("$destroy",(function(){a.off("click",e)}))}}}gv.$inject=["$state"];var vv=gv;function bv(t){return function(e){return new Promise((function(a,n){t.activate({params:{hasTwoFactor:e,submit:function(e,n){t.deactivate(),a({password:e,twoFactorCode:n})},cancel:function(){t.deactivate();var e=new Error("loginPassword:cancel");e.noNotify=!0,n(e)}}})}))}}bv.$inject=["loginPasswordModal"];var hv=bv;var yv=function(){return function(t,e){return t.reduce((function(t,a,n){return n%e==0&&t.push([]),t[t.length-1].push(a),t}),[])}};function wv(t,e){var a={};return{init:function(){var t=moment.localeData().longDateFormat("L"),n=e.getString("YYYY",null,"Placeholder for YYYY in YYYY-MM-DD"),o=e.getString("MM",null,"Placeholder for MM in YYYY-MM-DD"),r=e.getString("DD",null,"Placeholder for DD in YYYY-MM-DD"),s=t.replace("YYYY",n).replace("MM",o).replace("DD",r);a.localizedDatePlaceholder=s,moment.relativeTimeThreshold("s",59),moment.relativeTimeThreshold("m",59),moment.relativeTimeThreshold("h",23)},I18N:a,getDays:function(t){var e="short"!==t?"weekdays":"weekdaysShort";if(!moment.localeData().firstDayOfWeek())return moment[e](!0).map((function(t,e){return{value:e,label:t}}));var a=moment[e](),n=Ga()(a),o=n[0];return n.slice(1).map((function(t,e){return{value:e+1,label:t}})).concat([{label:o,value:0}])}}}wv.$inject=["$injector","gettextCatalog"];var xv=wv,kv=a("tzDv"),Av=a.n(kv);var Sv=function(){var t=function(){return Av.a.Permission.get()},e=function(){return t()===Av.a.Permission.GRANTED};return{create:function(t,a){e()&&Av.a.create(t,a)},status:t,isEnabled:e,request:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:angular.noop,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:angular.noop;try{Av.a.Permission.request(t,e)}catch(a){}}}};function Pv(t){return function(e){var a=e.method,n=void 0===a?"POST":a,o=e.url,r=void 0===o?"":o,s=e.data,l=e.noOfflineNotify;return t({method:n,url:r,noOfflineNotify:l,data:s,transformRequest:angular.identity,headers:{"Content-Type":void 0}})}}Pv.$inject=["$http"];var Cv=Pv;function Ev(t,e,a){return window.addEventListener("online",(function(){a.isLoggedIn()&&!e.is("onLine")&&t.call()})),{init:angular.noop}}Ev.$inject=["eventManager","AppModel","authentication"];var Mv=Ev;function Tv(t,e,a,n){var o=Object.keys(m.sb),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.$current.name;return e.replace("secured.","").replace(".element","")};function s(){var t=r();return!!Zu()(o,t)&&t}return{hash:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split("").reduce((function(t,e){return 31*t+e.charCodeAt(0)|0}))},mobileResponsive:function(){n.set("mobile",document.body.offsetWidth<m.Kb),n.set("tablet",document.body.offsetWidth<m.N&&document.body.offsetWidth>m.Kb)},fixImages:function(t){var e=new RegExp("proton-(url|src|svg|background|poster)","g");return t.replace(e,"$1")},replaceLineBreaks:function(t){return t.replace(/(?:\r\n|\r|\n)/g,"<br />")},currentLocation:function(){var t=s();return"label"===t?e.label:m.sb[t]},filteredState:r,currentMailbox:s,getTypeList:function(t){var e=t||s();return a.get().ViewMode===m.Gb||Zu()(["drafts","search","sent","allDrafts","allSent"],e)?"message":"conversation"},typeView:function(){return a.get().ViewMode===m.Gb?"message":"conversation"},cacheContext:function(){var t=r(),a=angular.isUndefined(e.filter),n=angular.isUndefined(e.sort);return"search"!==t&&n&&a}}}Tv.$inject=["$state","$stateParams","mailSettingsModel","AppModel"];var Iv=Tv;function Dv(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=t.get(e),n=a.url,o=void 0===n?"":n;o&&(window.location.href=o)}}Dv.$inject=["$state"];var _v=Dv;function Ov(t){var e=m.h;return function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=t.getString("bytes",null,"Size of a file"),r=[o,"KB","MB","GB","TB","PB"];if(isNaN(parseFloat(a))||!isFinite(a)||0===a)return"-";var s=Math.floor(Math.log(a)/Math.log(e)),l=0===s?0:n,i=(a/Math.pow(e,Math.floor(s))).toFixed(l);return"".concat(i," ").concat(r[s])}}Ov.$inject=["gettextCatalog"];var Lv=Ov;var Nv=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?t.toUpperCase().substring(0,1)+t.toLowerCase().substring(1):t}};var $v=function(){var t={USD:"$",EUR:"",CHF:"CHF"},e=function(t,e){var a=Math.abs(t);return e?~~t===a?a:t:a};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,r=t[n]||n,s=Number(a).toFixed(2),l=s<0?"-":"",i=e(s,o);return"USD"===n?"".concat(l).concat(r).concat(i):"".concat(l).concat(i," ").concat(r)}};function Rv(t){return function(e){var a=moment(),n=moment.unix(e);if(n.isAfter(a)){var o=n.diff(a,"milliseconds",!0);o=n.diff(a,"milliseconds",!0);var r=Math.floor(moment.duration(o).asDays());o=(n=n.subtract(r,"days")).diff(a,"milliseconds",!0);var s=Math.floor(moment.duration(o).asHours());o=(n=n.subtract(s,"hours")).diff(a,"milliseconds",!0);var l=Math.floor(moment.duration(o).asMinutes());o=(n=n.subtract(l,"minutes")).diff(a,"milliseconds",!0);var i=Math.floor(moment.duration(o).asSeconds()),c=[];return r&&c.push("".concat(r," ").concat(t.getString("Days",null,"Delay"))),s&&c.push("".concat(s," ").concat(t.getString("Hours",null,"Delay"))),l&&c.push("".concat(l," ").concat(t.getString("Minutes",null,"Delay"))),i&&c.push("".concat(i," ").concat(t.getString("Seconds",null,"Delay"))),c.join(" ")}return""}}Rv.$inject=["gettextCatalog"];var jv=Rv;var Fv=function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.toFixed(e)}},Uv=a("GODc"),Vv=a.n(Uv),zv=a("UB5X"),Kv=a.n(zv);function Bv(t,e){var a={KB:m.h,MB:m.h*m.h,GB:m.h*m.h*m.h},n=e((function(){return{KB:t.getString("KB",null,"fileSize format"),MB:t.getString("MB",null,"fileSize format"),GB:t.getString("GB",null,"fileSize format")}}));function o(t,e,o){return(t/a[e]).toFixed(2)+(o?"":" ".concat(n[e]))}return function(t,e,n){var r;return Kv()(t)?r=t:Vv()(parseInt(t,10))&&(r=0),o(r,n||(r<a.MB?"KB":r<a.GB?"MB":"GB"),e)}}Bv.$inject=["gettextCatalog","translator"];var Gv=Bv;var qv=function(){return function(t){return moment.unix(t).format("LLLL")}};var Hv=function(){return function(t){var e=moment.unix(t);return e.isSame(moment(),"day")?e.isSame(moment(),"hour")?e.fromNow():e.format("LT"):e.format("l LT")}};var Yv=function(){return function(t,e){if(isNaN(t))return t;var a="1"+Array(+(e>0&&e+1)).join("0");return Math.round(t*a)/a}};var Wv=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(100*t/e)}};var Xv=function(){return function(t){var e=moment.unix(t);return e.isSame(moment(),"day")?e.format("LT"):e.format("ll")}};var Jv=function(){return function(t){return moment.unix(t).utc().format("LL LT")}},Zv=a("yDfg");function Qv(t,e,n,o,r,s,l,i,c,d,u,p,f){var g=[1,1,2,3,5,8],v=st.a.EVENTS_ID_INVALID,b=m.sb.inbox,h=m.sb.allDrafts,y=m.sb.drafts,w=m.sb.allSent,x=m.sb.sent,k=m.sb.trash,A=m.sb.spam,S=m.sb.allmail,P=m.sb.archive,C=m.sb.starred,E=m.mc.DELETE,T=m.mc.CREATE,D=m.mc.UPDATE,O=i(["app.event","contacts","messages.counter","resetContactEmails","filter","updateUser"]),L=O.on,N=O.dispatcher,$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N["app.event"](t,e)},R={retryIndex:0,loopTime:0},j=function(t){return R.ID=t},F=function(){return R.ID};L("logout",(function(){j(void 0),R.retryIndex=0,R.loopTime=0}));var U=function(t){var e=t.Messages,a=void 0===e?[]:e;return a.length&&$("activeMessages",{messages:qn()(a,"Message")})},V=function(t){var e=t.Subscription;return e&&$("subscription.event",{subscription:e})},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length&&N.contacts("contactEvents",{events:t})};function K(t){angular.isDefined(t)&&u.set("all",t)}function B(t){angular.isDefined(t)&&f.set("all",t)}function G(t){angular.isDefined(t)&&e.get("vpnSettingsModel").set("all",t)}function q(t){if(angular.isDefined(t)){var a=[b,h,y,w,x,k,A,S,P,C].concat(e.get("labelsModel").ids());fe()(a,(function(a){var n=Ca()(t,{LabelID:a});angular.isDefined(n)?e.get("cacheCounters").updateMessage(n.LabelID,n.Total,n.Unread):e.get("cacheCounters").updateMessage(a,0,0)})),N["messages.counter"]()}}function H(t){if(angular.isDefined(t)){var a=[b,h,y,w,x,k,A,S,P,C].concat(e.get("labelsModel").ids());fe()(a,(function(a){var n=Ca()(t,{LabelID:a});angular.isDefined(n)?e.get("cacheCounters").updateConversation(n.LabelID,n.Total,n.Unread):e.get("cacheCounters").updateConversation(a,0,0)}))}}function Y(t,a){var n=[];angular.isArray(t)&&(n=n.concat(t)),angular.isArray(a)&&(n=n.concat(a)),n.length>0&&e.get("cache").events(n,!0)}function W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var a=u.get(),o=a.ViewMode,r=o===m.E,s=e.get("labelsModel").get("map"),i=s.all,c=Object.keys(m.sb).reduce((function(t,e){return t[m.sb[e]]=e,t}),{}),p=function(t){var e=t.LabelIDs;return(void 0===e?[]:e).map((function(t){return i[t]||{}})).filter((function(t){return t.Notify}))};i[b]={Notify:1,ID:b},i[C]={Notify:1,ID:C},fe()(t,(function(t){var e=t.Action,a=t.Message,o=void 0===a?{}:a,s=p(o);if(!Object(Zv.k)(o)&&1===e&&1===o.Unread&&s.length){var i=M()(s,1)[0].ID,u="secured.".concat(c[i]||"label",".element"),m=c[i]?null:i,f=d.getString("New mail from {{sender}}",{sender:o.Sender.Name||o.Sender.Address},"Notification user");l.create(f,{body:o.Subject,icon:"/assets/img/notification-badge.gif",onClick:function(){if(window.focus(),r)return n.go(u,{id:o.ConversationID,messageID:o.ID,label:m});n.go(u,{id:o.ID,label:m})}})}}))}}function X(t){angular.isDefined(t)&&(r.user.UsedSpace=t,$("usedSpace"))}function J(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length&&$("members",t)}function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length&&$("domains",t)}function Q(t){t&&e.get("organizationModel").set(t)}function tt(t){angular.isArray(t)&&fe()(t,(function(t){if(t.Action===E)N.filter("delete",{ID:t.ID});else if(t.Action===T||t.Action===D){var a=e.get("simpleFilter").computeFromTree(t.Filter);a?t.Filter.Simple=a:delete t.Filter.Simple,N.filter(t.Action===T?"create":"update",{ID:t.ID,Filter:t.Filter})}}))}function et(e){if(Array.isArray(e)&&0!==e.length){var n=new Date,o=new Date(n.getFullYear(),n.getMonth(),n.getDate()+14);e.forEach(function(){var e=_()(I.a.mark((function e(n){var s,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xn.d,e.next=3,Object(xn.p)(Object(xn.e)(Object(xn.l)("".concat(r.user.ID).concat(n))));case 3:if(e.t1=e.sent,s=(0,e.t0)(e.t1),l="NOTICE-"+s,!t.get(l)){e.next=8;break}return e.abrupt("return");case 8:p({message:n,templateUrl:a("jcfH"),duration:"0",onClose:(i=l,t.put(i,"true",{expires:o}))});case 9:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}())}}function at(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length?e.get("addressesModel").update(t):Promise.resolve()}function nt(){return e.get("cache").reset(),s.clear(),e.get("cacheCounters").reset(),e.get("cache").callRefresh(),e.get("cacheCounters").query(),r.fetchUserInfo().then((function(){N.updateUser(),e.get("labelsModel").refresh()}))}function ot(){N.resetContactEmails(),N.contacts("resetContacts")}var rt=function(t){var a=t.Labels,n=void 0===a?[]:a;if(n.length){var o=n.reduce((function(t,e){return e.Action&&e.Label.Type!==m.pb.MESSAGE||t.messageLabels.push(e),e.Action&&e.Label.Type!==m.pb.CONTACT_GROUP||t.contactGroups.push(e),t}),{messageLabels:[],contactGroups:[]}),r=o.messageLabels,s=o.contactGroups;r.length&&e.get("labelsModel").sync(r),s.length&&e.get("contactGroupModel").sync(s)}},lt=function(){var t=_()(I.a.mark((function t(){var a,n=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(et((a=n.length>0&&void 0!==n[0]?n[0]:{}).Notices),j(a.EventID),!a.Refresh){t.next=7;break}return a.Refresh&st.c.MAIL&&nt(),a.Refresh&st.c.CONTACTS&&ot(),t.abrupt("return");case 7:return K(a.MailSettings),G(a.VPNSettings),B(a.UserSettings),V(a),rt(a),e.get("contactEmails").update(a.ContactEmails),z(a.Contacts),Y(a.Messages,a.Conversations),W(a.Messages),q(a.MessageCounts),H(a.ConversationCounts),X(a.UsedSpace),Z(a.Domains),J(a.Members),Q(a.Organization),tt(a.Filters),U(a),t.next=26,at(a.Addresses);case 26:return t.next=28,e.get("manageUser")(a);case 28:if(1!==a.More){t.next=30;break}return t.abrupt("return",mt(!0));case 30:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),it=function(){R.notification&&(R.notification.close(),R.notification=void 0)},ct=function(){R.notification||(R.notification=p({templateUrl:a("nd+K"),duration:"0",onClick:function(){it(),mt()}}))},dt=function(){if(!R.timeoutHandle){var t=m.V.INTERVAL_EVENT_TIMER*g[R.retryIndex];R.timeoutHandle=o(mt,t,!1)}},ut=function(){R.timeoutHandle&&(o.cancel(R.timeoutHandle),R.timeoutHandle=void 0)},pt=function(){var t=F(),e={noOfflineNotify:!0};return t?c.get(t,e):c.getLatestID(e).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.EventID;if(a)return j(a),c.get(a,e)}))};function mt(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!t&&R.loopCall&&Date.now()-R.loopTime<m.V.LOOP_DEBOUNCE_MS?R.loopCall:(ut(),R.loopTime=Date.now(),R.loopCall=pt().then((function(t){return R.loopCall=void 0,R.loopTime=0,it(),ut(),R.retryIndex=0,dt(),lt(t)})).catch((function(t){R.loopCall=void 0,R.loopTime=0,ut();var e=t.data,a=void 0===e?{}:e,n=t.status;if(a.Code===v)return j(void 0),dt();throw 0!==n&&-1!==n||ct(),R.retryIndex<g.length-1&&R.retryIndex++,dt(),t})))}return{initialize:function(){var t=_()(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!F()){t.next=2;break}return t.abrupt("return",dt());case 2:if(!e){t.next=5;break}return j(e),t.abrupt("return",dt());case 5:return t.next=7,c.getLatestID();case 7:return a=t.sent,j(a),t.abrupt("return",dt());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),start:dt,call:function(){return mt()},stop:ut}}Qv.$inject=["$cookies","$injector","$state","$timeout","authentication","cachePages","desktopNotifications","dispatchers","Events","gettextCatalog","mailSettingsModel","notify","userSettingsModel"];var tb=Qv,eb=a("rvP+"),ab=a.n(eb);function nb(t,e,a,n,o){var r=o((function(){return{OPEN_COMPOSER:n.getString("Open the composer",null,"Hotkey description"),CREATE_REPLY:n.getString("Create a reply",null,"Hotkey description"),CREATE_REPLY_ALL:n.getString("Create a reply all",null,"Hotkey description"),FORWARD_MSG:n.getString("Forward the message",null,"Hotkey description"),MARK_AS_READ:n.getString("Mark as read",null,"Hotkey description"),MARK_AS_UNREAD:n.getString("Mark as unread",null,"Hotkey description"),MOVE_TO_INBOX:n.getString("Move to inbox",null,"Hotkey description"),MOVE_TO_TRASH:n.getString("Move to trash",null,"Hotkey description"),MOVE_TO_ARCHIVE:n.getString("Move to archive",null,"Hotkey description"),MOVE_TO_SPAM:n.getString("Move to spam",null,"Hotkey description"),SHOW_HOTKEYS_LIST:n.getString("Show hotkeys available",null,"Hotkey description"),GO_TO_INBOX:n.getString("Go to inbox",null,"Hotkey description"),GO_TO_DRAFTS:n.getString("Go to drafts",null,"Hotkey description"),GO_TO_SENT:n.getString("Go to sent",null,"Hotkey description"),GO_TO_STARRED:n.getString("Go to starred",null,"Hotkey description"),GO_TO_ARCHIVE:n.getString("Go to archive",null,"Hotkey description"),GO_TO_SPAM:n.getString("Go to spam",null,"Hotkey description"),GO_TO_TRASH:n.getString("Go to trash",null,"Hotkey description"),SELECT_ALL:n.getString("Select all elements",null,"Hotkey description"),UNSELECT_ALL:n.getString("Unselect all elements",null,"Hotkey description")}})),s="keyup",l=a(["composer.new","hotkeys","replyConversation","replyAllConversation","forwardConversation","selectElements","toggleStar","openMarked","selectMark","markPrevious","markNext","left","right","read","unread","move","newElement","oldElement"]).dispatcher,i=new Mousetrap,c=function(t){return function(){return t(),!1}},d=function(e){return function(){return t.go(e)}},u=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.type,o=a.data,r=void 0===o?{}:o;return function(){"composer.new"===t&&(r.message=e.get("messageModel")()),l[t](n,r)}},p=c(d("secured.inbox")),m=c(d("secured.drafts")),f=c(d("secured.sent")),g=c(d("secured.starred")),v=c(d("secured.archive")),b=c(d("secured.spam")),h=c(d("secured.trash")),y=c(u("composer.new",{type:"new",data:{}})),w=c(u("hotkeys",{type:"commandPalette"})),x=c(u("hotkeys",{type:"save"})),k=c(u("replyConversation")),A=c(u("replyAllConversation")),S=c(u("forwardConversation")),P=c(u("selectElements",{type:"all",data:{isChecked:!0}})),C=c(u("selectElements",{type:"all",data:{isChecked:!1}})),E=c(u("hotkeys",{type:"slash"})),M=c(u("toggleStar")),T=c(u("selectMark")),I=c(u("markPrevious")),D=c(u("markNext")),_=c(u("hotkeys",{type:"escape"})),O=c(u("left")),L=c(u("right")),N=c(u("read")),$=c(u("unread")),R=c(u("hotkeys",{type:"move",data:{to:"inbox"}})),j=c(u("hotkeys",{type:"move",data:{to:"trash"}})),F=c(u("hotkeys",{type:"move",data:{to:"archive"}})),U=c(u("hotkeys",{type:"move",data:{to:"spam"}})),V=c(u("newElement")),z=c(u("oldElement")),K=[{keyboard:"c",callback:y,description:r.OPEN_COMPOSER},{keyboard:"mod+s",callback:x,global:!0},{keyboard:"shift+space",callback:w},{keyboard:"shift+r",callback:k,description:r.CREATE_REPLY},{keyboard:"shift+a",callback:A,description:r.CREATE_REPLY_ALL},{keyboard:"shift+f",callback:S,description:r.FORWARD_MSG},{keyboard:"k",callback:V},{keyboard:"j",callback:z},{keyboard:"enter",callback:function(t){l.openMarked(),t.preventDefault()}},{keyboard:"r",callback:N,description:r.MARK_AS_READ,keyEventType:s},{keyboard:"u",callback:$,description:r.MARK_AS_UNREAD,keyEventType:s},{keyboard:".",callback:M},{keyboard:"i",callback:R,description:r.MOVE_TO_INBOX,keyEventType:s},{keyboard:["t","del","command+backspace"],callback:j,description:r.MOVE_TO_TRASH,keyEventType:s},{keyboard:"a",callback:F,description:r.MOVE_TO_ARCHIVE,keyEventType:s},{keyboard:"s",callback:U,description:r.MOVE_TO_SPAM,keyEventType:s},{keyboard:"?",callback:function(){var t=e.get("hotkeyModal");return t.activate({params:{close:function(){t.deactivate()}}}),!1},description:r.SHOW_HOTKEYS_LIST},{keyboard:"g i",callback:p,description:r.GO_TO_INBOX},{keyboard:"g d",callback:m,description:r.GO_TO_DRAFTS},{keyboard:"g s",callback:f,description:r.GO_TO_SENT},{keyboard:"g .",callback:g,description:r.GO_TO_STARRED},{keyboard:"g a",callback:v,description:r.GO_TO_ARCHIVE},{keyboard:"g x",callback:b,description:r.GO_TO_SPAM},{keyboard:"g t",callback:h,description:r.GO_TO_TRASH},{keyboard:"* a",callback:P,description:r.SELECT_ALL},{keyboard:"* n",callback:C,description:r.UNSELECT_ALL},{keyboard:"x",callback:T},{keyboard:"left",callback:O},{keyboard:"right",callback:L},{keyboard:"up",callback:I},{keyboard:"down",callback:D},{keyboard:"escape",callback:_},{keyboard:"/",callback:E}],B=function(t){var e=t.keyboard,a=t.keyEventType;return i.unbind(e,a)},G=function(t){var e=t.keyboard,a=t.callback,n=t.keyEventType,o=t.global;if(void 0!==o&&o)return i.bindGlobal(e,a,n);i.bind(e,a,n)},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:angular.noop;Ll()(Ni()((function(e){var a=e.keyboard;return Zu()(t,a)})),ab()(e))(K)};return{initialized:!1,init:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.initialized)return t&&this.bind(),void(this.initialized=!0);this[t?"bind":"unbind"]()},bind:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return[].concat(K).forEach(G);q(t,G)},unbind:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return[].concat(K).forEach(B);q(t,B)},trigger:function(){return i.trigger.apply(i,arguments)},reset:function(){return i.reset()},pause:function(){return i.pause()},unpause:function(){return i.unpause()},keys:function(){return[].concat(K)},translations:function(t){return r[t]||r}}}nb.$inject=["$state","$injector","dispatchers","gettextCatalog","translator"];var ob=nb;function rb(t){return{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=n.message,r=void 0===o?{}:o,s=n.data,l=t.href(e,a,{absolute:!0}),i=window.location.href.split("/"),c=M()(i,3),d=c[0],u=void 0===d?"http":d,p=c[2],m=void 0===p?"":p,f="".concat(u,"//").concat(m);function g(t){t.data===r.ID&&(t.source.postMessage(s||r,f),window.removeEventListener("message",g,!1))}window.addEventListener("message",g,!1),window.open(l,"_blank")}}}rb.$inject=["$state"];var sb=rb;function lb(t,e){var a=!0,n=e.filteredState;return(0,t().on)("$stateChangeStart",(function(t,e,o,r){a=n(r.name)!==n(e.name)})),{get:function(){return a},set:function(t){return a=t}}}lb.$inject=["dispatchers","tools"];var ib=lb;function cb(t,e,n,o,r,s){var l={loaded:0},i=s((function(){return{OUTDATED:n.getString("You are using an outdated version of ProtonMail, please refresh the page.",null,"Error"),ACTION:n.getString("Reload ProtonMail",null,"Action")}})),c=function(t){if("app"===t)return Promise.all([a.e(5),a.e(0)]).then(a.bind(null,"P/cB"));if("vendor"===t)return Promise.all([a.e(8),a.e(4)]).then(a.bind(null,"luN4"));if("vendor2"===t)return Promise.all([a.e(7),a.e(2)]).then(a.bind(null,"m6uc"));throw new Error("unknown lazy load")},d=function(){var t=_()(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l[a]=c(a),t.next=4,l[a];case 4:n=t.sent,r.loadNewModules([n.default.name]),delete l[a],l.loaded++,t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(0),console.log("error",t.t0),o.get("onLine")){t.next=15;break}return t.abrupt("return");case 15:e.error("".concat(i.OUTDATED," <a>").concat(i.ACTION,"</a>"),{duration:0,onClose:function(){window.location.reload()}});case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return{app:function(){var e=_()(I.a.mark((function e(){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.vendor){e.next=2;break}return e.abrupt("return",l.vendor.then((function(){return d("app")})));case 2:if(!l.app){e.next=4;break}return e.abrupt("return",l.app);case 4:if(2!==l.loaded){e.next=6;break}return e.abrupt("return");case 6:return a=d("vendor").then((function(){return d("app")})),e.abrupt("return",t.track(a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),extraVendor:function(){return t.track(d("vendor2"))}}}cb.$inject=["networkActivityTracker","notification","gettextCatalog","AppModel","$injector","translator"];var db=cb,ub=a("lFrY");var pb=function(){return ub};function mb(t,e,n,o,r,s,l){var i=t(["composer.new"]).dispatcher,c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i["composer.new"](t,e)},d=function(t){try{return function(){try{return{encoded:t.toString()||"",raw:t.getAttribute("href")||""}}catch(e){return{raw:Array.from(t.attributes).find((function(t){return"href"===(t||{}).name})).nodeValue||""}}}()}catch(e){s.error(l.getString("This message may some URL links that cannot be properly opened by your current browser",null,"Error"))}},u=function(){var t=_()(I.a.mark((function t(e){var n,o,r,s,l,i,c,d,u,p,m,f,g;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.raw,o=void 0===n?"":n,r=e.encoded,!(Object(be.m)()||Object(be.j)()||!/:\/\/xn--/.test(r||o))){t.next=11;break}return t.next=5,a.e(3).then(a.bind(null,"jGze"));case 5:return s=t.sent,l=s.punycode,i=o.split("://"),c=Ga()(i),d=c[0],u=c[1],p=void 0===u?"":u,m=c.slice(2),f=function(t){return(t.startsWith("%")?decodeURIComponent(t):t).split("/").map(l.toASCII).join("/")},g=[p].concat(ce()(m)).map(f).join("://"),t.abrupt("return","".concat(d,"://").concat(g));case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=_()(I.a.mark((function t(a){var s,l,i,p,f,g;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(["A","IMG"].includes(a.target.nodeName)){t.next=2;break}return t.abrupt("return");case 2:if(s="IMG"===a.target.nodeName,"A"===(l=s?a.target.parentElement:a.target).nodeName){t.next=6;break}return t.abrupt("return");case 6:if(i=d(l)){t.next=10;break}return a.preventDefault(),t.abrupt("return",!1);case 10:if(!i.raw.toLowerCase().startsWith("mailto:")){t.next=15;break}return a.preventDefault(),a.stopPropagation(),p=e(o.mailtoParser(a.target.getAttribute("href"))),t.abrupt("return",c("new",{message:p,isAfter:!0}));case 15:if(f=n.get("ConfirmLink"),g=ac(i.raw),!r.active()&&!i.raw.startsWith("#")){t.next=19;break}return t.abrupt("return");case 19:if(!(f&&ec(i.raw)&&g)||m.Xb.includes(g)){t.next=29;break}return a.preventDefault(),a.stopPropagation(),t.t0=r,t.next=25,u(i);case 25:return t.t1=t.sent,t.t2={link:t.t1},t.t3={params:t.t2},t.abrupt("return",t.t0.activate.call(t.t0,t.t3));case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{link:function(t){document.body.addEventListener("click",p,!1),t.$on("$destroy",(function(){document.body.removeEventListener("click",p,!1)}))}}}mb.$inject=["dispatchers","messageModel","mailSettingsModel","mailUtils","linkWarningModal","notification","gettextCatalog"];var fb=mb;function gb(t){function e(e){return t.input(e).split(",").map((function(t){return{Address:t,Name:t}}))}return{mailtoParser:function(a){if(0===a.toLowerCase().indexOf("mailto:")){var n=a.indexOf("?");n<0&&(n=a.length);var o=t.input(a.substring(7,n)),r=Object(be.s)(a.replace(/&amp;/g,"&")).searchObject,s=void 0===r?{}:r,l={};return o&&(l.ToList=e(o)),s.subject&&(l.Subject=decodeURIComponent(t.input(s.subject))),s.cc&&(l.CCList=e(s.cc)),s.bcc&&(l.BCCList=e(s.bcc)),s.body&&(l.DecryptedBody=decodeURIComponent(t.message(s.body))),l}}}}gb.$inject=["sanitize"];var vb=gb;function bb(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function hb(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?bb(Object(a),!0).forEach((function(e){x()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):bb(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function yb(t){return t({controllerAs:"ctrl",templateUrl:a("ox0V"),controller:["params","gettextCatalog",function(t,e){var a={title:e.getString("Warning",null,"Confirm message"),message:e.getString("By canceling, you will lose all your changes. Do you want to cancel anyway?",null,"Confirm message"),button:{discard:e.getString("discard",null,"Confirm message"),confirm:e.getString("save",null,"Confirm message")}};this.i18n=hb(hb({},a),t.I18N),this.submit=t.confirm,this.discard=t.discard,this.cancel=t.cancel}]})}yb.$inject=["pmModal"];var wb=yb;function xb(t,e,n,o,r){return t({controllerAs:"ctrl",templateUrl:a("vQt6"),controller:["params",function(t){var a=this;this.preference=!n.get("ConfirmLink"),this.link=t.link,this.punyCodeLink=/:\/\/xn--/.test(t.link),this.punyCodeLinkIE=this.punyCodeLink&&(Object(be.j)()||Object(be.m)()),this.continue=function(){t.close();var n=o.updateConfirmLink({ConfirmLink:+!a.preference}).then(e.call);r.track(n)}}]})}xb.$inject=["pmModal","eventManager","mailSettingsModel","settingsMailApi","networkActivityTracker"];var kb=xb,Ab=a("XydG");var Sb=function(){return Ab.b};var Pb=function(){return function(t){var e=moment(t);return e.isValid()?e.format("LL"):t}};function Cb(t){return t({controllerAs:"ctrl",templateUrl:a("6Ue4"),controller:["params",function(t){this.type=t.type,this.config=t.config,this.cancel=function(){return t.cancel()},this.print=function(){return window.print()},setTimeout((function(){window.print()}),200)}]})}Cb.$inject=["pmModal"];var Eb=Cb;Tb.$inject=["printMessageModel","sanitize"];var Mb=m.Hb.PLAINTEXT;function Tb(t,e){return{scope:{config:"=printMessageConfig"},replace:!0,restrict:"E",templateUrl:a("ECQK"),link:function(a,n){var o=n.find(".printMessage-content");a.model=t(a.config),o[0].innerHTML=e.message(a.config.content),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.MIMEType;return e===Mb}(a.model)&&o.addClass("printMessage-plain-content")}}}var Ib=Tb;function Db(t,e,a){var n={isReplied:"fa-reply",isRepliedAll:"fa-reply-all",isForwarded:"fa-mail-forward"},o=a((function(){return{received:e.getString("Received:",null,"printed message info"),sent:e.getString("Sent:",null,"printed message info")}})),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){var e=t.Name,a=void 0===e?"":e,n=t.Address,o=void 0===n?"":n;return"".concat(a," ").concat(o).trim()})).join(", ")},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"isReplied",callback:Zv.o},{name:"isRepliedAll",callback:Zv.p},{name:"isForwarded",callback:Zv.j}].reduce((function(e,a){var o=a.name;return(0,a.callback)(t)&&e.push(n[o]),e}),[])},l=function(t){return Object(Zv.n)(t)?o.received:o.sent};return function(e){var a=e.message,n=a.MIMEType,o=a.Subject,i=a.ToList,c=void 0===i?[]:i,d=a.CCList,u=void 0===d?[]:d,p=a.BCCList,m=void 0===p?[]:p,f=a.Time,g=a.Sender,v=a.Attachments,b=void 0===v?[]:v;return{MIMEType:n,subject:o,title:l(a),icons:s(a),sender:r([g]),to:r(c),cc:r(u),bcc:r(m),time:t("localReadableTime")(f),Attachments:b}}}Db.$inject=["$filter","gettextCatalog","translator"];var _b=Db,Ob=angular.module("proton.utils",[]).factory("printMessageModel",_b).directive("printMessage",Ib).factory("printModal",Eb).filter("formatURL",Sb).filter("formatBDay",Pb).factory("discardModal",wb).factory("linkWarningModal",kb).factory("mailUtils",vb).directive("linkHandler",fb).service("lazyLoader",db).directive("detectTimeWidth",cv).directive("dropzone",pv).directive("timeRefreshed",fv).directive("reloadState",vv).factory("askPassword",hv).factory("chunk",yv).factory("dateUtils",xv).factory("desktopNotifications",Sv).factory("firstLoadState",ib).factory("requestFormData",Cv).factory("resurrecter",Mv).factory("tools",Iv).factory("goAndReload",_v).filter("bytes",Lv).filter("capitalize",Nv).filter("currency",$v).filter("delay",jv).filter("fixed",Fv).filter("humanSize",Gv).filter("localReadableTime",qv).filter("longReadableTime",Hv).filter("number",Yv).filter("percentage",Wv).filter("readableTime",Xv).filter("utcReadableTime",Jv).factory("eventManager",tb).factory("hotkeys",ob).factory("openStatePostMessage",sb).factory("sanitize",pb).name,Lb=angular.module("proton.routes",["ui.router","proton.authentication","proton.utils"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,n){t.state("login",{url:"/login",onEnter:["dropIE11ModalModal",function(t){Object(be.m)()&&t.activate()}],views:{"main@":{templateUrl:a("WgLI")},"panel@login":{template:"<login-container></login-container>"}},resolve:{lang:["i18nLoader",function(t){return t.translate()}]}}).state("login.setup",{url:"/setup",views:{"panel@login":{controller:"SetupController",templateUrl:a("APHl")}},resolve:{domains:["pmDomainModel",function(t){return t.fetch()}],user:["User",function(t){return t.get()}],addresses:["Address",function(t){return t.query()}],vpn:["user","vpnSettingsModel",function(t,e){return e.fetch()}]}}).state("login.down",{views:{"panel@login":{template:"<account-load-error></account-load-error>"}}}).state("login.sub",{url:"/sub",views:{"panel@login":{template:"<login-sub-container></login-sub-container>"}}}).state("pre-invite",{url:"/pre-invite/:selector/:token",views:{"main@":{templateUrl:a("uj15")}},onEnter:["$state","$stateParams","notification","Invite","gettextCatalog","AppModel",function(t,e,a,n,o,r){var s=e.token,l=e.selector,i=o.getString("Invalid invite link",null,"Error");r.set("loggingOut",!1),n.check(s,l,m.Wb.MAIL).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.data,n=void 0===a?{}:a;if(1===n.Valid)return r.set("preInvited",!0),t.go("signup",{inviteToken:s,inviteSelector:l});throw new Error(i)})).catch((function(e){var n=e.data,o=void 0===n?{}:n;a.error(o.Error||i),t.go("login")}))}]}).state("invite",{url:"/invite",resolve:{direct:["$state","User","AppModel",function(t,e,a){if(!a.is("preInvited"))return e.direct().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.data,n=void 0===a?{}:a;if(1!==n.Direct)return window.location.href=m.eb,Promise.reject();t.go("signup")})).catch((function(e){throw t.go("login"),e}))}]}}).state("secured.resetTheme",{url:"/reset-theme",resolve:{reset:["user","networkActivityTracker","settingsMailApi","notification","eventManager","gettextCatalog","$state",function(t,e,a,n,o,r,s){var l={SUCCESS:r.getString("Theme reset! Redirecting...",null,"Info")},i=a.updateTheme({Theme:""}).then((function(){return n.success(l.SUCCESS)})).then(o.call).then((function(){return s.go("secured.inbox")}));e.track(i)}]}}).state("signup",{url:"/create/new?plan&billing&currency&coupon",params:{inviteSelector:void 0,inviteToken:void 0,plan:null,billing:"".concat(m.J),currency:m.I,coupon:null},views:{"main@":{controller:"SignupController",templateUrl:a("VSUr")},"panel@signup":{templateUrl:a("WEo0")}},resolve:{lang:["i18nLoader",function(t){return t.translate()}],subscriptionInfo:["$stateParams",function(t){var e=t.currency,a=t.billing,n=t.plan,o=t.coupon,r=+a,s=Zu()(m.F,e),l=Zu()(m.i,r),i=Zu()(m.kc,n);if(s&&i&&l)return{planNames:n.split("_"),currency:e,cycle:r,coupon:o}}],optionsHumanCheck:["signupModel",function(t){return t.getOptionsVerification()}],domains:["pmDomainModel",function(t){return t.fetch()}]}}).state("support",{abstract:!0,url:"/help",views:{"main@":{controller:"SupportController",templateUrl:a("VSUr")}},resolve:{i18n:["i18nLoader",function(t){return t.translate()}]}}).state("support.reset-password",{url:"/reset-login-password?username&token",params:{username:null,token:null},views:{"panel@support":{templateUrl:a("qfUQ")}}}).state("eo",{abstract:!0,views:{"main@":{templateUrl:a("xXFa")}},resolve:{app:["lazyLoader","i18nLoader",function(t,e){return t.app().then(e.translate).then(e.localizeDate)}]}}).state("eo.unlock",{url:"/eo/:tag",resolve:{encryptedToken:["app","Eo","$stateParams",function(t,e,a){return e.token(a.tag).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,a=void 0===e?{}:e;return a.Token})).catch((function(){return!1}))}]},views:{content:{templateUrl:a("28mQ"),controller:"OutsideUnlockController"}}}).state("eo.message",{url:"/eo/message/:tag",resolve:{messageData:["app","$state","$stateParams","$q","Eo","messageModel","eoStore",function(t,e,a,n,o,r,s){var l=a.tag,i=s.getToken(),c=s.getPassword();return i?o.message(i,l).then((function(t){var e=t.data,a=(void 0===e?{}:e).Message,o=Te()(a.Replies,(function(t,e){var a=Object(Zv.b)(e,c).then((function(t){return e.DecryptedBody=t}));return t.push(a),t}),[Object(Zv.b)(a,c).then((function(t){return a.DecryptedBody=t}))]);return n.all(o).then((function(){return r(a)}))})):(e.go("eo.unlock",{tag:l}),Promise.reject())}]},views:{content:{controller:"OutsideController",templateUrl:a("7xla")}}}).state("eo.reply",{url:"/eo/reply/:tag",resolve:{messageData:["app","$state","$stateParams","Eo","messageModel","eoStore",function(t,e,a,n,o,r){var s=a.tag,l=r.getToken(),i=r.getPassword();return l?n.message(l,s).then((function(t){var e=t.data.Message;return e.publicKey=t.data.PublicKey,Object(Zv.b)(e,i).then((function(t){var a=ro()(e.Attachments,(function(t){return t.Headers&&(t.Headers["content-id"]||t.Headers["content-location"])}));return e.DecryptedBody=t,e.Attachments=a,e.NumAttachments=a.length,o(e)}))})):(e.go("eo.unlock",{tag:s}),Promise.reject())}]},views:{content:{controller:"OutsideController",templateUrl:a("iZQZ")}},onEnter:["gettextCatalog",function(t){window.onbeforeunload=function(){return t.getString("By leaving now, you will lose what you have written in this email. You can save a draft if you want to come back to it later on.",null,"Info")}}],onExit:function(){window.onbeforeunload=void 0}}).state("secured",{abstract:!0,views:{"main@":{controller:"SecuredController",templateUrl:a("2Igw")},"sidebar@secured":{controller:"SidebarController",templateUrl:a("IBfZ")}},resolve:{app:["lazyLoader",function(t){return t.app()}],user:["app","authentication","$http","i18nLoader","userSettingsModel",function(t,e,a,n,o){return Object.keys(e.user||{}).length>0?(n.localizeDate(),e.user):e.fetchUserInfo().then((function(t){return n.translate(o.get("Locale")).then(n.localizeDate).then((function(){return t}))}))}],labels:["user","labelsModel","networkActivityTracker",function(t,e,a){var n=e.load();return a.track(n),n}],contactGroups:["user","contactGroupModel","networkActivityTracker",function(t,e,a){var n=e.load();return a.track(n),n}],subscription:["user","subscriptionModel",function(t,e){return e.fetch()}],organization:["user","organizationModel",function(t,e){return e.fetch()}],premiums:["user","premiumDomainModel",function(t,e){return e.fetch()}]},onEnter:["AppModel","$state","authentication",function(t,e,a){if(!a.isLoggedIn())return e.go("login");t.set("isLoggedIn",!0),t.set("isSecure",!0)}]}).state("secured.account",{url:"/account",views:{"content@secured":{templateUrl:a("j3j4"),controller:"AccountController"}},resolve:{methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}]},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.labels",{url:"/labels",views:{"content@secured":{templateUrl:a("xAXd"),controller:"LabelsController"}},resolve:{methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}]},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.security",{url:"/security",views:{"content@secured":{templateUrl:a("Mrbv"),controller:"SecurityController"}},resolve:{members:["user","memberModel","networkActivityTracker",function(t,e,a){if(t.Role===m.Nb){var n=e.fetch();return a.track(n),n}}],sessions:["members","activeSessionsModel","networkActivityTracker",function(t,e,a){var n=e.fetch();return a.track(n),n}],methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}]},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.appearance",{url:"/appearance",views:{"content@secured":{templateUrl:a("Ve96"),controller:"AppearanceController"}},resolve:{methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}]},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.payments",{url:"/payments",views:{"content@secured":{templateUrl:a("zWl+"),controller:"PaymentsController"}},resolve:{access:["user","$state",function(t,e){if(t.subuser)return e.go("secured.account"),Promise.reject()}],methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["paymentModel","networkActivityTracker",function(t,e){return e.track(t.getStatus())}]},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.keys",{url:"/keys",views:{"content@secured":{template:"<keys-view></keys-view>"}},resolve:{methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}]},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.vpn",{url:"/vpn",views:{"content@secured":{template:"<vpn-view></vpn-view>"}},resolve:{methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}],vpn:["user","vpnSettingsModel","networkActivityTracker",function(t,e,a){return a.track(e.fetch())}]},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.dashboard",{url:"/dashboard",params:{scroll:null,noBlackFridayModal:null,cycle:null,currency:null},resolve:{access:["user","$state",function(t,e){if(t.subuser||t.Role===m.Ob)return e.go("secured.account"),Promise.reject()}],dashboardPlans:["user","dashboardModel","networkActivityTracker","subscriptionModel",function(t,e,a,n){var o=n.fetch().then((function(){return e.loadPlans(n.currency())}));return a.track(o)}],methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}]},views:{"content@secured":{templateUrl:a("sRtC"),controller:"DashboardController"}},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.members",{url:"/members",params:{action:null,id:null},resolve:{access:["user","$state",function(t,e){if(t.subuser||t.Role===m.Ob)return e.go("secured.account"),Promise.reject()}],members:["user","memberModel","networkActivityTracker",function(t,e,a){return t.Role===m.Nb?a.track(e.fetch()):{data:{}}}],domains:["user","domainModel","networkActivityTracker",function(t,e,a){return t.Role===m.Nb?a.track(e.fetch()):{data:{}}}],pmDomains:["user","pmDomainModel","networkActivityTracker",function(t,e,a){return a.track(e.fetch())}],organization:["user","organizationModel","networkActivityTracker",function(t,e,a){return a.track(e.fetch())}],organizationKeys:["user","organizationKeysModel","networkActivityTracker",function(t,e,a){if(t.Role===m.Nb)return a.track(e.fetch())}],methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}]},views:{"content@secured":{templateUrl:a("tjaA"),controller:"MembersController"}},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.domains",{url:"/domains",resolve:{access:["user","$state",function(t,e){if(t.subuser||t.Role===m.Ob)return e.go("secured.account"),Promise.reject()}],members:["user","memberModel","networkActivityTracker",function(t,e,a){return t.Role===m.Nb?a.track(e.fetch()):{data:{}}}],domains:["user","domainModel","networkActivityTracker",function(t,e,a){return t.Role===m.Nb?a.track(e.fetch()):{data:{}}}],pmDomains:["pmDomainModel","networkActivityTracker",function(t,e){return e.track(t.fetch())}],organization:["user","organizationModel","networkActivityTracker",function(t,e,a){return a.track(e.fetch())}],organizationKeys:["user","organizationKeysModel","networkActivityTracker",function(t,e,a){if(t.Role===m.Nb)return a.track(e.fetch())}],methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}]},views:{"content@secured":{templateUrl:a("0JHt"),controller:"DomainsController"}},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.bridge",{url:"/bridge",views:{"content@secured":{template:"<bridge-view></bridge-view>"}},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.pmme",{url:"/pmme",views:{"content@secured":{template:"<pm-me-view></pm-me-view>"}},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.filters",{url:"/filters",resolve:{vendor:["app","lazyLoader",function(t,e){return e.extraVendor()}],loadSpamLists:["vendor","user","spamListModel","networkActivityTracker",function(t,e,a,n){return n.track(a.load())}],methods:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getMethods(null,t))}],status:["user","paymentModel","networkActivityTracker",function(t,e,a){return a.track(e.getStatus())}]},views:{"content@secured":{template:"<filter-view></filter-view>"}},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!1),t.set("settingsSidebar",!0)}]}).state("secured.autoresponder",{url:"/autoresponder",views:{"content@secured":{template:"<autoresponder-view></autoresponder-view>"}},onEnter:["AppModel",function(t){t.set("settingsSidebar",!0)}],onExit:["AppModel",function(t){t.set("settingsSidebar",!1)}]}),t.state("secured.contacts",{url:"/contacts?sort&page&keyword",params:{page:{value:null,squash:!0},keyword:{value:null,squash:!0},sort:{value:null,squash:!0}},resolve:{delinquent:["user","isDelinquent",function(t,e){return e.testAndRedirect()}]},views:{"content@secured":{template:"<contact-view></contact-view>"}},onEnter:["AppModel",function(t){t.set("inboxSidebar",!1),t.set("contactSidebar",!0),t.set("settingsSidebar",!1)}]}).state("secured.contacts.details",{url:"/:id",params:{id:null},views:{"details@secured.contacts":{template:"<contact-right-panel></contact-right-panel>"}}}),Object.keys(m.sb).forEach((function(e){var n="secured."+e,o="secured."+e+".element",r="/".concat(e,"?").concat(["email","address","page","filter","sort","label","from","to","subject","keyword","begin","end","attachments","wildcard","starred","reload","welcome"].join("&")),s={"content@secured":{controller:"ElementsController",templateUrl:a("VKAp")}};t.state(n,{url:r,views:s,resolve:{delinquent:["user","isDelinquent",function(t,e){return e.testAndRedirect()}]},onEnter:["AppModel",function(t){t.set("inboxSidebar",!0),t.set("contactSidebar",!1),t.set("settingsSidebar",!1)}],onExit:["AppModel",function(t){t.set("showWelcome",!1)}]});var l=x()({},"view@secured.".concat(e),{template:"<element-view></element-view>"});t.state(o,{url:"/{id}",views:l,params:{id:null,messageID:null,welcome:null},onExit:["dispatchers",function(t){t(["unmarkMessages"]).dispatcher.unmarkMessages()}]})})),e.otherwise((function(t){var e=t.get("$state"),a=t.get("authentication").isLoggedIn()?"secured.inbox":"login";return e.href(a)})),n.html5Mode(!0)}]).name;window.moment=s.a;var Nb=a("vFUD");Nb.keys().forEach(Nb);e.default=function(t){angular.module("proton",["gettext","cgNotify","ngCookies","ngMessages","ngSanitize","ui.router","templates-app",C,pe,xe,Ve,jn,gr,$r,hs,wl,Jl,Ci,Vi,Id,Ou,Of,lv,Ob,Lb]).config(["notificationProvider",function(t){t.template(a("bFFJ"))}]).run(["logoutManager","AppModel","tools","lazyLoader",function(t,e,a,n){i.a.attach(document.body),n.app(),window.addEventListener("resize",o()(a.mobileResponsive,50)),window.addEventListener("orientationchange",a.mobileResponsive),a.mobileResponsive(),e.set("showWelcome",!0),d()()}]).config(["$httpProvider",function(e){e.interceptors.push("serverTimeInterceptor"),e.interceptors.push("httpInterceptor"),e.interceptors.push("formatResponseInterceptor"),e.defaults.headers.common["x-pm-appversion"]="Web_"+t.app_version,e.defaults.headers.common["x-pm-apiversion"]=t.api_version,e.defaults.headers.common.Accept="application/vnd.protonmail.v1+json",e.defaults.withCredentials=!0,angular.isUndefined(e.defaults.headers.get)&&(e.defaults.headers.get={}),e.defaults.headers.get["Cache-Control"]="no-cache",e.defaults.headers.get.Pragma="no-cache"}]).run(["$state","authentication","$log","dispatchers","networkActivityTracker","AppModel",function(t,e,a,n,o,r){var s=n(["tooltip"]),l=s.dispatcher,i=s.on;i("$stateChangeStart",(function(a,n){var o="login"===n.name,r="login.sub"===n.name,s="upgrade"===n.name,l=n.name.includes("support"),i="account"===n.name,c="signup"===n.name||"pre-invite"===n.name,d=n.name.includes("eo"),u=n.name.includes("reset"),p="pgp"===n.name;o||r||l||i||c||d||s||u||p||e.isLoggedIn()||(a.preventDefault(),t.go("login",void 0,{reload:!0}))})),i("$stateChangeSuccess",(function(){r.set("requestTimeout",!1),l.tooltip("hideAll"),$(".navbar-toggle").click(),$("#loading_pm, #pm_slow, #pm_slow2").remove()}))}]).run(["consoleMessage",function(t){return t()}]).config(["$logProvider","$compileProvider","$qProvider",function(e,a,n){var o=t.debug||!1;e.debugEnabled(o),a.debugInfoEnabled(o),n.errorOnUnhandledRejections(o)}]),angular.bootstrap(document,["proton"])}},"g+rB":function(t,e){var a=window.angular,n="templates/ui/navigation/navigationUser.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<li class=navigationUser> <a class="navigation-link navigationUser-link pm_trigger" dropdown href=#> <span class=navigation-icons> <i class="fa fa-user"></i> <i class="fa fa-angle-down"></i> </span> <span class=navigation-title>{{ displayName || email }}</span> </a> <span class=navigationUser-newVersion-info></span> <span class="pm_dropdown navigationUser-dropdown wide right"> <span class=navigationUser-head> <strong class=navigationUser-head-display-name title="{{ displayName }}">{{ displayName }}</strong> <span class=navigationUser-head-email title="{{ email }}">{{ email }}</span> <span class=navigationUser-head-organization title="{{ organization.DisplayName }}">{{ organization.DisplayName }}</span> </span> <div class=navigationUser-newVersion-container data-new-version></div> <button class=navigationUser-help ng-if=wizardEnabled data-display-wizard-button> <i class="fa fa-magic"></i> <span translate translate-context=Action>Tutorial</span> </button> <a class=navigationUser-help target=_blank href=https://protonmail.com/support> <i class="fa fa-life-ring"></i> <span translate translate-context=Action>Help &amp; answers</span> </a> <a class=navigationUser-help target=_blank href=https://shop.protonmail.com> <i class="fa fa-shopping-cart"></i> <span translate translate-context=Action>ProtonMail Shop</span> </a> <a ui-sref=login class="pm_button primary text-center navigationUser-logout" translate translate-context=Action>Logout</a> <app-version class="navigationUser-version text-center" data-prefix="ProtonMail "></app-version> </span> </li> ')}])}t.exports=n},"g/W2":function(t,e){var a=window.angular,n="templates/directives/ui/noResults.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=messagePlaceholder> <i class="fa messagePlaceholder-icon"></i> <span class=messagePlaceholder-text-block></span> <h3 class=messagePlaceholder-title></h3> </div> ')}])}t.exports=n},gMlX:function(t,e,a){"use strict";a.d(e,"e",(function(){return d})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return p})),a.d(e,"a",(function(){return m})),a.d(e,"b",(function(){return f}));var n=a("J4zp"),o=a.n(n),r=a("o0o1"),s=a.n(r),l=a("yXPU"),i=a.n(l),c=a("dG5C"),d=function(){var t=i()(s.a.mark((function t(e){var a,n=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.length>1&&void 0!==n[1]?n[1]:function(){return!0},!e||a(e)){t.next=3;break}throw new Error("Invalid file format");case 3:return t.abrupt("return",new Promise((function(t,a){var n=new FileReader;n.onload=function(e){var a=e.target;t(a.result)},n.onerror=a,n.onabort=a,n.readAsDataURL(e)})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(t){return new Promise((function(e,a){var n=new FileReader;n.onload=function(){return e(n.result)},n.onerror=a,n.onabort=a,n.readAsArrayBuffer(t)}))},p=function(){var t=i()(s.a.mark((function t(e){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e);case 2:return a=t.sent,t.abrupt("return",Object(c.c)(new Uint8Array(a)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(t){return new Promise((function(e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onerror=a,n.onload=function(){if(200===n.status)return e(n.response);a(n)},n.send()}))},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="The given url is not a data url.";if("data:"!==t.substring(0,5))throw new Error(e);var a=t.split(","),n=o()(a,2),r=n[1];if(!r)throw new Error(e);return Object(c.e)(Object(c.h)(r))}},h2qI:function(t,e){var a=window.angular,n="templates/directives/ui/settingsMenu.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class="pm_opensans sidebar sidebarApp-container settingsMenu-container"> <sidebar-mobile-header class=settingsMenu-about-app></sidebar-mobile-header> <div class=sidebarApp-wrapper> <button class="sidebar-btn-back sidebarApp-link" type=button> <i class="sidebarApp-icon fa fa-arrow-left"></i> <span class=sidebarApp-link-inner translate-context="Back button in the contact sidebar" translate>Back to mail</span> </button> <ul class="menu sidebarApp-menu"> <navigation-settings class=sidebarApp-item data-key={{::state}} ng-repeat="state in listStates track by $id(state)"></navigation-settings> <li class="sidebarApp-item settingsMenu-item-donate"><donate-btn></donate-btn></li> </ul> </div> <div class=footer> <app-version class=version></app-version> </div> </section> ')}])}t.exports=n},hMtj:function(t,e){var a=window.angular,n="templates/directives/contact/contactKeyPinning.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=contactKeyPinning-container> <label for=contactKeyPinning class=contactKeyPinning-label translate-context=Label translate>Trusted keys</label> <toggle class=small data-id=contactKeyPinning data-status=keyPinningEnabled data-name=advancedSettings data-type=toggleKeyPinning></toggle> </div> ")}])}t.exports=n},hUBx:function(t,e){!function(){if(!window.__twitterIntentHandler){var t=/twitter\.com\/intent\/(\w+)/,e=screen.height,a=screen.width;document.addEventListener?document.addEventListener("click",n,!1):document.attachEvent&&document.attachEvent("onclick",n),window.__twitterIntentHandler=!0}function n(n){for(var o,r,s=(n=n||window.event).target||n.srcElement;s&&"a"!==s.nodeName.toLowerCase();)s=s.parentNode;s&&"a"===s.nodeName.toLowerCase()&&s.href&&s.href.match(t)&&(o=Math.round(a/2-275),r=0,e>420&&(r=Math.round(e/2-210)),window.open(s.href,"intent","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,left="+o+",top="+r),n.returnValue=!1,n.preventDefault&&n.preventDefault())}}()},hb0j:function(t,e){var a=window.angular,n="templates/contact/removeContactListModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} removeContactListModal-container" role=dialog> <form name=selectorForm novalidate ng-submit=ctrl.submit($event) class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h4 class=modal-title translate-context=Title translate>Do you want to remove contact(s) ?</h4> <p translate-context=Info translate>These emails are also in your contacts. Remove them from your contacts?</p> </header> <div class=modal-body> <div class="pm_table contactSelectorForm-table-wrapper removeContactListModal-table"> <table class=fixedLayout> <thead> <tr> <th scope=col class=checkbox> <custom-checkbox data-custom-ng-model=ctrl.checkAll data-custom-ng-change=ctrl.onSelectAll()></custom-checkbox> </th> <th scope=col translate-context=Header translate>Name</th> <th scope=col translate-context=Header translate>Type</th> <th scope=col translate-context=Header translate>Email</th> </tr> </thead> <tbody data-vs-repeat="{scrollParent: \'.contactSelectorForm-table-wrapper\'}"> <tr ng-repeat="contact in ctrl.list track by contact.ID"> <td class=checkbox> <custom-checkbox data-custom-ng-model=contact.selected></custom-checkbox> </td> <td> <span class=contactSelectorForm-name>{{ ::contact.Name }}</span></td> <td> <span class=contactSelectorForm-name>{{ ::contact.Type.toString() }}</span></td> <td> <span class=contactSelectorForm-email>{{ ::contact.Email }}</span> </td> </tr> </tbody> </table> </div> </div> </div> <footer class="modal-footer text-right"> <button class="pm_button pull-left" ng-click=ctrl.cancel() translate-context=Action translate>Cancel</button> <button class="pm_button primary" translate-context=Action translate>Ok</button> </footer> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},hiv9:function(t,e){var a=window.angular,n="templates/modals/reactivate.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit=ctrl.submit()> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Reactivate key pair</h4> </div> <div class="modal-body pm_form"> <p translate-context=Title translate>Enter your login password:</p> <input type=password ng-model=ctrl.loginPassword placeholder-translate-context=Placeholder placeholder-translate="Login password"/> <p translate-context=Title translate>Enter the key password:</p> <input type=password ng-model=ctrl.keyPassword placeholder-translate-context=Placeholder placeholder-translate="Key password"/> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=button class="pm_button primary modal-footer-button" ng-click=ctrl.submit() translate translate-context=Action>Submit</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},hvI2:function(t,e){var a=window.angular,n="templates/message/trustPublicKeyTable.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form name=trustForm> <div class=pm_table> <table> <thead> <tr> <th scope=col style=padding-left:2rem translate-context=Title translate>Address</th> <th scope=col> <span translate-context=Title translate>Use for encryption</span> <i class="fa fa-info-circle" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Using this key for encryption will encrypt outgoing messages\n                       to this address with this key and set this key as the primary PGP key for this address."></i> </th> </tr> </thead> <tbody> <tr ng-repeat="row in addresses"> <td> <input type=email ng-model=row.adr id=publicKeyAddress{{$index}} name=publicKeyAddress{{$index}} ng-class="{ empty: !row.adr }"> <div class=trust-address-validation ng-messages="trustForm[\'publicKeyAddress\'+$index].$error" role=alert> <div class=ng-messages-errors> <p ng-message=email class=text-red translate-context=Error translate>Invalid email</p> </div> </div> </td> <td> <toggle ng-if="row.adr && !row.expired" class=small data-status=row.encrypt></toggle> <toggle ng-if="row.adr && row.expired" class="disabled small" data-status=row.encrypt></toggle> </td> </tr> </tbody> </table> </div> </form> ')}])}t.exports=n},i639:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return c}));var n=a("UfWW"),o=a.n(n),r=function(t,e,a){var n=t.slice(),r=n[e];n.splice(e,1);var s=o()(n,a),l=-1===s?n.length:s;return n.splice(l,0,r),n},s=function(t,e){var a=t.indexOf(e);if(-1===a)return t;var n=t.slice();return n.splice(a,1),n},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?t:[t]},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and";return t.length<=1?t.join(""):"".concat(t.slice(0,-1).join(", ")," ").concat(e," ").concat(t.slice(-1))},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return a.map((function(a){var n=e.find((function(e){return e[t]===a[t]}));return n?Object.assign(n,a):a}))}},i8y8:function(t,e){var a=window.angular,n="templates/directives/ui/protonmailLogo.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<a href=# ui-sref=secured.inbox class="protonmailLogo-container logo"></a> ')}])}t.exports=n},iZQZ:function(t,e){var a=window.angular,n="templates/views/outside.reply.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=outsideMessageWrap ng-if=message> <div class=message-head> <h1> <span class=attachment ng-show="message.Attachments.length > 0"> <i class="fa fa-paperclip"></i> </span> {{ message.Subject }} </h1> <div class=pull-right> <span ng-bind-html=ago></span> </div> <ul class=infos> <li> <strong translate-context=Title translate>From</strong>: <b>{{ message.Recipient }}</b> </li> <li> <strong translate-context=Title translate>To</strong>: <b>{{message.Sender.Name}}</b> <em>&lt;{{ message.Sender.Address }}&gt;</em> </li> </ul> </div> <composer-outside></composer-outside> <p class="alert alert-danger clearfix" role=alert ng-if=message.failedDecryption> <strong translate-context=Error translate>Decryption error</strong><br/> <span translate-context=Error translate>Decryption of this message\'s encryption content failed.</span> </p> <list-attachments data-model=message></list-attachments> <footer class=text-right> <button class="pm_button pull-left disabled-if-network-activity" ng-click=cancel() translate-context=Action translate>Cancel</button> <button class="pm_button needsclick disabled-if-network-activity" data-action-compose=::message data-action-compose-type=addFile pt-tooltip-translate-context=Tooltip pt-tooltip-translate=Attachments><i class="fa fa-paperclip"></i> </button> <button class="pm_button primary disabled-if-network-activity" ng-click=send() translate-context=Action translate>Send</button> </footer> </div> ')}])}t.exports=n},ifJH:function(t,e){var a=window.angular,n="templates/directives/composer/composerAttachmentsSize.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<strong class=composerAttachmentsSize-container></strong> ")}])}t.exports=n},inGH:function(t,e){var a=window.angular,n="templates/squire/squireSelectFontFamily.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=squireSelectFontFamily-container data-squire-dropdown> <div class=squireToolbar-select-view> <button type=button class="squireDropdown-item-label squireToolbar-action-fontFamily" data-squire-actions=changeFontFamily pt-tooltip-translate-context=Action pt-tooltip-translate="Change font"> <span class=value>Arial</span> <i class="fa fa-angle-down"></i> </button> </div> <ul class="squireToolbar-select-list squireToolbar-font-family" data-squire-actions=setFontFace data-squire-ignore=true> <li class=squireToolbar-select-item data-value=georgia>Georgia</li> <li class=squireToolbar-select-item data-value=arial>Arial</li> <li class=squireToolbar-select-item data-value=helvetica>Helvetica</li> <li class=squireToolbar-select-item data-value="menlo, consolas, courier new, monospace">Monospace</li> <li class=squireToolbar-select-item data-value="tahoma, sans-serif">Tahoma</li> <li class=squireToolbar-select-item data-value=verdana>Verdana</li> <li class=squireToolbar-select-item data-value="times new roman">Times New Roman</li> <li class=squireToolbar-select-item data-value="trebuchet ms">Trebuchet MS</li> </ul> </div> ')}])}t.exports=n},izcq:function(t,e){var a=window.angular,n="templates/contact/contactDisplay.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactDisplay> <div class=contactDisplay-item-group ng-repeat="property in ::properties track by property.field"> <div class=contactDisplay-item ng-repeat="value in ::property.items" data-field="{{ ::property.field }}" data-key="{{ ::value.key }}" data-group="{{ ::value.group }}"> <label class=contactDisplay-item-label> <i class=fa ng-class=::value.icon></i>{{ ::value.label }} </label> <span class=contactDisplay-item-value>{{ ::value.value }}</span> <img ng-if="value.key === \'photo\'" class=contactDisplay-item-image ng-src="{{ ::value.value }}" alt=Photo> </div> </div> </div> ')}])}t.exports=n},j3j4:function(t,e){var a=window.angular,n="templates/views/account.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class=settings> <div class="row pm_grid"> <section class="pm_form col-1-2"> <header-block class=settingsAccount-header-identity> <h2 class=settingsAccount-title-identity translate translate-comment="Account page heading" translate-context=Title>Identity</h2> </header-block> <identity-section></identity-section> </section> <section class="pm_form col-1-2"> <header-block class=settingsAccount-header-notifications> <h2 class=settingsAccount-title-notifications translate translate-comment="notifications heading on account page" translate-context=Title>Notifications</h2> </header-block> <form method=post class=margin-bottom ng-submit="noticeForm.$valid && saveNotification(noticeForm)" name=noticeForm novalidate> <div> <div class=col-3-8> <label for=notificationEmail translate-context=Title translate translate-comment="form label for setting reset email">Reset/notification email</label> </div> <div class=col-5-8> <input class=margin type=email autocomplete=off id=notificationEmail name=notificationEmail placeholder-translate-context=Placeholder placeholder-translate="Notification email" ng-model=notificationEmail /> <div ng-messages=noticeForm.notificationEmail.$error> <p class=text-red ng-message=email translate-context=Error translate>The email address is invalid</p> </div> <p class=help-block translate-context=Info translate>Also used to reset a forgotten password.</p> </div> </div> <div class=clearfix> <div class="col-3-8 notMobile">&nbsp;</div> <div class=col-5-8> <button class="pm_button primary disabled-if-network-activity" type=submit translate-context=Action translate>Save</button> </div> </div> </form> <div class=clearfix> <div class=col-3-8> <span class=label id=passwordResetDescAria translate-context=Title translate translate-comment="form label for enabling/disabling reset email">Allow password reset</span> </div> <div class=col-5-8> <div class=col-1-2> <label> <custom-radio data-custom-ng-model=passwordReset data-custom-ng-value=1 data-custom-ng-change=savePasswordReset() data-custom-aria-describedby=passwordResetDescAria></custom-radio> <span translate-context=Action translate>Enabled</span> </label> </div> <div class=col-1-2> <label> <custom-radio data-custom-ng-model=passwordReset data-custom-ng-value=0 data-custom-ng-change=savePasswordReset() data-custom-aria-describedby=passwordResetDescAria></custom-radio> <span translate-context=Action translate>Disabled</span> </label> </div> </div> </div> <div class="clearfix notMobile">&nbsp;</div> <div class=clearfix> <div class=col-3-8> <span class=label> <span translate-context=Title translate translate-comment="form heading for changing notification settings" id=dailyNotificationsDescAria>Daily email notifications</span> <i class="fa fa-info-circle text-purple" pt-tooltip-translate="When notifications are enabled, we\'ll send an alert to your recovery/notification address if you have new messages in your ProtonMail account." pt-tooltip-translate-context="Tooltip to explain daily email notifications"></i> </span> </div> <div class=col-5-8> <div class=col-1-2> <label> <custom-radio data-custom-ng-model=dailyNotifications data-custom-name=dailyNotifications data-custom-ng-value=1 data-custom-ng-change=saveDailyNotifications() data-custom-aria-describedby=dailyNotificationsDescAria></custom-radio> <span translate-context=Action translate translate-comment="notification settings option">Enabled</span> </label> </div> <div class=col-1-2> <label> <custom-radio data-custom-ng-model=dailyNotifications data-custom-name=dailyNotifications data-custom-ng-value=0 data-custom-ng-change=saveDailyNotifications() data-custom-aria-describedby=dailyNotificationsDescAria></custom-radio> <span translate-context=Action translate translate-comment="notification settings option">Disabled</span> </label> </div> <p> <a href=https://protonmail.com/blog/notification-emails/ target=_blank class="pm_button link" translate-context=Link translate>Learn more</a> </p> </div> </div> <div class="clearfix notMobile">&nbsp;</div> <div class=clearfix> <div class="col-3-8 margin-top"> <label translate-context=Title translate translate-comment="form heading for changing desktop notifications">Desktop notifications</label> </div> <div class=col-5-8> <p class="alert alert-info no-margin" ng-show="desktopNotificationsStatus === \'granted\'"> <span translate translate-context=Info>Desktop notifications are currently <strong>enabled</strong>. </span> <br/> <a href=# ng-click=testDesktopNotification() translate translate-context=Action>Test notification</a> </p> <p class="alert alert-info no-margin" ng-show="desktopNotificationsStatus === \'denied\'" translate translate-context=Info>Desktop notifications are currently <strong>disabled</strong>. To enable them, you need to go to your browser settings.</p> <p class="alert alert-info" ng-show="desktopNotificationsStatus === \'default\'"><span translate-context="To enable desktop notifications, click here" translate>To enable desktop notifications,</span> <a href=# ng-click=enableDesktopNotifications() translate translate-context=Action>click here</a>.</p> <p> <a href=https://protonmail.com/support/knowledge-base/desktop-notifications/ target=_blank class="pm_button link" translation-comment="link to learn more about desktop notifications" translate-context=Action translate>What is this?</a> </p> </div> </div> </section> </div> <div class="row pm_grid"> <section class="pm_form col-1-2" ng-show="passwordMode === 2"> <header-block class=settingsAccount-header-login> <h2 class=settingsAccount-title-login translate translate-comment="change login password heading" translate-context=Title>Login password</h2> </header-block> <p> <button type=button class=pm_button ng-click="changePassword(\'login\', 0)" translate-context=Action translate>Change login password</button> </p> <p> <button type=button ng-click="changePassword(\'password\', 0)" class=pm_button translate-context=Action translate>Switch to one-password mode</button> <a href=https://protonmail.com/support/knowledge-base/single-password/ target=_blank class="pm_button link" translate-context=Link translate>Learn more</a> </p> </section> <section class="pm_form col-1-2" ng-show="passwordMode === 2"> <header-block class=settingsAccount-header-mailbox> <h2 class=settingsAccount-title-mailbox translate translate-comment="form heading for changing mailbox password" translate-context=Title>Mailbox password</h2> </header-block> <p> <button type=button class=pm_button ng-click="changePassword(\'mailbox\', 0)" translate-context=Action translate>Change mailbox password</button> </p> </section> <section class="pm_form col-1-2" ng-show="passwordMode === 1"> <header-block class=settingsAccount-header-password> <h2 class=settingsAccount-title-password translate translate-comment="form heading for changing single password" translate-context=Title>Password</h2> </header-block> <p> <button type=button class=pm_button ng-click="changePassword(\'password\', 0)" translate-context=Action translate>Change password</button> </p> <p> <button type=button ng-click="changePassword(\'login\', 1)" class=pm_button translate-context=Action translate-comment="switch to two-password mode" translate>Switch to two-password mode</button> <a href=https://protonmail.com/support/knowledge-base/single-password/ target=_blank class="pm_button link" translate-context=Link translate>Learn more</a> </p> </section> </div> <div class="row pm_grid"> <section class="pm_form col-1-2 onmobile-mb-30p"> <header-block class=settingsAccount-header-language> <h2 class=settingsAccount-title-language translate translate-context=Title>Language</h2> </header-block> <label for=selectDefaultLanguage translate translate-comment="form option" translate-context=Title>Choose your default language.</label> <span class="pm_select inline"> <select id=selectDefaultLanguage ng-model=locale ng-options="locale.label for locale in locales" ng-change=saveDefaultLanguage()></select> <i class="fa fa-angle-down"></i> </span> </section> <section class="pm_form col-1-2"> <header-block class=settingsAccount-header-contacts> <h2 class=settingsAccount-title-contacts translate translate-comment="Section heading" translate-context=Title>Automatically save contacts</h2> </header-block> <div class=clearfix> <div class=col-3-8> <span class=label id=autosaveContactsDescAria translate-context=Title translate-comment="Settings/Account page form heading for enabling or disabling autosave contacts" translate>Automatically save contacts</span> </div> <div class=col-5-8> <div class=col-1-2> <label> <custom-radio data-custom-ng-model=autosaveContacts data-custom-ng-value=1 data-custom-ng-change=saveAutosaveContacts() data-custom-aria-describedby=autosaveContactsDescAria></custom-radio> <span translate translate-context="Address state badge" translate-comment="form option">Enabled</span> </label> </div> <div class=col-1-2> <label> <custom-radio data-custom-ng-model=autosaveContacts data-custom-ng-value=0 data-custom-ng-change=saveAutosaveContacts() data-custom-aria-describedby=autosaveContactsDescAria></custom-radio> <span translate translate-context="Address state badge" translate-comment="form option">Disabled</span> </label> </div> <p> <a href=https://protonmail.com/support/knowledge-base/autosave-contact-list target=_blank class="pm_button link" translate-context=Link translate>Learn more</a> </p> </div> </div> </section> </div> <div class="row pm_grid"> <section class="pm_form col-1-2"> <header-block class=settingsAccount-header-email> <h2 class=settingsAccount-title-email translate translate-context=Title>Email Content</h2> </header-block> <div class=clearfix> <div class=col-3-8> <span id=saveImagesDescAria class="control-label label" translate-context=Title translate>Load remote content</span> </div> <div class=col-5-8> <div class=col-1-2> <label> <custom-radio data-custom-ng-change=saveImages() data-custom-ng-model=images data-custom-ng-value=1 data-custom-aria-describedby=saveImagesDescAria></custom-radio> <span translate-comment="form option" translate-context=Action translate>Auto</span> </label> </div> <div class=col-1-2> <label> <custom-radio data-custom-ng-change=saveImages() data-custom-ng-model=images data-custom-ng-value=0 data-custom-aria-describedby=saveImagesDescAria></custom-radio> <span translate-comment="form option" translate-context=Action translate>Manual</span> </label> </div> <p> <a target=_blank href=https://protonmail.com/support/knowledge-base/images-by-default/ class="pm_button link" translate-context=Link translate>Learn more</a> </p> </div> </div> <div class=clearfix> <div class=col-3-8> <span id=saveEmbeddedDescAria class="control-label label" translate-context=Title translate>Load embedded images</span> </div> <div class=col-5-8> <div class=col-1-2> <label> <custom-radio data-custom-ng-change=saveEmbedded() data-custom-ng-model=embedded data-custom-ng-value=2 data-custom-aria-describedby=saveEmbeddedDescAria></custom-radio> <span translate-comment="form option" translate-context=Action translate>Auto</span> </label> </div> <div class=col-1-2> <label> <custom-radio data-custom-ng-change=saveEmbedded() data-custom-ng-model=embedded data-custom-ng-value=0 data-custom-aria-describedby=saveEmbeddedDescAria></custom-radio> <span translate-comment="form option" translate-context=Action translate>Manual</span> </label> </div> </div> </div> <div class=clearfix> <div class=col-3-8> <span id=saveRequestLinkDescAria class="control-label label" translate-context=Title translate>Request link confirmation</span> </div> <div class=col-5-8> <div class=col-1-2> <label> <custom-radio data-custom-ng-change=saveRequestLink() data-custom-ng-model=requestLink data-custom-ng-value=0 data-custom-aria-describedby=saveRequestLinkDescAria></custom-radio> <span translate-comment="form option" translate-context=Action translate>Disabled</span> </label> </div> <div class=col-1-2> <label> <custom-radio data-custom-ng-change=saveRequestLink() data-custom-ng-model=requestLink data-custom-ng-value=1 data-custom-aria-describedby=saveRequestLinkDescAria></custom-radio> <span translate-comment="form option" translate-context=Action translate>Enabled</span> </label> </div> </div> </div> </section> <section class="pm_form col-1-2"> <header-block class=settingsAccount-header-keyboard> <h2 class=settingsAccount-title-keyboard translate translate-context=Title>Keyboard Shortcuts</h2> </header-block> <div class=pm_grid> <div class=col-3-8> <span id=saveHotkeysDescAria class=label translate-context=Title translate>Keyboard Shortcuts</span> </div> <div class=col-5-8> <div class=col-1-2> <label> <custom-radio data-custom-ng-change=saveHotkeys() data-custom-ng-model=hotkeys data-custom-ng-value=1 data-custom-aria-describedby=saveHotkeysDescAria></custom-radio> <span translate-context=Action translate>Enabled</span> </label> </div> <div class=col-1-2> <label> <custom-radio data-custom-ng-change=saveHotkeys() data-custom-ng-model=hotkeys data-custom-ng-value=0 data-custom-aria-describedby=saveHotkeysDescAria></custom-radio> <span translate-context=Action translate>Disabled</span> </label> </div> </div> </div> <div class=pm_grid> <div class=col-3-8>&nbsp;</div> <div class=col-5-8> <button class=pm_button ng-click=openHotkeyModal() translate translate-context=Action>View Keyboard Shortcuts</button> </div> </div> </section> </div> <div class="row pm_grid"> <section class="pm_form col-1-2 onmobile-mb-30p" id=addressesPrioritySection> <header-block class=settingsAccount-header-addresses-priority> <h2 class=settingsAccount-title-addresses-priority translate translate-context=Title>Address Priority</h2> </header-block> <addresses-section></addresses-section> </section> <section class="settingsAccount-subscriptions-section pm_form col-1-2" ng-if=!isMember> <moz-info></moz-info> <header-block class=settingsAccount-header-subscriptions> <h2 class=settingsAccount-title-subscriptions translate translate-context=Title>Email Subscriptions</h2> </header-block> <label class=settingsAccount-subscriptions-label> <custom-checkbox data-custom-ng-model=emailing.announcements data-custom-ng-change=changeEmailing()></custom-checkbox> <span translate-context=Label translate>Major Announcements (2-3 per year)</span> </label> <label class=settingsAccount-subscriptions-label> <custom-checkbox data-custom-ng-model=emailing.features data-custom-ng-change=changeEmailing()></custom-checkbox> <span translate-context=Label translate>Major New Features (3-4 per year)</span> </label> <label class=settingsAccount-subscriptions-label> <custom-checkbox data-custom-ng-model=emailing.newsletter data-custom-ng-change=changeEmailing()></custom-checkbox> <span translate-context=Label translate>Proton Newsletter (5-6 per year)</span> </label> <label class=settingsAccount-subscriptions-label> <custom-checkbox data-custom-ng-model=emailing.beta data-custom-ng-change=changeEmailing()></custom-checkbox> <span translate-context=Label translate>Proton Beta (~ 10-12 per year)</span> </label> </section> </div> <div class="row pm_grid"> <section class="pm_form col-1-2"> <header-block class=settingsAccount-header-search> <h2 class=settingsAccount-title-search translate translate-comment="Section heading" translate-context=Title>Search</h2> </header-block> <wildcard-checkbox></wildcard-checkbox> </section> <section class="settingsAccount-delete-section pm_form col-1-2" ng-if=!isMember> <moz-info></moz-info> <header-block class=settingsAccount-header-delete> <h2 class=settingsAccount-title-delete translate translate-context=Title>Delete Account</h2> </header-block> <button class="settingsAccount-delete-button pm_button error" ng-click=deleteAccount() translate-context=Action translate>Delete your account</button> </section> </div> </div> </div> ')}])}t.exports=n},j5nk:function(t,e){var a=window.angular,n="templates/blackFriday/blackFridayModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal blackFridayModal {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-body> <black-friday></black-friday> </div> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},jEJy:function(t,e){var a=window.angular,n="templates/domains/domainsMenuStep.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<ul class=\"domainMenu pm_tabs domainsMenuStep-container\"> <li ng-class=\"{ 'active': ctrl.step === 1 }\"> <a class=pm_button ng-class=\"{\n            'dead': ctrl.step === 1,\n            'disabled': !ctrl.domain.DomainName\n        }\" ng-click=\"ctrl.open('domain')\">1.<br><span translate translate-context=Title>Domain</span></a> </li> <li ng-class=\"{ 'active': ctrl.step === 2 }\"> <a class=pm_button ng-class=\"{\n            'dead': ctrl.step === 2,\n            'disabled': !ctrl.domain.DomainName\n        }\" ng-click=\"ctrl.open('verification')\">2.<br><span translate translate-context=Title>Verify</span></a> </li> <li ng-class=\"{ 'active': ctrl.step === 3 }\"> <a class=pm_button ng-class=\"{\n            'dead': ctrl.step === 3,\n            'disabled': ctrl.domain.State === 0 || !ctrl.domain.DomainName\n        }\" ng-click=\"ctrl.open('address')\">3.<br><span translate translate-context=Title>Addresses</span></a> </li> <li ng-class=\"{ 'active': ctrl.step === 4 }\"> <a class=pm_button ng-class=\"{\n            'dead': ctrl.step === 4,\n            'disabled': ctrl.domain.State === 0 || !ctrl.domain.DomainName\n        }\" ng-click=\"ctrl.open('mx')\">4.<br><span>MX</span></a> </li> <li ng-class=\"{ 'active': ctrl.step === 5 }\"> <a class=pm_button ng-class=\"{\n            'dead': ctrl.step === 5,\n            'disabled': ctrl.domain.State === 0 || !ctrl.domain.DomainName\n        }\" ng-click=\"ctrl.open('spf')\">5.<br><span>SPF</span></a> </li> <li ng-class=\"{ 'active': ctrl.step === 6 }\"> <a class=pm_button ng-class=\"{\n            'dead': ctrl.step === 6,\n            'disabled': ctrl.domain.State === 0 || !ctrl.domain.DomainName\n        }\" ng-click=\"ctrl.open('dkim')\">6.<br><span>DKIM</span></a> </li> <li ng-class=\"{ 'active': ctrl.step === 7 }\"> <a class=pm_button ng-class=\"{\n            'dead': ctrl.step === 7,\n            'disabled': ctrl.domain.State === 0 || !ctrl.domain.DomainName\n        }\" ng-click=\"ctrl.open('dmarc')\">7.<br><span>DMARC</span></a> </li> </ul> ")}])}t.exports=n},jOGx:function(t,e){var a=window.angular,n="templates/contact/autocompleteContacts.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class="autocompleteContacts-container ng-message-wrapper" novalidate> <div class="autocompleteContacts-field autocomplete-container"> <input id=autocomplete name=autocomplete autofocus autocomplete=off spellcheck=false autocapitalize=off class=autocompleteContacts-input> </div> <ul class=autocompleteContacts-autocomplete></ul> <div role=alert class="text-red labelNameInput-errors"> <p ng-if=email.doesNotExist translate-context=Error translate>No email address found.</p> </div> </form> ')}])}t.exports=n},jcfH:function(t,e){var a=window.angular,n="templates/notifications/cross.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=\"proton-notification-template cg-notify-message\" ng-class=\"[$classes,\n        $position === 'center' ? 'cg-notify-message-center' : '',\n        $position === 'left' ? 'cg-notify-message-left' : '',\n        $position === 'right' ? 'cg-notify-message-right' : '']\" ng-style=\"{'margin-left': $centerMargin}\" role=alert> <div class=cg-notify-message-content ng-show=!$messageTemplate ng-bind-html=$message></div> <div ng-show=$messageTemplate class=cg-notify-message-template></div> <a class=cg-notify-text-muted ng-click=$close()><i class=\"fa fa-times\"></i></a> </div> ")}])}t.exports=n},jg9G:function(t,e){var a=window.angular,n="templates/modals/pay.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal payInvoiceModal-container small {{ctrl.class}}" role=dialog style=display:block> <form class="modal-dialog payInvoiceModal-form" novalidate ng-class="{\n            \'payInvoiceModal-method-card\': ctrl.method.value === \'use.card\',\n            \'payInvoiceModal-method-paypal\': ctrl.method.value === \'paypal\',\n            \'payInvoiceModal-method-bitcoin\': ctrl.method.value === \'bitcoin\',\n            \'payInvoiceModal-method-newcard\': ctrl.method.value === \'card\',\n            \'payInvoiceModal-method-cash\': ctrl.method.value === \'cash\'\n        }" ng-submit="payForm.$valid && ctrl.submit()" name=payForm> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Pay invoice</h4> </div> <div class="modal-body pm_form"> <div class=pm_table> <table> <tbody> <tr> <th scope=row style=width:8rem translate translate-context=Title>Amount</th> <td class=text-right>{{ ctrl.checkInvoice.Amount / 100 | currency: ctrl.checkInvoice.Currency }}</td> </tr> <tr ng-if="ctrl.checkInvoice.Credit !== 0"> <th scope=row translate translate-context=Title>Credit</th> <td class=text-right>{{ ctrl.checkInvoice.Credit / 100 | currency: ctrl.checkInvoice.Currency }}</td> </tr> <tr> <th scope=row translate translate-context=Title>Amount due</th> <td class=text-right>{{ ctrl.checkInvoice.AmountDue / 100 | currency: ctrl.checkInvoice.Currency }}</td> </tr> </tbody> </table> </div> <div ng-if="ctrl.checkInvoice.AmountDue > 0"> <p class="alert alert-info" ng-show="ctrl.methods.length === 0" translate translate-context=Info>You need to add a credit card if you want to pay your invoice.</p> <div class="margin pm_grid"> <div class=col-1-2> <label for=paymentMethod translate translate-context=Title translate-comment="form label">Select payment method:</label> </div> <div class=col-1-2> <div class=pm_select> <select id=paymentMethod ng-model=ctrl.method ng-options="method.label for method in ctrl.methods"></select> <i class="fa fa-angle-down"></i> </div> </div> </div> <card-view data-card=ctrl.card ng-if="ctrl.method.value === \'card\'" data-form=payForm></card-view> <paypal-view ng-if="ctrl.method.value === \'paypal\'" data-type=invoice data-amount=ctrl.checkInvoice.AmountDue data-currency=ctrl.checkInvoice.Currency data-callback=ctrl.paypalCallback></paypal-view> <bitcoin-view data-type=invoice ng-if="ctrl.method.value === \'bitcoin\'" data-currency=ctrl.checkInvoice.Currency data-amount=ctrl.checkInvoice.AmountDue></bitcoin-view> <p ng-if="ctrl.method.value === \'cash\'" class="alert alert-info" translate-context=Info translate>To pay via Cash, please email us at <strong>contact@protonmail.com</strong> for instructions.</p> </div> </div> </div> <div class="modal-footer payInvoiceModal-group-btn"> <button type=button class="pm_button modal-footer-button payInvoiceModal-btn-cancel" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=button class="pm_button modal-footer-button payInvoiceModal-btn-close" ng-click=ctrl.cancel() translate translate-context=Action>Close</button> <button type=submit class="pm_button primary modal-footer-button payInvoiceModal-btn-submit" ng-disabled="ctrl.process === true" translate translate-context=Info>Submit</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},jt1s:function(t,e){var a=window.angular,n="templates/directives/composer/composerAttachments.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="composerAttachments-container composerAttachments-close"> <button type=button class=composerAttachments-header> <composer-attachments-size class=composerAttachments-size></composer-attachments-size> <span class=composerAttachments-counter-attachments ng-show="message.Attachments.length > message.NumEmbedded"> <i class="fa fa-paperclip"></i> {{ message.Attachments.length - message.NumEmbedded }} <span translate translate-n="message.Attachments.length - message.NumEmbedded" translate-plural="files attached" translate-context=Info>file attached</span> </span> <span class=composerAttachments-counter-embedded ng-show="message.NumEmbedded > 0"> <i class="fa fa-image embedded"></i> {{ message.NumEmbedded }} <span translate translate-n=message.NumEmbedded translate-plural="embedded images" translate-context=Info>embedded image</span> </span> <span class=composerAttachments-action> <i>{{ labelHeader }}</i> </span> </button> <div class=composerAttachments-loaders> <composer-attachments-item ng-repeat="attachment in list track by attachment.id" class="composerAttachments-loader uploading"> </composer-attachments-item> </div> </div> ')}])}t.exports=n},k21V:function(t,e){var a=window.angular,n="templates/members/restoreAdministratorPanel.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<p class="alert alert-danger"> <span translate-context="Restore administrator panel" translate>Due to a password change, your organization administrator privileges have been restricted. The following actions are no longer permitted:</span><br/> <br/> <span translate-context="Restore administrator panel" translate>* Creating new sub-users</span><br/> <span translate-context="Restore administrator panel" translate>* Reading emails of non-private subusers</span><br/> </p> <p> <button class=pm_button type=button translate-context=Action translate>Restore administrator privileges</button> <a href=https://protonmail.com/support/knowledge-base/business/ target=_blank class="pm_button link" translate-context=Link translate>Learn more</a> </p> ')}])}t.exports=n},k2fX:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return s}));var n={TYPE3_CONTACT_VERIFICATION:3,TYPE3_CONTACT_DECRYPTION:2,TYPE2_CONTACT_VERIFICATION:1,TYPE1_CONTACT:0},o={ABORTED:-1,TIMEOUT:0,TOO_MANY_REQUESTS:429},r={ALREADY_EXISTS:2500,EMAIL_FORMAT:2050,APP_VERSION_BAD:5003,API_VERSION_INVALID:5004,API_VERSION_BAD:5005,API_OFFLINE:7001,PASSWORD_WRONG:8002,HUMAN_VERIFICATION_REQUIRED:9001,AUTH_AUTH_ACCOUNT_DISABLED:10003,AUTH_REFRESH_TOKEN_INVALID:10013,AUTH_COOKIES_REFRESH_INVALID:10021,USER_CREATE_TOKEN_INVALID:12087,MESSAGE_VALIDATE_KEY_ID_NOT_ASSOCIATED:15213,EVENTS_ID_INVALID:18001,PAYMENTS_PAYPAL_CONNECTION_EXCEPTION:22802,FILTER_CREATE_TOO_MANY_ACTIVE:50016,MESSAGE_SEARCH_QUERY_SYNTAX:15225,MESSAGE_UPDATE_DRAFT_NOT_EXIST:15033,MESSAGE_UPDATE_DRAFT_NOT_DRAFT:15034,KEY_GET_INPUT_INVALID:33101,KEY_GET_ADDRESS_MISSING:33102,KEY_GET_DOMAIN_MISSING_MX:33103,INCOMING_DEFAULT_UPDATE_NOT_EXIST:35023},s={MAIL:1,CONTACTS:2}},k6gy:function(t,e){var a=window.angular,n="templates/modals/hotkey.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Hotkeys</h4> </div> <div class=modal-body> <details class=modal-details open> <summary class=modal-summary translate translate-context=Title>General</summary> <div class="pm_grid modal-content-details"> <div class=col-1-2> <legend class=bold translate translate-context=Title>Application</legend> <p translate translate-context=Info><kbd>?</kbd> Opens the <strong>help modal</strong>.</p> <p translate translate-context=Info><kbd>/</kbd> Focus the <strong>search input</strong>.</p> <p translate translate-context=Info><kbd>enter</kbd> Confirms <strong>the active modal</strong>.</p> <p translate translate-context=Info><kbd>escape</kbd> Closes <strong>the active modal</strong>.</p> <p translate translate-context=Info><kbd>shift</kbd> + <kbd>space</kbd> Opens <strong>the command palette</strong>.</p> </div> <div class=col-1-2> <legend class=bold translate translate-context=Title>Composer</legend> <p translate translate-context=Info><kbd>c</kbd> Opens a new <strong>composer</strong>.</p> <p translate translate-context=Info ng-hide=ctrl.isMac><kbd>ctrl</kbd> + <kbd>enter</kbd> <strong>Sends</strong> the message.</p> <p translate translate-context=Info ng-show=ctrl.isMac><kbd>command</kbd> + <kbd>enter</kbd> <strong>Sends</strong> the message.</p> <p translate translate-context=Info ng-hide=ctrl.isMac><kbd>ctrl</kbd> + <kbd>s</kbd> <strong>Saves</strong> the message.</p> <p translate translate-context=Info ng-show=ctrl.isMac><kbd>command</kbd> + <kbd>s</kbd> <strong>Saves</strong> the message.</p> <p translate translate-context=Info><kbd>escape</kbd> Closes the active <strong>composer</strong>.</p> </div> </div> </details> <details class=modal-details> <summary class=modal-summary translate translate-context=Title>Mail</summary> <div class="pm_grid modal-content-details"> <div class=col-1-2> <legend class=bold translate translate-context=Title>Jumping</legend> <p translate translate-context=Info><kbd>g</kbd> then <kbd>i</kbd> Goes to <strong>inbox</strong>.</p> <p translate translate-context=Info><kbd>g</kbd> then <kbd>d</kbd> Goes to <strong>drafts</strong>.</p> <p translate translate-context=Info><kbd>g</kbd> then <kbd>s</kbd> Goes to <strong>sent</strong>.</p> <p translate translate-context=Info><kbd>g</kbd> then <kbd>.</kbd> Goes to <strong>starred</strong>.</p> <p translate translate-context=Info><kbd>g</kbd> then <kbd>a</kbd> Goes to <strong>archive</strong>.</p> <p translate translate-context=Info><kbd>g</kbd> then <kbd>x</kbd> Goes to <strong>spam</strong>.</p> <p translate translate-context=Info><kbd>g</kbd> then <kbd>t</kbd> Goes to <strong>trash</strong>.</p> </div> <div class=col-1-2> <legend class=bold translate translate-context=Title>Navigation</legend> <p translate translate-context=Info><kbd><i class="fa fa-long-arrow-up"></i></kbd> Marks the <strong>previous</strong> message/conversation.</p> <p translate translate-context=Info><kbd><i class="fa fa-long-arrow-down"></i></kbd> Marks the <strong>next</strong> message/conversation.</p> <p translate translate-context=Info><kbd><i class="fa fa-long-arrow-left"></i></kbd> Marks the last message.</p> <p translate translate-context=Info><kbd><i class="fa fa-long-arrow-right"></i></kbd> Unmarks the message.</p> <p translate translate-context=Info><kbd>k</kbd> Displays the <strong>newer</strong> conversation.</p> <p translate translate-context=Info><kbd>j</kbd> Displays the <strong>older</strong> conversation.</p> <p translate translate-context=Info><kbd>enter</kbd> Opens the <strong>marked</strong> message/conversation.</p> <p translate translate-context=Info><kbd>escape</kbd> Back to the list.</p> </div> </div> <div class="pm_grid modal-content-details"> <div class=col-1-2> <legend class=bold translate translate-context=Title>Threadlist</legend> <p translate translate-context=Info><kbd>*</kbd> then <kbd>a</kbd> <strong>Select all</strong> conversations.</p> <p translate translate-context=Info><kbd>*</kbd> then <kbd>n</kbd> <strong>Unselect all</strong> conversations.</p> <p translate translate-context=Info><kbd>x</kbd> Selects the message/conversation marked.</p> <p translate translate-context=Info><kbd>r</kbd> Marks the message/conversation as <strong>read</strong>.</p> <p translate translate-context=Info><kbd>u</kbd> Marks the message/conversation as <strong>unread</strong>.</p> <p translate translate-context=Info><kbd>.</kbd> Marks or unmarks the message/conversation as <strong>starred</strong>.</p> <p translate translate-context=Info><kbd>i</kbd> Moves the message/conversation to <strong>inbox</strong>.</p> <p translate translate-context=Info><kbd>t</kbd> Moves the message/conversation to <strong>trash</strong>.</p> <p translate translate-context=Info><kbd>a</kbd> Moves the message/conversation to <strong>archive</strong>.</p> <p translate translate-context=Info><kbd>s</kbd> Moves the message/conversation to <strong>spam</strong>.</p> </div> <div class=col-1-2> <legend class=bold translate translate-context=Title>Actions</legend> <p translate translate-context=Info><kbd>shift</kbd> + <kbd>r</kbd> Reply to a message/conversation.</p> <p translate translate-context=Info><kbd>shift</kbd> + <kbd>a</kbd> Reply to all recipients for a message/conversation.</p> <p translate translate-context=Info><kbd>shift</kbd> + <kbd>f</kbd> Forward a message/conversation.</p> </div> </div> </details> <details class=modal-details> <summary class=modal-summary translate translate-context=Title>Contacts</summary> <div class="pm_grid modal-content-details"> <div class=col-1-2> <legend class=bold translate translate-context=Title>Contact List</legend> <p translate translate-context=Info><kbd><i class="fa fa-long-arrow-up"></i></kbd> + <kbd><i class="fa fa-long-arrow-down"></i></kbd> <strong>Moving</strong> between contacts.</p> <p translate translate-context=Info><kbd><i class="fa fa-long-arrow-right"></i></kbd> <strong>To enter</strong> contact details.</p> <p translate translate-context=Info><kbd>t</kbd> <strong>To delete</strong> contact.</p> </div> <div class=col-1-2> <legend class=bold translate translate-context=Title>Contact Details</legend> <p translate translate-context=Info><kbd><i class="fa fa-long-arrow-left"></i></kbd> <strong>Exits</strong> contact details.</p> <p translate translate-context=Info><kbd>TAB</kbd> <strong>Navigates</strong> between fields.</p> <p translate translate-context=Info><kbd>command</kbd> + <kbd>s</kbd> <strong>Saves</strong> the contact.</p> </div> </div> </details> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.close() translate translate-context=Action>Close</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},k6kZ:function(t,e){var a=window.angular,n="templates/user/signupHumanForm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<form name=humanVerificationStepForm novalidate class=pm_form> <human-verification data-verificator=verificator data-model=account></human-verification> </form> ")}])}t.exports=n},kOnj:function(t,e){var a=window.angular,n="templates/contact/contactModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog> <div class=modal-dialog name=contactModal> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title ng-if=!ctrl.contact.ID translate-context="Contact modal title" translate>Add contact</h4> <h4 class=modal-title ng-if=ctrl.contact.ID translate-context="Contact modal title" translate>Edit contact</h4> </div> <div class=modal-body> <contact-details data-contact=ctrl.contact data-modal=true></contact-details> </div> </div> <div class=modal-footer> <button id=cancelModalBtn class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate-context=Action translate>Cancel</button> <button id=confirmModalBtn class="pm_button primary modal-footer-button disabled-if-network-activity" tabindex=1 ng-click=ctrl.submit() translate-context=Action translate>Save</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},kWmj:function(t,e){var a=window.angular,n="templates/ui/chooseLayoutBtns.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_buttons layout chooseLayoutBtns-container"> <a role=button tabindex=0 class=chooseLayoutBtns-btn-column pt-tooltip-translate="Change layout" pt-tooltip-translate-context=Action data-action=columns> <img src=/assets/img/columnview.svg alt=""/> <span class=sr-only translate-context=Action translate>Change layout (columns)</span> </a> <a role=button tabindex=0 class=chooseLayoutBtns-btn-rows pt-tooltip-translate="Change layout" pt-tooltip-translate-context=Action data-action=rows> <img src=/assets/img/rowview.svg alt=""/> <span class=sr-only translate-context=Action translate>Change layout (rows)</span> </a> </div> ')}])}t.exports=n},kdWj:function(t,e){var a=window.angular,n="templates/message/messageContacts.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=messageContacts-container> <span class=messageContacts-where></span> <ul class=messageContacts-list> <li class=messageContacts-list-item ng-repeat="email in model track by $id(email)"> <div class=messageContacts-name-email title="{{ ::email | contact:\'Raw\'}}"> <span class="messageContacts-name ellipsis">{{ ::email | contact:\'Name\' }}</span> <em class="messageContacts-email ellipsis">{{ ::email | contact:\'Address\' }}</em> </div> <div class=messageContacts-message-address-wrapper> <message-address-actions data-email=email data-message-id=messageId></message-address-actions> <message-contacts-icon></message-contacts-icon> </div> </li> </ul> </div> ')}])}t.exports=n},"l+j8":function(t,e){var a=window.angular,n="templates/payment/giftCodeBtn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button type=button class=giftCodeBtn-container> <i class="giftCodeBtn-icon fa fa-gift"></i> <span class=giftCodeBtn-text translate-context=Action translate>Use gift code</span> </button>')}])}t.exports=n},lFrY:function(t,e,a){"use strict";a.r(e),a.d(e,"purifyHTMLHooks",(function(){return h})),a.d(e,"message",(function(){return w})),a.d(e,"html",(function(){return x})),a.d(e,"protonizer",(function(){return k})),a.d(e,"content",(function(){return A})),a.d(e,"input",(function(){return S})),a.d(e,"toTagUnicode",(function(){return P}));var n=a("lSNA"),o=a.n(n),r=a("Te9D"),s=a.n(r),l=a("wMS7"),i=a.n(l),c=a("tutT");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p=new RegExp("((url)(\\(|&(#40|#x00028|lpar);))","gi"),m=["data-src","src","srcset","background","poster","xlink:href"].reduce((function(t,e){return t.LIST_PROTON_ATTR.push("proton-".concat(e)),t.MAP_PROTON_ATTR[e]=!0,t}),{LIST_PROTON_ATTR:[],MAP_PROTON_ATTR:Object.create(null)}),f=m.LIST_PROTON_ATTR,g=m.MAP_PROTON_ATTR,v={default:{ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|blob|xmpp|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ADD_TAGS:["proton-src","base","proton-svg"],ADD_ATTR:["target","proton-src"],FORBID_TAGS:["style","input","form"],FORBID_ATTR:["srcset"]},raw:{WHOLE_DOCUMENT:!0,RETURN_DOM:!0},html:{WHOLE_DOCUMENT:!1,RETURN_DOM:!0},protonizer:{FORBID_ATTR:{},ADD_ATTR:["target"].concat(f),WHOLE_DOCUMENT:!0,RETURN_DOM:!0},content:{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0}};function b(t){return 1!==t.nodeType||Array.from(t.attributes).forEach((function(e){var a,n,o,r,l=e.name;if(g[l]&&(t.setAttribute("proton-"+l,t.getAttribute(l)),t.removeAttribute(l)),"style"===l){var i=(a=t.getAttribute("style"),n=Object(c.i)(a),o=n!==a,(r=n.replace(/\\r/g,"r").replace(p,"proton-url("))===n?a:o?s()(r):r);t.setAttribute("style",i)}})),t}var h=function(t){if(t)return i.a.addHook("beforeSanitizeElements",b);i.a.removeHook("beforeSanitizeElements")},y=function(t){var e,a=(e=t,u(u({},v.default),v[e]||{}));return function(e){i.a.clearConfig();var n=i.a.sanitize(e,a);return h(!1),"str"===t?n+"":n}},w=y("str"),x=y("raw"),k=function(t,e){var a=y("protonizer");return h(e),a(t)},A=y("content"),S=function(t){return i.a.sanitize(t)+""},P=c.j},lIYi:function(t,e){var a=window.angular,n="templates/modals/member.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <form class=modal-dialog id=addUserModal name=memberForm ng-submit="memberForm.$valid && ctrl.submit()" novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class="modal-content pm_form"> <div class=modal-header> <h4 class=modal-title ng-if=!ctrl.ID translate-context=Title translate>Create user</h4> <h4 class=modal-title ng-if=ctrl.ID translate-context=Title translate>Update user</h4> </div> <div class=modal-body> <div class=pm_grid> <div class=col-1-3> <label translate translate-context=Label>Name</label> </div> <div class=col-1-3> <input autofocus type=text ng-model=ctrl.name placeholder-translate="ex: Thomas Anderson" placeholder-translate-context="Exemple name for the user" required> </div> <div class=col-1-3 ng-if=!ctrl.ID> <label> <custom-checkbox data-custom-ng-model=ctrl.private></custom-checkbox> <span translate translate-context=Action translate-comment="Form checkbox option">Private</span> <i class="fa fa-info-circle" pt-tooltip-translate-context="Information about this user" pt-tooltip-translate="Organization administrators cannot access the messages of private users."></i> </label> </div> </div> <div class=pm_grid ng-if="ctrl.showKeys && !ctrl.private"> <div class=col-1-3> <label translate translate-context=Label>Key Strength</label> </div> <div class=col-1-3> <label class=checkbox> <custom-radio data-custom-ng-model=ctrl.size data-custom-value=RSA2048></custom-radio> <strong translate translate-context=Label translate-comment="form option heading">High security</strong> <small>(2048-bit)</small> </label> </div> <div class=col-1-3> <label class=checkbox> <custom-radio data-custom-ng-model=ctrl.size data-custom-value=RSA4096 data-custom-ng-disabled=ctrl.process></custom-radio> <strong translate translate-context=Label translate-comment="form option heading">Highest security</strong> <small>(4096-bit)</small> </label> </div> </div> <div class=pm_grid ng-if="!ctrl.ID || ctrl.showKeys"> <div class=col-1-3> <label translate translate-context=Label>Password</label> </div> <div class=col-1-3> <password data-value=ctrl.temporaryPassword data-name=newPassword form=memberForm placeholder-translate-context=Placeholder placeholder-translate=Password></password> </div> <div class=col-1-3> <password data-value=ctrl.confirmPassword data-name=confirmPassword form=memberForm placeholder-translate="Confirm Password" placeholder-translate-context=Placeholder compare=ctrl.temporaryPassword></password> </div> </div> <div class=pm_grid ng-if=ctrl.showAddress> <div class=col-1-3> <label translate translate-context=Label>Address</label> </div> <div class=col-1-3> <input type=text ng-model=ctrl.address placeholder-translate=Address placeholder-translate-context=Tooltip required/> </div> <div class=col-1-3 ng-if="ctrl.domains.length === 1"> <label>@{{ ctrl.domain.DomainName }}</label> </div> <div class=col-1-3 ng-if="ctrl.domains.length > 1"> <span class=pm_select> <select ng-model=ctrl.domain ng-options="\'@\'+domain.DomainName for domain in ctrl.domains"></select> <i class="fa fa-angle-down"></i> </span> </div> </div> <div class="pm_grid padding-top"> <div class=col-1-3> <label translate translate-context=Label>Account storage</label> </div> <div class=col-2-3> <label class=bold>{{ ctrl.storageSliderValue * ctrl.unit | humanSize }}</label> <slider value=ctrl.storageSliderValue options=ctrl.storageSliderOptions></slider> <legends list=ctrl.storageLegends></legends> </div> </div> <div class="pm_grid padding-top" ng-if=::ctrl.hasVPN> <div class=col-1-3> <label> <span translate-context=Label translate>VPN Connections</span> <a target=_blank class=text-purple href=https://protonmail.com/support/knowledge-base/vpn-connections/ > <i class="fa fa-info-circle"></i> </a> </label> </div> <div class=col-2-3> <label class=bold>{{ ctrl.vpnSliderValue | number:0 }}</label> <slider value=ctrl.vpnSliderValue options=ctrl.vpnSliderOptions></slider> <legends list=ctrl.vpnLegends></legends> </div> </div> <p ng-if="ctrl.showKeys && !ctrl.private" class="alert alert-warning" translate translate-context=Info> 4096-bit keys only work on high performance computers. For most users, we recommend using 2048-bit keys. Clicking <strong>Save</strong> will generate encryption keys and may freeze ProtonMail for several minutes</p> <p class="alert alert-info" ng-if=!ctrl.ID translate translate-context=Info>Please give the address and temporary password to the new member so they can log in.</p> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button disabled-if-network-activity" ng-disabled=memberForm.$invalid translate translate-context=Action>Save</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},lYWG:function(t,e){var a=window.angular,n="templates/dashboard/visionaryColumn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=visionaryColumn-container> <header class=visionaryColumn-header> <div class=isCurrent translate-context="Dashboard free plan title" translate>Current Plan</div> <h1>Visionary</h1> <plan-price data-plan=visionary></plan-price> </header> <div class=visionaryColumn-user translate-context="Dashboard plan information" translate>6 Users</div> <div class=visionaryColumn-space translate-context="Dashboard plan information" translate>20 GB Storage</div> <div class=visionaryColumn-address> <span translate-context="Dashboard plan information" translate>50 Addresses</span> <i class="fa fa-info-circle" pt-tooltip-translate="Add additional addresses to your account like <u>username2@protonmail.com</u>" pt-tooltip-translate-context="Dashboard plan detail" pt-html=true></i> </div> <div class=visionaryColumn-domain> <span translate-context="Dashboard plan information" translate>10 Custom Domains</span> <i class="fa fa-info-circle" pt-tooltip-translate="Allows you to host emails for your own domain(s) at ProtonMail, e.g. <u>john.smith@example.com</u>" pt-tooltip-translate-context="Dashboard plan detail" pt-html=true></i> </div> <div class=visionaryColumn-sending> <span translate-context="Dashboard plan information" translate>Unlimited sending</span> <i class="fa fa-info-circle" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="ProtonMail cannot be used for mass emailing or spamming. Legitimate emails are unlimited."></i> </div> <div class=visionaryColumn-labels translate-context="Dashboard plan information" translate>Unlimited Folders / Labels</div> <div class=visionaryColumn-support translate-context="Dashboard plan information" translate>Priority Support</div> <div class=visionaryColumn-filters translate-context="Dashboard plan information" translate>Custom Filters</div> <div class=visionaryColumn-autoresponder translate-context="Dashboard plan information" translate>Autoresponder</div> <div class=visionaryColumn-catch-all translate-context="Dashboard plan information" translate>Catch-all email</div> <div class=visionaryColumn-members translate-context="Dashboard plan information" translate>Multi-User Support</div> <div class=visionaryColumn-vpn translate-context="Dashboard plan information" translate>ProtonVPN Visionary included</div> <total-rows data-plan=visionary></total-rows> <footer class=visionaryColumn-footer> <select-plan data-plan=visionary></select-plan> </footer> </div> ')}])}t.exports=n},"lg+c":function(t,e){var a=window.angular,n="templates/modals/alert.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header ng-show=ctrl.title> <h3 class=modal-title>{{ ctrl.title }}</h3> </div> <div class=modal-body> <p class="alert {{ ctrl.alert }}" ng-bind-html=ctrl.message></p> </div> </div> <div class=modal-footer> <button tabindex=1 autofocus type=button class="pm_button primary modal-footer-button" ng-click=ctrl.ok() translate translate-context=Action>OK</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"llV/":function(t,e){var a=window.angular,n="templates/dashboard/totalRows.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=totalRows-container> <label class=totalRows-label> <div class=totalRows-label-left> <custom-radio data-custom-ng-model=cycle data-custom-ng-value=1 data-custom-ng-change=onChange()></custom-radio> <span class=totalRows-cycle translate-comment="Make sure this string is short please" translate-context="Billing cycle for the dashboard" translate>Pay monthly</span> <span class="totalRows-discount totalRows-discount-with-vpn" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Monthly subscription with VPN discount">-20%</span> </div> <div class=totalRows-label-right> <div class=totalRows-wrapper> <strong class=totalRows-monthly-price></strong> <span translate translate-context="month price">/mo</span> </div> </div> </label> <label class=totalRows-label> <div class=totalRows-label-left> <custom-radio data-custom-ng-model=cycle data-custom-ng-value=12 data-custom-ng-change=onChange()></custom-radio> <span class=totalRows-cycle translate-comment="Make sure this string is short please" translate-context="Billing cycle for the dashboard" translate>Pay annually</span> <span class="totalRows-discount totalRows-discount-without-vpn" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Annual subscription discount">-20%</span> <span class="totalRows-discount totalRows-discount-with-vpn" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Annual subscription with VPN discount">-36%</span> </div> <div class=totalRows-label-right> <div class=totalRows-wrapper> <strong class=totalRows-yearly-price></strong> <span translate translate-context="month price">/mo</span> </div> <small class=totalRows-yearly-billed-price></small> </div> </label> <label class="totalRows-label totalRows-label-2-year"> <div class=totalRows-label-left> <custom-radio data-custom-ng-model=cycle data-custom-ng-value=24 data-custom-ng-change=onChange()></custom-radio> <span class=totalRows-cycle translate-comment="Make sure this string is short please" translate-context="Billing cycle for the dashboard" translate>2-year plan</span> <span class="totalRows-discount totalRows-discount-without-vpn" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="2-year subscription discount">-33%</span> <span class="totalRows-discount totalRows-discount-with-vpn" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="2-year subscription with VPN discount">-47%</span> </div> <div class=totalRows-label-right> <div class=totalRows-wrapper> <strong class=totalRows-2-years-price></strong> <span translate translate-context="month price">/mo</span> </div> <small class=totalRows-2-years-billed-price></small> </div> </label> </div> ')}])}t.exports=n},lp3o:function(t,e){var a=window.angular,n="templates/invoices/invoiceSection.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class="setting full pm_form settingsPayment-section invoiceSection-container"> <moz-info></moz-info> <header-block class=settingsPayment-header-invoices> <h2 class="settingsPayment-title-invoices invoiceSection-title" data-total={{model.total}} translate translate-context=Title>Invoices</h2> </header-block> <div class=settingsPayment-content> <nav class="margin invoiceSection-nav"> <button type=button class=pm_button data-action=customize translate-context=Action translate>Customize</button> <div class="pm_buttons invoiceSection-nav-right" ng-if="getUserInfo(\'role\') === 2"> <button class=pm_button ng-class="{ \'active\': model.owner === 0 }" type=button data-action=user translate-context=Action translate>User</button> <button class=pm_button ng-class="{ \'active\': model.owner === 1 }" type=button data-action=organization translate-context=Action translate>Organization</button> </div> <paginator-scope ng-if=model.total class=invoiceSection-pagination data-type=invoices data-page=model.page data-total-items=model.total data-items-per-page=model.perPage data-change=changePage></paginator-scope> </nav> <p class="alert alert-danger" ng-if="getUserInfo(\'delinquent\') && getUserInfo(\'role\') === 0" translate-context=Info translate>Your account currently has an overdue invoice. Please pay all unpaid invoices.</p> <p class="alert alert-danger" ng-if="getUserInfo(\'delinquent\') && getUserInfo(\'role\') > 0" translate-context=Info translate>Your account or organization currently has an overdue invoice. Please pay all unpaid invoices.</p> <p class="alert alert-info" ng-if="!model.list.length && model.loaded" translate-context=Info translate>No invoices found.</p> <invoice-list data-model=model ng-if=model.loaded></invoice-list> </div> </section> ')}])}t.exports=n},lxNF:function(t,e){var a=window.angular,n="templates/contact/contactRightPanel.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="contactRightPanel-container contactRightPanel-placeholder-hidden"> <contact-placeholder></contact-placeholder> <div class=contactRightPanel-content> <contact-view-detail class=contactRightPanel-item-view ng-if="contact && mode === \'view\'" ng-class=testErrors(contact) data-mode=mode data-contact=contact></contact-view-detail> <contact-details class=contactRightPanel-item-details ng-if="contact && mode === \'edition\'" ng-class=testErrors(contact) data-mode=mode data-contact=contact></contact-details> <loader-tag class=contactRightPanel-loader></loader-tag> </div> </div> ')}])}t.exports=n},"m/v6":function(t,e){var a=window.angular,n="templates/contact/contactPhotoModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small important {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context="Contact modal title" translate>Add image</h4> </div> <div class=modal-body> <contact-photo-form></contact-photo-form> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate-context=Action translate>Cancel</button> <button class="pm_button primary modal-footer-button" tabindex=1 ng-click=ctrl.submit(ctrl.uri) translate-context=Action translate>Save</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},m20B:function(t,e){var a=window.angular,n="templates/user/displayNameSignature.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=displayNameSignature-container> <div class=pm_grid> <div class=col-3-8> <label class=displayNameSignature-label for=displayName> <span translate-context=Label translate>Display name</span> <a href=https://protonmail.com/support/knowledge-base/display-name-and-signature/ target=_blank class=text-purple> <i class="fa fa-info-circle"></i> </a> </label> </div> <div class=col-5-8> <input type=text id=displayName class=displayNameSignature-input ng-model=model.DisplayName> </div> </div> <div class=pm_grid> <div class=col-3-8> <label class=displayNameSignature-label for=signature translate-context=Label translate>Signature</label> </div> <div class=col-5-8> <squire id=signature class=displayNameSignature-squire name=signature data-type-content=signature allow-data-uri=true data-value=model.Signature></squire> </div> </div> </div> ')}])}t.exports=n},mZt9:function(t,e){var a=window.angular,n="templates/ui/autoCompleteEmailsItem.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=autocompleteEmailsItem-container> <email-encryption-icon data-email=email data-message=message></email-encryption-icon> <span class=autocompleteEmails-label tabindex=0> {{ email | labelAutocomplete:message }} </span> <button class="autocompleteEmails-btn-remove fa fa-times" type=button aria-label=Remove data-address="{{ email.Address }}"> </button> </div> ')}])}t.exports=n},mlzr:function(t,e){var a=window.angular,n="templates/authentication/loginSpinner.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="loadingUnlock-loader-container pm_panel alt"> <atom-loader data-translation-key=decrypting></atom-loader> </div> ')}])}t.exports=n},mqTZ:function(t,e){var a=window.angular,n="templates/dashboard/vpnSlider.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="vpnSlider-container pm_grid"> <div class=col-1-3> <label translate-context="Label for vpn form" translate>Number of connections</label> <i class="fa fa-info-circle" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="Number of VPN connections which can be assigned to users."></i> <strong class=vpnSlider-count></strong> </div> <div class=col-2-3> <slider data-value=value data-options=options></slider> <p class=vpnSlider-vpnbasic-info> <i class="fa fa-info-circle"></i> <span translate-context="Information for the custom vpn modal" translate>Need more connections?</span> <a href=# data-action=vpnplus translate-context="Link for the custom vpn modal" translate>Upgrade to ProtonVPN Plus</a> </p> <p class=vpnSlider-vpnplus-info> <i class="fa fa-info-circle"></i> <span translate-context="Information for the custom vpn modal" translate>Each connected device consumes one VPN connection.</span> </p> </div> </div> ')}])}t.exports=n},muNk:function(t,e){var a=window.angular,n="templates/address/addressKeysView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_table addressKeysView-container" ng-class=displayMode> <form> <input type=file class=import-private-key-file multiple=multiple accept=.asc,.txt> </form> <p class=addressKeysView-main-actions> <reactivate-keys-btn></reactivate-keys-btn> <button data-action=newKey type=button class="pm_button primary" translate-context=Action translate>Add new key</button> <button data-action=importKey type=button class=pm_button translate-context=Action translate>Import key</button> </p> <table class="bordered absorbing"> <thead> <tr> <th scope=col data-display-mode=address class="key-size absorbing-column-half" translate-context=Title translate-comment="table heading" translate>Email</th> <th scope=col data-display-mode=user class="key-size absorbing-column-half" translate-context=Title translate-comment="table heading" translate>User</th> <th scope=col class="finger-print absorbing-column-half" translate-context=Title translate-comment="table heading" translate>Fingerprint</th> <th scope=col translate-context=Title translate-comment="table heading" translate>Key type</th> </tr> </thead> <tbody> <tr ng-repeat-start="address in addresses | orderBy: \'order\' track by address.addressID"> <td> <span class="addressKeysView-toggle no-ellipsis"> <toggle-expand data-model=address></toggle-expand> </span> <span class="addressKeysView-email ellipsis" title="{{ address.email }}"><strong>{{ address.email }}</strong></span> </td> <td class=finger-print> <code>{{ address.fingerprint }}</code> </td> <td> {{ address.algType }} </td> </tr> <tr class=hasTable ng-if="address.toggle === true && address.keys.length > 0" ng-repeat-end> <td colspan=4> <div class=pm_table> <table class=margin-top> <thead> <tr> <th class="finger-print absorbing-column-half" translate-context=Title translate-comment="table heading" translate>Fingerprint</th> <th class=key-size translate-context=Title translate-comment="table heading" translate>Key type</th> <th class=status translate-context=Title translate-comment="table heading" translate>Status</th> <th class="actions text-center" translate-context=Title translate-comment="table heading" translate>Actions</th> </tr> </thead> <tbody> <tr class=key-row ng-repeat="key in address.keys track by key.ID"> <td class=finger-print> <code>{{ key.fingerprint }}</code> </td> <td> {{ key.algType }} </td> <td> <span class="pm_badge primary" ng-show=$first pt-tooltip-translate="ProtonMail users will use this key by default for sending" pt-tooltip-translate-context=Tooltip translate-context="Key state badge" translate-comment="key state badge" translate>Primary</span> <span class="pm_badge success" ng-show=key.decrypted pt-tooltip-translate="You have locally decrypted this key" pt-tooltip-translate-context=Tooltip translate-context="Key state badge" translate-comment="key state badge" translate>Active</span> <span class="pm_badge error" ng-hide=key.decrypted pt-tooltip-translate="This key is encrypted with an old password" pt-tooltip-translate-context=Tooltip translate-context="Key state badge" translate-comment="key state badge" translate>Inactive</span> <span class="pm_badge default" ng-show="address.status === 0" pt-tooltip-translate="This address has been disabled" pt-tooltip-translate-context="key flag info" translate-context="Key state badge" translate-comment="key state badge" translate>Disabled</span> <span class="pm_badge warning" ng-show="key.decrypted && key.Flags > 0 && key.Flags < 3 && address.status !== 0" data-display-mode=address> <span pt-tooltip-translate-context="key flag info" pt-tooltip-translate="This key cannot be used for encryption" pt-placement=top translate-context="Key state badge" translate>Obsolete</span> <button type=button class="pm_button link" data-action=markValid data-address-id="{{ address.addressID }}" data-key-index="{{ $index }}" pt-tooltip-translate-context=Action pt-tooltip-translate="Enable encryption" pt-placement=top> <i class="fa fa-times"></i> </button> </span> <span class="pm_badge warning" ng-show="key.Flags === 0" data-display-mode=address> <span pt-tooltip-translate-context="key flag info" pt-tooltip-translate="Signatures produced by this key are treated as invalid and this key cannot be used for encryption" pt-placement=top translate-context="Key state badge" translate>Compromised</span> <button type=button class="pm_button link" data-action=markObsolete data-address-id="{{ address.addressID }}" data-key-index="{{ $index }}" pt-tooltip-translate-context=Action pt-tooltip-translate="Enable signature verification" pt-placement=top> <i class="fa fa-times"></i> </button> </span> </td> <td class=text-center> <div class="pm_buttons link"> <button type=button class="pm_buttons pm_button" ng-if=!key.decrypted data-action=reactivateKey data-address-id="{{ address.addressID }}" data-key-index="{{ $index }}" translate-context=Action translate>Reactivate</button> <button type=button class="pm_buttons pm_button" ng-if="!isSubUser && key.decrypted" data-action=exportKey data-address-id="{{ address.addressID }}" data-key-index="{{ $index }}" translate-context=Action translate>Export</button><a class="pm_buttons pm_button pm_trigger fa fa-angle-down" ng-class="{ disabled: !isSubUser && $first || (displayMode == \'user\' && key.decrypted) }" dropdown></a> <div class="pm_dropdown wide right default-padding"> <button type=button class="pm_button link" ng-show="!isSubUser && !key.decrypted" data-action=exportKey data-address-id="{{ address.addressID }}" data-key-index="{{ $index }}" translate-context=Action translate>Export</button> <button type=button class="pm_button link" ng-show="!$first && key.decrypted && key.Flags === 3 && address.status !== 0" data-display-mode=address data-action=makePrimaryKey data-address-id="{{ address.addressID }}" data-key-index="{{ $index }}" translate-context=Action translate>Make Primary</button> <button type=button class="pm_button link" pt-tooltip-translate-context="key flag info" pt-tooltip-translate="Disables encryption with this key" data-action=markObsolete data-display-mode=address data-address-id="{{ address.addressID }}" ng-if="!$first && key.Flags > 1 && address.status !== 0" data-key-index="{{ $index }}" translate-context=Action translate>Mark obsolete</button> <button type=button class="pm_button link" pt-tooltip-translate-context="key flag info" pt-tooltip-translate="Disables signature verification and encryption with this key" data-action=markCompromised data-display-mode=address data-address-id="{{ address.addressID }}" data-key-index="{{ $index }}" ng-if="!$first && key.Flags !== 0" translate-context=Action translate>Mark compromised</button> <button type=button class="pm_button link" data-action=deleteKey data-display-mode=address data-address-id="{{ address.addressID }}" data-key-index="{{ $index }}" translate-context=Action translate>Delete</button> </div> </div> </td> </tr> </tbody> </table> </div> </td> </tr> </tbody> </table> </div> ')}])}t.exports=n},nc5Q:function(t,e){var a=window.angular,n="templates/views/keysView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings class=keysView-container> <div class="settings pm_form"> <div class=row> <header-block class=settingsKeys-header-key> <h2 class=settingsKeys-title-key translate translate-context=Title>Email encryption keys</h2> </header-block> <address-keys-view data-display-mode=address data-is-sub-user=isSubUser data-addresses=addressKeys></address-keys-view> </div> <div class=row> <header-block class=settingsKeys-header-key> <h2 class=settingsKeys-title-key translate translate-context=Title>Contact encryption keys</h2> </header-block> <address-keys-view data-display-mode=user data-is-sub-user=isSubUser data-addresses=userKeys></address-keys-view> </div> </div> </div> ')}])}t.exports=n},"nd+K":function(t,e){var a=window.angular,n="templates/notifications/retry.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=\"proton-notification-template cg-notify-message\" ng-class=\"[$classes,\n        $position === 'center' ? 'cg-notify-message-center' : '',\n        $position === 'left' ? 'cg-notify-message-left' : '',\n        $position === 'right' ? 'cg-notify-message-right' : '']\" ng-style=\"{'margin-left': $centerMargin}\" role=alert> <div><span translate-context=\"Notification error trying to connect to the API\" translate>Servers are unreachable.</span> <a href=# ng-click=$click() translate-context=\"Action notification error trying to connect to the API\" translate>Retry now</a>.</div> </div> ")}])}t.exports=n},nhBJ:function(t,e){var a=window.angular,n="templates/squire/addFile.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="addFile-container clearfix"> <div class=row> <label for=address class=col-3-8 translate-context="Composer, add File" translate>Web address</label> <div class=col-5-8> <input name=addressInput tabindex=1 id=address required type=text autocomplete=off class=addFile-addressInput placeholder-translate="Image URL" placeholder-translate-context="Composer, add File" ng-model=image.src> <div ng-messages=form.addressInput.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> <p ng-message=valid translate-context=Error translate>Not a valid URL</p> </div> </div> </div> <div class=row> <label class=col-3-8 translate-context="Composer, add File" translate>Image preview</label> <div class="col-5-8 addFile-previewContainer"> <img class=addFile-preview referrerpolicy=no-referrer> <div class=addFile-previewText> <p class="alert alert-info" translate translate-context="Composer, add File">If your URL is correct, you\'ll see an image preview here. Large images may take a few minutes to appear.</p> </div> <span class=addFile-previewText-loading> <i class="fa fa-spin fa-spinner"></i> <span translate translate-context="Composer, add File">Loading image</span> </span> <span class="addFile-previewText-error text-red" translate translate-context="Composer, add File">Error loading image</span> </div> </div> </div> ')}])}t.exports=n},nm6W:function(t,e){var a=window.angular,n="templates/message/foldersMessage.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<span class=foldersMessage-container></span> ")}])}t.exports=n},"o+/T":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"a",(function(){return i})),a.d(e,"f",(function(){return c}));var n=a("cnVF"),o=function(){return moment().isBetween(n.j.BETWEEN.START,n.j.BETWEEN.CYBER_START)},r=function(){return moment().isBetween(n.j.BETWEEN.CYBER_START,n.j.BETWEEN.CYBER_END)},s=function(){return moment().isBetween(n.j.BETWEEN.CYBER_END,n.j.BETWEEN.END)},l=function(){return moment().isBetween(n.j.BETWEEN.START,n.j.BETWEEN.END)},i=function(t){return t?"Special offer":l()?o()||s()?"Black Friday":r()?"Cyber Monday":void 0:""},c=function(){return moment().isAfter(n.Vb.BETWEEN.START)}},"o4/q":function(t,e){var a=window.angular,n="templates/modals/domain/mx.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} domains" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <domains-menu-step></domains-menu-step> <span ng-show="ctrl.domain.MxState === 0" class="pull-right pm_badge error" translate translate-comment="MX status badge" translate-context="MX configuration status badge">Not set</span> <span ng-show="ctrl.domain.MxState === 1 || ctrl.domain.MxState === 2" class="pull-right pm_badge error" translate translate-comment="MX status badge" translate-context="MX configuration status badge">Not set properly</span> <span ng-show="ctrl.domain.MxState === 3" class="pull-right pm_badge success" translate translate-comment="MX status badge" translate-context="MX configuration status badge">Good</span> <h4 class=modal-title>4. <span>MX Records</span> (<em translate-context="MX configuration status badge" translate>Required</em>)</h4> </div> <div class="modal-body pm_form"> <p translate translate-context=Info>Before you can receive emails for your custom domain addresses at ProtonMail, you need to add the following MX records to your DNS. This can typically be done in the control panel of your domain name registrar.</p> <p translate translate-context=Info>Please add the following MX record. Note, DNS records can take several hours to update.</p> <p><a target=_blank href=https://protonmail.com/support/knowledge-base/dns-records/ translate translate-context=Action>Learn more</a></p> <div class=pm_table> <table class=record> <tr> <th scope=col style=width:3rem translate translate-context=Title>Type</th> <th scope=col style=width:6.5rem translate translate-context=Title>Host name</th> <th scope=col style=width:12rem translate translate-context=Title>Value / Data / Points to</th> <th scope=col style=width:4rem translate translate-context=Title>Priority</th> </tr> <tr> <td><code>MX</code></td> <td><code>@</code></td> <td><code>mail.protonmail.ch</code></td> <td><code>10</code></td> </tr> <tr> <td><code>MX</code></td> <td><code>@</code></td> <td><code>mailsec.protonmail.ch</code></td> <td><code>20</code></td> </tr> </table> </div> <p class="alert alert-info" translate translate-context=Info>Delete any other MX records or make sure ProtonMail\'s Priority is the lowest number.</p> <p class="alert alert-info" translate translate-context=Info>If this domain is currently actively receiving emails, create all used email addresses in Step 3 before changing MX record to ensure a smooth transition.</p> </div> </div> <div class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.close() translate translate-context=Action>Close</button> <button class="pm_button primary modal-footer-button" ng-click=ctrl.next() translate translate-context=Action>Next</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},"oYf/":function(t,e){var a=window.angular,n="templates/elements/statesElements.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=statesElements-container> <i class="fa fa-mail-reply" data-if-is=replied></i> <i class="fa fa-mail-reply-all" data-if-is=repliedall></i> <i class="fa fa-mail-forward" data-if-is=forwarded></i> </div> ')}])}t.exports=n},oil3:function(t,e){var a=window.angular,n="templates/elements/navElements.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="navElements-container pm_buttons"> <button class="navElements-btn-next pm_button" data-dest=next pt-tooltip-translate=Previous pt-tooltip-translate-context=Action> <i class="fa fa-chevron-left"></i> </button> <button class="navElements-btn-previous pm_button" data-dest=previous pt-tooltip-translate=Next pt-tooltip-translate-context=Action> <i class="fa fa-chevron-right"></i> </button> </div> ')}])}t.exports=n},ondU:function(t,e){var a=window.angular,n="templates/modals/expirationModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Not all recipients support message expiration</h4> </div> <div class=modal-body> <div ng-if=ctrl.recipients.clear.length class=expiration-group> <label class=expiration-label for=clearToggle translate translate-context=Warning>Please add a password for the following recipients</label> <toggle-expand id=clearToggle data-model=ctrl.toggles.clear></toggle-expand> <ul class=expiration-list ng-if=ctrl.toggles.clear.toggle> <li ng-repeat="recipient in ctrl.recipients.clear track by recipient" class="expiration-list-item ellipsis" title="{{ ::recipient }}"> {{ ::recipient }} </li> </ul> </div> <div ng-if=ctrl.recipients.pgp.length class=expiration-group> <label class=expiration-label for=pgpToggle translate translate-context=Warning>Please disable PGP Sending for the following recipients</label> <toggle-expand id=pgpToggle data-model=ctrl.toggles.pgp></toggle-expand> <ul class=expiration-list ng-if=ctrl.toggles.pgp.toggle> <li ng-repeat="recipient in ctrl.recipients.pgp track by recipient" class="expiration-list-item ellipsis" title="{{ ::recipient }}"> {{ ::recipient }} </li> </ul> </div> <p class="alert alert-warning"> <span translate translate-context=Warning>You can also send anyway without expiration to these recipients.</span> <a href=https://protonmail.com/support/knowledge-base/encrypt-for-outside-users/ target=_blank translate translate-context=Link>Learn more</a>. </p> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel </button> <button type=button class="pm_button primary modal-footer-button" ng-click=ctrl.confirm() translate translate-context=Action>Send anyway </button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},oo4M:function(t,e){var a=window.angular,n="templates/contact/contactMimetypeSelector.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactMimetypeSelector-container> <label for=contactMimetypeSelector class=contactMimetypeSelector-label> <span translate-context="Label for contact MIMEType selector" translate>Format</span> <i class="fa fa-info-circle" pt-tooltip-translate-context="Info for contact MIMEType selector" pt-tooltip-translate="Automatic indicates that the format in the composer is used to send to this user. Plain Text indicates that the message will always be converted to plain text on send."></i> </label> <span class=pm_select> <select id=contactMimetypeSelector ng-model=mimetype ng-options="option.label for option in options track by option.value" ng-change=onChange()></select> <i class="fa fa-angle-down"></i> </span> </div> ')}])}t.exports=n},ox0V:function(t,e){var a=window.angular,n="templates/utils/discardModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}} discardModal-container" role=dialog> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h4 class=modal-title>{{ ::ctrl.i18n.title }}</h4> </header> <div class=modal-body> <p class="alert no-margin-bottom">{{ ::ctrl.i18n.message }}</p> </div> </div> <footer class=modal-footer> <button class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.discard()>{{ ::ctrl.i18n.button.discard }}</button> <button class="pm_button primary modal-footer-button disabled-if-network-activity" tabindex=1 ng-click=ctrl.submit()>{{ ::ctrl.i18n.button.confirm }}</button> </footer> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},p7bp:function(t,e){var a=window.angular,n="templates/ui/progressionBtn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button type=button class=progressionBtn-btn> <i class="fa fa-times"></i><span class=sr-only></span> </button> ')}])}t.exports=n},pEW7:function(t,e,a){"use strict";var n,o=a("lSNA"),r=a.n(o),s=a("k4Da"),l=a.n(s),i=a("xaJk"),c=a.n(i),d=a("cnVF"),u=(n={},r()(n,d.mc.DELETE,"remove"),r()(n,d.mc.CREATE,"create"),r()(n,d.mc.UPDATE,"update"),n);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t.slice(),o=e.reduce((function(t,e){var n=e.Action,o=e.ID,r=u[n];return"remove"===r?(t.remove[o]=!0,t):(t[r].push(e[a]),t)}),{update:[],create:[],remove:Object.create(null)}),r=c()([].concat(o.create,o.update),(function(t,e){var a=t.MAP[e.ID];if(void 0!==a)return t.collection[a]=e,t;var n=t.collection.push(e);return t.MAP[e.ID]=n-1,t}),{collection:n,MAP:c()(n,(function(t,e,a){return t[e.ID]=a,t}),Object.create(null))}),s=r.collection;return{collection:l()(s,(function(t){var e=t.ID;return!o.remove[e]})),todo:o}}},pLkr:function(t,e){var a=window.angular,n="templates/bridge/bridgeFreePanel.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=bridgeFreePanel-container> <button type=button class="bridgeFreePanel-btn pm_button primary" translate translate-context=Action>Activate</button> </div> ')}])}t.exports=n},pZaB:function(t,e){var a=window.angular,n="templates/dashboard/vpnRow.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=vpnRow-container> <span class=vpnRow-info></span> <button type=button class="vpnRow-add pm_button" data-action=open-vpn-modal translate-context=Action translate>Add VPN Protection</button> <i class="fa fa-info-circle vpnRow-icon" pt-tooltip-translate-context=Tooltip pt-tooltip-translate="ProtonVPN encrypts your internet connection to keep your online activity private."></i> </div> ')}])}t.exports=n},pcmo:function(t,e){var a=window.angular,n="templates/squire/addLink.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="addLink-container clearfix"> <p class="alert alert-info" translate translate-context="Composer, add Link">In the first box, put the link/email/phone number the text should go to. In the second box, put the text you want to appear.</p> <div class=row> <label for=urlLink class=col-3-8 translate-context="Composer, add Link" translate>URL link</label> <div class=col-5-8> <span class=addLink-urlLinkDescription></span> <input tabindex=2 id=urlLink class=addLink-urlLinkInput name=urlLink ng-model=link.url autocomplete=off required type=text placeholder-translate="Link URL" placeholder-translate-context="Composer, add Link"> <div ng-messages=form.urlLink.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> </div> </div> </div> <div class=row> <div class=col-3-8> <label for=labelLink translate-context="Composer, add Link" translate>Text to display</label> <div class=addLink-linkTypes> <label class=visual-label> <custom-radio data-custom-ng-model=link.type data-custom-ng-value=linkTypes.WEB></custom-radio> <span translate translate-context="Composer, add Link">Web address</span> </label> <label class=visual-label> <custom-radio data-custom-ng-model=link.type data-custom-ng-value=linkTypes.EMAIL></custom-radio> <span translate translate-context="Composer, add Link">Email address</span> </label> <label class=visual-label> <custom-radio data-custom-ng-model=link.type data-custom-ng-value=linkTypes.PHONE></custom-radio> <span translate translate-context="Composer, add Link">Phone number</span> </label> </div> </div> <div class=col-5-8> <input name=labelLink tabindex=1 autocomplete=off type=text id=labelLink required class=addLink-labelLinkInput placeholder-translate="Link label" placeholder-translate-context="Composer, add Link" ng-model=link.label> <div ng-messages=form.labelLink.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> </div> <div class=addLink-linkTestContainer> <a class=addLink-linkTest rel="noopener noreferrer nofollow" target=_blank>Test link</a> </div> </div> </div> </div> ')}])}t.exports=n},qAl9:function(t,e){var a=window.angular,n="templates/directives/contact/contactPublicKeyTable.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=pm_table> <table class="contactItem-container fixedLayout"> <thead> <tr> <th scope=col class=invalid-key-column></th> <th scope=col translate-context="Table Header" translate>Fingerprint</th> <th scope=col class=primary ng-if=enableDelete> <i class="fa fa-info-circle" pt-tooltip-translate="The primary key is used to encrypt outgoing messages." pt-tooltip-translate-context=Tooltip> </i> <span translate-context="Table Header" translate>Primary</span> </th> <th scope=col class=primary ng-if=!enableDelete> <i class="fa fa-info-circle" pt-tooltip-translate="It is allowed to encrypt with this key" pt-tooltip-translate-context=Tooltip> </i> <span translate-context="Table Header" translate>Encryption</span> </th> <th scope=col class=created translate-context="Table Header" translate>Created</th> <th scope=col class=expires ng-if=enableDelete translate-context="Table Header" translate>Expires</th> <th scope=col class=bits translate-context="Table Header" translate>Type</th> <th scope=col class=actions translate-context="Table Header" translate>Actions</th> </tr> </thead> <tbody> <tr ng-repeat="item in items" ng-if=!item.hide> <td class=invalid-key-column> <i class="fa fa-warning" ng-if=item.invalidMessage pt-tooltip="{{ item.invalidMessage }}"></i> </td> <td> <span class=publickey-info> <code pt-tooltip="{{ item.fingerprint }}"> {{ item.fingerprint }} </code> </span> </td> <td class=primary> <button class="pm_button link small" type=button data-action=makePrimary data-index="{{ $index }}" ng-if="!item.verificationOnly && $index > 0 && !item.isExpired && enableDelete" translate-context=Button translate-comment="Make sure the string is short" translate>Set Primary</button> <i class="fa fa-check" ng-if="!item.verificationOnly && !item.isExpired && (!enableDelete || $index === 0)"></i> </td> <td class=created> {{ item.created }} </td> <td class=expires ng-if=enableDelete> {{ item.expires }} </td> <td class=bits> {{ item.algType }} </td> <td class=actions> <button type=button class="fa fa-download pm_button link" data-index="{{ $index }}" data-action="{{ enableDelete ? \'download\' : \'downloadUntrusted\' }}" pt-tooltip-translate=Download pt-tooltip-translate-context=Tooltip></button> <button ng-if=enableDelete type=button class="fa fa-trash pm_button link" data-action=remove data-index="{{ $index }}" pt-tooltip-translate=Remove pt-tooltip-translate-context=Tooltip></button> <button ng-if=enableTrust type=button class="fa fa-check pm_button link" data-action=moveToTrusted data-index="{{ $index }}" pt-tooltip-translate=Trust pt-tooltip-translate-context=Tooltip></button> </td> </tr> <tr class=empty-table> <td colspan=6> <i class="fa fa-lg fa-thumbs-o-up"></i> <span translate-context="Empty table message" translate>All available keys are trusted</span> </td> </tr> </tbody> </table> </div> ')}])}t.exports=n},qKoh:function(t,e){var a=window.angular,n="templates/address/setupAddressModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}}" role=dialog style=display:block> <form class=modal-dialog name=addressForm ng-submit=ctrl.submit() novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Set display name and signature</h4> </div> <div class="modal-body pm_form"> <p class="alert alert-info">{{ ::ctrl.info }}</p> <display-name-signature data-model=ctrl.model></display-name-signature> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button class="pm_button primary modal-footer-button" translate translate-context=Action>Add</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},qMZ4:function(t,e){var a=window.angular,n="templates/ui/multiselect.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=multiselectContainer> <span class=pm_multiselect> <label class=multiselectLabel ng-repeat="option in options"> <custom-checkbox data-custom-class=multiselectCheckbox type=checkbox data-custom-ng-model=selected[option.value] data-custom-ng-value=option.value data-custom-ng-disabled=disabled></custom-checkbox>{{option.label}}</label> </span> </div> ')}])}t.exports=n},qfUQ:function(t,e){var a=window.angular,n="templates/views/reset-login-password.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class=resetLoginPassword-container> <div ng-show="resetState === states.RECOVERY"> <p class="alert alert-info wrap" translate-context=Info translate>We will send a reset code to your <a class=bold href=https://protonmail.com/support/knowledge-base/set-forgot-password-options/ target=_blank title="This is the optional email you used when first creating an account. This is the same as your notification email that is used for sending alerts about new messages.">recovery email</a> to reset your password.</p> <form method=post autocomplete=off name=resetForm role=form novalidate ng-submit="resetForm.$valid && confirmResetLostPassword(resetForm)" class="pm_form pm_panel"> <h3 class="text-center margin" translate-context=Info translate>Reset Password</h3> <div class=margin> <label for=username class=sr-only translate-context=Action translate>ProtonMail username to reset</label> <input id=username autofocus="" name=username type=text class=form-control placeholder-translate-context=Action placeholder-translate="ProtonMail username to reset" ng-model=params.username autocomplete=off required> </div> <div ng-messages=resetForm.username.$error ng-show="resetForm.$submitted || resetForm.username.$dirty"> <p ng-message=required class="alert alert-danger" translate-context=Error translate>Username required</p> </div> <div class=margin> <label for=recoveryEmail class=sr-only translate-context="Reset password" translate>Recovery email</label> <input id=recoveryEmail name=recoveryEmail type=email class=form-control placeholder-translate-context="Reset password" placeholder-translate="Recovery email" ng-model=params.recoveryEmail required> </div> <div ng-messages=resetForm.recoveryEmail.$error ng-show="resetForm.$submitted || resetForm.recoveryEmail.$dirty"> <p ng-message=email class="alert alert-danger" translate-context=Error translate>Invalid recovery email</p> </div> <div class=loginForm-actions> <div class=loginForm-actions-column> <button class="loginForm-actions-main pm_button primary disabled-if-network-activity" type=submit translate-comment="button to reset login password" translate-context=Action translate>Reset Password</button> </div> <div class="loginForm-actions-row loginForm-actions-forgot-reset"> <link-website class="pm_button link small" data-link=username></link-website> <button type=button ng-click=goToCode() class="pm_button link small" translate translate-context=Action translate-comment="Make sure this string is short please">Have a reset code?</button> </div> </div> </form> </div> <div ng-show="resetState === states.CODE"> <p class="alert alert-info wrap" translate-context=Info translate>We\'ve sent a reset code to your <strong>recovery email</strong>, valid for one hour or until you request a new code. Enter it below to continue.</p> <form method=post autocomplete=off ng-submit="tokenForm.$valid && validateToken(tokenForm)" name=tokenForm class="pm_form pm_panel" novalidate> <h3 class="text-center margin" translate-context=Title translate>Reset Password</h3> <p class="alert alert-danger" translate-context=Error translate>IMPORTANT: Do not close or navigate away from this page. You will need to enter the reset code into the field below once you receive it.</p> <div class=margin ng-if=showTokenUsername> <label translate-context=Title translate>Username:</label> <input autofocus="" name=username type=text class=form-control placeholder-translate-context=Action placeholder-translate="ProtonMail username to reset" ng-model=params.username autocomplete=off required> </div> <div ng-messages=tokenForm.username.$error ng-show="tokenForm.$submitted || tokenForm.username.$dirty"> <p ng-message=required class="alert alert-danger" translate-context=Error translate>Username required</p> </div> <div class=margin> <label for=resetToken translate-context=Title translate>Reset code:</label> <input type=text ng-model=params.resetToken id=resetToken class=form-control name=resetToken placeholder-translate-context=Action placeholder-translate="Reset code" required> </div> <div ng-messages=tokenForm.resetToken.$error ng-show="tokenForm.$submitted || tokenForm.resetToken.$dirty"> <p ng-message=required class="alert alert-danger" translate-context=Error translate>Reset code is required</p> </div> <div class=loginForm-actions> <div class=loginForm-actions-column> <button type=submit class="loginForm-actions-main pm_button primary disabled-if-network-activity" translate-comment="button to reset password" translate-context=Action translate>Reset Password</button> </div> </div> </form> </div> <div ng-show="resetState === states.CHECKING"> <div class="pm_form pm_panel text-center"> <img src=/assets/img/logo/logo-purple.svg height=34 alt=""/><br><br> <div class=creating-loader-container> <atom-loader data-loader-theme=primary></atom-loader> </div> <p><span translate-context=Action translate>Verifying reset code</span>...</p> </div> </div> <div ng-show="resetState === states.DANGER"> <form method=post autocomplete=off ng-submit=confirmReset() name=dangerForm class="pm_form pm_panel"> <h1 class=text-center translate-context=Title translate>Warning</h1> <p translate-context=Info translate-comment="reset warning 1/3" translate>Resetting your password will also reset your encryption keys, so you will be unable to read your existing messages. <a href=https://protonmail.com/support/knowledge-base/updating-your-login-password/ target=_blank>Learn More</a>.</p> <p class="alert alert-danger" translate-comment="reset warning 2/3" translate-context=Info translate>ALL YOUR DATA WILL BE LOST!</p> <label for=danger class="label-block labelFix"> <span translate-context="To continue, type DANGER below:" translate-comment="reset warning 3/3" translate>To continue, type</span> <kbd>{{dangerWord}}</kbd> <span translate-context="To continue, type DANGER below:" translate-comment="reset warning 3/3" translate>below:</span> </label> <p> <input type=text id=danger class=form-control ng-model=params.danger data-danger-word=dangerWord data-danger/> </p> <div class="alert alert-warning" ng-if="passwordMode === 1"> <ul> <li translate-context="reset password" translate>If you remember your old password later, you can recover your existing messages. <a href=https://protonmail.com/support/knowledge-base/restoring-encrypted-mailbox/ target=_blank>Learn More</a>.</li> </ul> </div> <div class="alert alert-warning" ng-if="passwordMode === 2"> <ul> <li translate-context="reset password" translate>Resetting either Login or Mailbox password will switch you to <a href=https://protonmail.com/support/knowledge-base/single-password/ target=_blank>Single Password Mode</a>.</li> <li translate-context="reset password" translate>Resetting either Login or Mailbox password will make old messages unreadable.</li> <li translate-context="reset password" translate>If you are resetting the Login password only, old messages can be recovered later if you know your existing Mailbox Password. <a href=https://protonmail.com/support/knowledge-base/restoring-encrypted-mailbox/ target=_blank>Learn More</a>.</li> </ul> </div> <div class=loginForm-actions> <div class=loginForm-actions-row> <a ui-sref=login class=pm_button translate-context=Action translate-comment="cancel reset process" translate>Cancel</a> <button type=submit ng-disabled=dangerForm.$invalid class="pm_button error" title="Reset My Password" translate-context=Action translate>Reset</button> </div> </div> </form> </div> <div ng-show="resetState === states.PASSWORD"> <p>&nbsp;</p> <form method=post ng-submit="passwordForm.$valid && resetPassword(passwordForm)" name=passwordForm class="pm_form pm_panel" novalidate> <h3 class="text-center margin" translate-context=Title translate>Reset Password</h3> <p class="text-center alert alert-danger" translate-context=Info translate>Keep this password safe--it cannot be recovered.</p> <div class="form-group margin"> <label for=password translate-context=Title translate>New password:</label> <password data-id=password data-name=password data-form=passwordForm data-value=params.password placeholder-translate-context="Reset your password" placeholder-translate="Choose a new password"></password> </div> <div class="form-group margin"> <label for=passwordc class=sr-only translate-context="Reset your login" translate>Confirm new password</label> <password data-id=passwordc data-name=passwordc data-form=passwordForm data-value=params.passwordConfirm placeholder-translate-context="Reset your login" placeholder-translate="Confirm new password" compare=params.password></password> </div> <div class="alert alert-warning"> <ul> <li translate-context="Reset your login" translate>Do NOT forget this password. If you forget it, you will not be able to login or decrypt your messages.</li> <li translate-context="Reset your login" translate>Save your password somewhere safe. Click on <i class="fa fa-eye"></i> icon to confirm that you have typed your password correctly.</li> </ul> </div> <div class="loginForm-actions margin-top"> <div class=loginForm-actions-row> <button type=submit class="loginForm-actions-main pm_button error disabled-if-network-activity" translate-comment="button to reset password" translate-context=Action translate>Reset password</button> </div> </div> </form> </div> <div class="pm_panel wide" ng-show="resetState === states.GENERATE"> <div class="text-center header"> <div class=creating-loader-container> <atom-loader data-loader-theme=primary></atom-loader> </div> <h2 class=text-center ng-show=!signupError translate translate-context=Title>Generating keys...</h2> </div> <p class=alert translate-context=Info translate>This can take a few seconds or a few minutes depending on your device.</p> </div> <div class="pm_panel wide" ng-show="resetState === states.INSTALL" id=setUpProcess> <div class="text-center header"> <div class=creating-loader-container> <atom-loader data-loader-theme=primary></atom-loader> </div> <h2 class=text-center translate-context=Title translate>Resetting your password</h2> </div> <div class="wrapper text-left"> <ol id=creationList> <li class=done> <i class="show fa fa-check"></i> <span translate-context=Title translate>Generating keys</span> </li> <li ng-class="{ \'done\': resetAccount }"> <i ng-class="{ \'show\': resetAccount }" class="fa fa-check"></i> <span translate-context=Title translate>Resetting your password</span> </li> <li ng-class="{ \'done\': logUserIn }"> <i ng-class="{ \'show\': logUserIn }" class="fa fa-check"></i> <span translate-context=Title translate>Logging in to your account</span> </li> <li ng-class="{ \'done\': redirectLogin }"> <i ng-class="{ \'show\': redirectLogin }" class="fa fa-check"></i> <span translate-context=Title translate>Redirecting</span> </li> </ol> </div> </div> </section> ')}])}t.exports=n},"r/nK":function(t,e){var a=window.angular,n="templates/organization/organizationFormName.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form method=post name=organizationForm novalidate> <div class=col-1-2> <label for=orgName translate-context=Title translate>Organization name</label> </div> <div class=col-1-2> <div class=clearfix> <input id=orgName name=name type=text class=margin ng-model=value placeholder-translate="Organization name" placeholder-translate-context=Title ng-maxlength=100 required> <div ng-messages=organizationForm.name.$error class=text-red> <p ng-message=required translate-context=Error translate>Field required</p> <p ng-message=maxlength translate-context=Error translate>Name exceeds maximum length</p> </div> </div> <p class="text-right clearfix"> <button class="pm_button primary disabled-if-network-activity" type=submit translate-context=Action translate>Save</button> </p> </div> </form> ')}])}t.exports=n},r1vd:function(t,e){var a=window.angular,n="templates/browserSupport/dropIE11ModalModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}} dropIE11ModalModal-container" role=dialog> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h4 class=modal-title translate-context=Title translate>Internet Explorer Support</h4> </header> <div class=modal-body> <div class="alert alert-warning"> <div translate-context=Info translate>In the next few weeks, ProtonMail will drop support for Internet Explorer. Download one of the modern browsers below.</div> <div><a href=https://protonmail.com/blog/internet-explorer-support/ translate-context=Link translate>Learn more</a></div> <ul> <li><a href=https://firefox.com>Firefox</a></li> <li><a href=https://brave.com/ >Brave</a></li> <li><a href=https://www.microsoft.com/en-us/windows/microsoft-edge>Edge</a></li> <li><a href=https://www.google.com/chrome/ >Chrome</a></li> </ul> </div> </div> </div> <footer class=modal-footer> <button class="pm_button modal-footer-button" ng-click=ctrl.close() translate-context=Action translate>OK</button> </footer> </div> <div class=modal-overlay></div> </div>')}])}t.exports=n},rAeD:function(t,e){var a=window.angular,n="templates/message/messageExtra.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class=messageExtra-container> <message-expiration ng-if="message.ExpirationTime > 0" class=messageExtra-container-warning></message-expiration> <message-spam-score class=messageExtra-container-error ng-if="message.SpamScore === 100 || message.SpamScore === 101 || message.SpamScore === 102" data-score="{{ ::message.SpamScore }}"></message-spam-score> <message-mime-parsing ng-if=message.MIMEParsingFailed class=messageExtra-container-error></message-mime-parsing> <message-display-error ng-if=message.hasError class=messageExtra-container-error></message-display-error> <unsubscribe-panel ng-if="!unsubscribed && message.getListUnsubscribe()"></unsubscribe-panel> <read-receipt-panel ng-if=message.requireReadReceiptConfirmation() class=messageExtra-container-warning></read-receipt-panel> <message-auto-generated ng-if=message.isAutoReply></message-auto-generated> <message-public-key-found ng-if="message.attachedPublicKey && !(message.askResign && message.verified !== 0)"></message-public-key-found> <message-public-key-pinning ng-if="message.promptKeyPinning && !(message.askResign && message.verified !== 0)"></message-public-key-pinning> <message-resign ng-if="message.askResign && message.verified !== 0"></message-resign> <display-content-btn data-action=remote></display-content-btn> <display-content-btn data-action=embedded></display-content-btn> </section> ')}])}t.exports=n},rbCz:function(t,e,a){"use strict";a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return d})),a.d(e,"a",(function(){return u})),a.d(e,"d",(function(){return p})),a.d(e,"c",(function(){return m})),a.d(e,"b",(function(){return f}));var n=a("J4zp"),o=a.n(n),r=a("cnVF"),s=function(t){return new Promise((function(e){var a=new Image;a.onload=function(){e(a)},a.src=t}))},l=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return s(t).then((function(t){var o=document.createElement("canvas"),r=t.width,s=t.height;return r>s&&r>e?(s*=e/r,r=e):s>e&&(r*=e/s,s=e),o.width=r,o.height=s,o.getContext("2d").drawImage(t,0,0,r,s),o.toDataURL(a,n)}))},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=(t||"").split(","),a=o()(e,2),n=a[0],r=void 0===n?"":n,s=a[1],l=void 0===s?"":s,i=r.match(/:(.*?);/)||[],c=o()(i,2),d=c[1],u=void 0===d?"":d;return{mime:u,base64:l}},c=function(t){for(var e=atob(t),a=e.length,n=new Uint8Array(a);a--;)n[a]=e.charCodeAt(a);return n},d=function(t){var e=i(t),a=e.base64,n=e.mime;return new Blob([c(a)],{type:n})},u=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=function t(o,r){return l(o,r,a,n).then((function(a){return d(a).size<=e?a:t(a,Math.round(.9*r))}))};return s(t).then((function(e){var a=e.height,n=e.width;return o(t,a>n?a:n)}))},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.startsWith("data:")},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.startsWith("cid:")},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?r.ac.test(t)||t.startsWith("data:")?t:"data:image/png;base64,".concat(t):t}},"rc0/":function(t,e){var a=window.angular,n="templates/blackFriday/blackFridayCountdown.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<span class=blackFridayCountdown-container></span> ")}])}t.exports=n},reAa:function(t,e){var a=window.angular,n="templates/contact/contactDisplayModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small important {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.onClickClose() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 class=modal-title translate-context="Contact modal title" translate>Contact details</h4> </div> <div class=modal-body> <contact-display data-vcard=ctrl.vcard data-modal=true></contact-display> </div> </div> <div class=modal-footer ng-if=ctrl.onClickMerge> <button class="pm_button modal-footer-button" ng-click=ctrl.onClickClose() translate-context=Action translate>Close</button> <button class="pm_button primary modal-footer-button" ng-click=ctrl.onClickMerge() tabindex=1 name=merge translate-context=Action translate>Merge</button> </div> <div class=modal-footer ng-if=!ctrl.onClickMerge> <button class="pm_button primary modal-footer-button" ng-click=ctrl.onClickClose() translate-context=Action tabindex=1 translate>Close</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},ri1t:function(t,e){var a=window.angular,n="templates/ui/mozInfo.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=mozInfo-container> <div class=mozInfo-modal> <p> <i class="fa fa-warning mozInfo-icon"></i> <span class=mozInfo-text translate-context="Info for mozilla condition" translate>Your subscription is managed by Mozilla. Please <a href=https://support.mozilla.org/en-US/kb/protonvpn target=_blank>click here</a> to contact Mozilla support.</span> </p> </div> </div>')}])}t.exports=n},rlSM:function(t,e){var a=window.angular,n="templates/contact/attachGroupContactEmailsModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} attachGroupContactEmailsModal-container" role=dialog> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <form name=attachGroupContactEmails novalidate ng-submit=ctrl.submit($event) class=modal-content> <header class=modal-header> <h4 class=modal-title translate-context=Title translate>Add to Group</h4> <p class="alert alert-info" translate-context=Info translate>Please select which email address or addresses to add to this group.</p> </header> <div class="modal-body attachGroupContactEmails-body"> <fieldset ng-repeat="contact in ctrl.contacts track by contact.ID" class=attachGroupContactEmailsModal-contact> <legend>{{ ::contact.Name }}</legend> <ul class=attachGroupContactEmailsModal-list> <li ng-repeat="email in contact.Emails track by email.ID" class=attachGroupContactEmailsModal-item-email> <label class=attachGroupContactEmailsModal-label> <custom-checkbox class=attachGroupContactEmailsModal-input data-custom-ng-model=email.isSelected></custom-checkbox> <span class=attachGroupContactEmailsModal-email>{{ ::email.Email }}</span> </label> </li> </ul> </fieldset> </div> <footer class="modal-footer text-right"> <button class="pm_button pull-left" type=button ng-click=ctrl.cancel() ng-disabled=ctrl.networkActivity translate-context=Action translate>Cancel</button> <button class="pm_button primary" ng-disabled=ctrl.networkActivity translate-context=Action translate>Save</button> </footer> </form> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},rtqA:function(t,e){var a=window.angular,n="templates/message/messageMimeParsing.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<section class=messageMimeParsing-container> <div class=messageMimeParsing-notice> <div class=messageMimeParsing-notice-text translate-context=Error translate>The email body is not a valid MIME message.</div> </div> </section> ")}])}t.exports=n},rvPS:function(t,e){var a=window.angular,n="templates/squire/squireToolbar.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<nav class="squireToolbar-container menu" data-squire-state> <div class=squireToolbar-row-1> <button type=button class="squireToolbar-action-bold bold" pt-tooltip-translate-context=Action pt-tooltip-translate=Bold data-squire-actions=bold> <i class="fa fa-bold"></i> </button> <button type=button class="squireToolbar-action-italic italic" pt-tooltip-translate-context=Action pt-tooltip-translate=Italic data-squire-actions=italic> <i class="fa fa-italic"></i> </button> <button type=button class="squireToolbar-action-underline underline" pt-tooltip-translate-context=Action pt-tooltip-translate=Underline data-squire-actions=underline> <i class="fa fa-underline"></i> </button> <div class=squireToolbar-separator></div> <button type=button class="squireToolbar-action-ulist ulist" pt-tooltip-translate-context=Action pt-tooltip-translate="Unordered list" data-squire-actions=makeUnorderedList> <i class="fa fa-list-ul"></i> </button> <button type=button class="squireToolbar-action-olist olist" pt-tooltip-translate-context=Action pt-tooltip-translate="Ordered list" data-squire-actions=makeOrderedList> <i class="fa fa-list-ol"></i> </button> <div class="squireToolbar-separator desktopOnly"></div> <button type=button class=squireToolbar-action-options pt-tooltip-translate-context=Action pt-tooltip-translate="Text options"> <i class="fa fa-font" aria-hidden=true></i> <i class="fa fa-angle-down"></i> <i class=squireToolbar-triangle-with-shadow></i> </button> <div class=squireToolbar-separator></div> <button type=button class="squireToolbar-action-link link" pt-tooltip-translate-context=Action pt-tooltip-translate="Insert link" data-squire-details=popover.form data-squire-actions=makeLink> <i class="fa fa-link"></i> </button> <button type=button class="squireToolbar-action-image image" data-squire-details=popover.form pt-tooltip-translate-context=Action pt-tooltip-translate="Insert image" data-squire-actions=insertImage> <i class="fa fa-image"></i> </button> <button type=button class="squireToolbar-action-removeAllFormatting removeAllFormatting" pt-tooltip-translate-context=Action pt-tooltip-translate="Clear all formatting" data-squire-actions=removeAllFormatting> <i class="fa fa-eraser"></i> </button> <more-toggle class="squireToolbar-select squireToolbar-text-mode"></more-toggle> </div> <div class=squireToolbar-row-2> <squire-select-font-size class="squireToolbar-select squireToolbar-fontSize"></squire-select-font-size> <squire-select-font-family class="squireToolbar-select squireToolbar-fontFamily"></squire-select-font-family> <squire-select-color class=squireToolbar-color></squire-select-color> <div class=squireToolbar-separator></div> <button type=button class="squireToolbar-action-aleft aleft" pt-tooltip-translate-context=Action pt-tooltip-translate="Align left" data-squire-actions=alignLeft> <i class="fa fa-align-left"></i> </button> <button type=button class="squireToolbar-action-acenter acenter" pt-tooltip-translate-context=Action pt-tooltip-translate="Align center" data-squire-actions=alignCenter> <i class="fa fa-align-center"></i> </button> <button type=button class="squireToolbar-action-aright aright" pt-tooltip-translate-context=Action pt-tooltip-translate="Align right" data-squire-actions=alignRight> <i class="fa fa-align-right"></i> </button> <div class=squireToolbar-separator></div> <button type=button class="squireToolbar-action-blockquote blockquote" pt-tooltip-translate-context=Action pt-tooltip-translate=Quote data-squire-actions=increaseQuoteLevel> <i class="fa fa-quote-right"></i> </button> </div> </nav> ')}])}t.exports=n},"s6q/":function(t,e){var a=window.angular,n="templates/settings/chooseComposerMode.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="chooseComposerMode-container pm_select inline"> <label> <span class=sr-only translate translate-context=Label>Composer mode</span> <select ng-model=model> <option value=text/html translate-context="Composer Mode" translate>Normal</option> <option value=text/plain translate-context="Composer Mode" translate>Plain Text</option> </select> <i class="fa fa-angle-down"></i> </label> </div> ')}])}t.exports=n},s7Pn:function(t,e){var a=window.angular,n="templates/filter/emailBlockButton.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button class="pm_button primary" translate translate-context=Action>Add</button> ')}])}t.exports=n},s99J:function(t,e){var a=window.angular,n="templates/notifications/welcome.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=\"proton-notification-template cg-notify-message\" ng-click=$close() ng-class=\"[$classes,\n        $position === 'center' ? 'cg-notify-message-center' : '',\n        $position === 'left' ? 'cg-notify-message-left' : '',\n        $position === 'right' ? 'cg-notify-message-right' : '']\" ng-style=\"{'margin-left': $centerMargin}\" role=alert> <div class=cg-notify-message-content ng-show=!$messageTemplate>{{$message}}</div> <div ng-show=$messageTemplate class=cg-notify-message-template></div> <a class=cg-notify-text-muted ng-click=$close()><i class=\"fa fa-times\"></i></a> </div> ")}])}t.exports=n},sNrA:function(t,e){var a=window.angular,n="templates/payment/paymentForm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_form paymentForm-container" ng-class="{\n    \'paymentForm-cycle-month\': ctrl.valid.Cycle === 1,\n    \'paymentForm-cycle-year\': ctrl.valid.Cycle === 12,\n    \'paymentForm-cycle-2-years\': ctrl.valid.Cycle === 24,\n}"> <div class=pm_grid> <div class=col-1-2> <div class=pm_table> <payment-plan-overview plan-ids=ctrl.planIDs valid=ctrl.valid class=margin></payment-plan-overview> </div> <div class="text-center alert alert-info paymentForm-about-month"> <p> <strong translate-context="Payment form information" translate>Save 20% with the annual plan!</strong> </p> <p> <button type=button class="pm_button primary paymentForm-btn-payAnnualy" translate translate-context=Action>Pay annually</button> </p> </div> </div> <div class=col-1-2> <p class="alert alert-danger" ng-show=!ctrl.status.Paypal translate translate-context=Info>PayPal is currently not available, please try again later.</p> <p class="alert alert-danger" ng-show="!ctrl.status.Stripe && !ctrl.status.Paymentwall" translate translate-context=Info>Credit card payment is currently not available, please try again later.</p> <div ng-if=ctrl.valid.AmountDue> <div class="pm_grid margin"> <div class=col-1-2> <label for=paymentMethod translate translate-context=Title translate-comment="form label">Payment method:</label> </div> <div class=col-1-2> <div class=pm_select> <select id=paymentMethod ng-model=ctrl.method ng-options="method.label for method in ctrl.methods"></select> <i class="fa fa-angle-down"></i> </div> </div> </div> <card-view data-card=ctrl.card ng-if="ctrl.method.value === \'card\'" data-form=form></card-view> <div ng-if="ctrl.method.value === \'paypal\'"> <paypal-view data-amount=ctrl.valid.AmountDue data-currency=ctrl.valid.Currency data-callback=ctrl.paypalCallback></paypal-view> </div> <bitcoin-view ng-if="ctrl.method.value === \'bitcoin\'" class=paymentModal-bitcoin data-currency=ctrl.valid.Currency data-amount=ctrl.valid.AmountDue></bitcoin-view> <p ng-if="ctrl.method.value === \'cash\'" class="alert alert-info" translate translate-context=Info>To pay via Cash, please email us at <strong>contact@protonmail.com</strong> for instructions.</p> <hr/> </div> <div ng-if=!ctrl.isBlackFriday> <p> <gift-code-btn ng-if=!ctrl.displayGift ng-click="ctrl.displayGift = true"></gift-code-btn> </p> <div ng-if=ctrl.displayGift> <label translate-context=Context translate>Gift code</label> <div class="pm_grid flex flex-row"> <div class=col-2-3> <gift-code-input data-code=ctrl.gift data-form=form></gift-code-input> </div> <div class=col-1-3> <button type=button data-action=gift class="pm_button primary" translate-context=Action translate>Apply</button> </div> </div> </div> </div> <p><span translate translate-context=Info>By clicking Submit, you agree to abide by</span> <a href=https://protonmail.com/terms-and-conditions target=_blank translate translate-context=Link>ProtonMail\'s Terms and Conditions</a>.</p> </div> </div> </div> ')}])}t.exports=n},sRtC:function(t,e){var a=window.angular,n="templates/views/dashboard.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class="settings settingsDashboard-container"> <div class=row> <section class=pm_form> <div class="pm_grid flex flex-row"> <div class="col-1-2 pm-flex-content"> <header-block class=settingsDashboard-header-overview> <h2 class=settingsDashboard-title-overview translate translate-context=Title>Overview</h2> </header-block> <section class=settingsDashboard-overview-section-table-container> <overview-section></overview-section> </section> </div> <div class="settingsDashboard-subscription-section col-1-2" ng-if=isPaidUser> <header-block class=settingsDashboard-header-subscription> <h2 class=settingsDashboard-title-subscription translate translate-context=Title>My subscription</h2> </header-block> <section class=settingsDashboard-subscription-section-table-container> <subscription-section methods=methods></subscription-section> </section> </div> <div class="col-1-2 donate pm-flex-content" ng-if=!isPaidUser> <header-block class=settingsDashboard-header-donate> <h2 class=settingsDashboard-title-donate translate translate-context=Title>Donate</h2> </header-block> <div class="well pm-flex-content-fillHeight text-center"> <p translate-context="dashboard, donation informations" translate>Upgrading to a paid account is the best way to support ProtonMail, but you can also donate any amount.</p> <p><strong translate-context="dashboard, donation informations" translate>Your donation helps us support more users and continue to develop ProtonMail as free and open source software.</strong></p> <p> <donate-btn class="pm_button primary settingsDashboard-btn-donation"></donate-btn> </p> </div> </div> </div> </section> </div> <div class=row> <section class="settingsDashboard-plans-section setting pm_form full" id=plans> <moz-info></moz-info> <header-block class=settingsDashboard-header-plans> <h2 class=settingsDashboard-title-plans translate translate-context=Title>Plans and prices</h2> </header-block> <section class=settingsDashboard-plans-subheader> <vpn-discount-panel></vpn-discount-panel> <div class=settingsDashboard-plans-devise-discount> <div class=settingsDashboard-plans-devise> <div class=settingsDashboard-plans-devise-label> <label translate-context=label translate>Currency</label> <a class="settingsDashboard-plans-devise-label-link text-purple" href=https://protonmail.com/support/knowledge-base/changing-the-currency/ target=_blank> <i class="fa fa-info-circle"></i> </a> </div> <dashboard-currency-selector></dashboard-currency-selector> </div> </div> </section> <div class=settingsDashboard-arrowToScroll arrows-to-scroll> <div class=settingsDashboard-plans active-plan> <free-column></free-column> <plus-column></plus-column> <professional-column></professional-column> <visionary-column><visionary-column> </visionary-column></visionary-column></div> </div> </section> </div> </div> </div> ')}])}t.exports=n},sTW5:function(t,e){var a=window.angular,n="templates/authentication/loginForm.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form method=post id=pm_login name=loginForm class="pm_panel pm_panel-login alt pm_form loginForm-container" novalidate role=form autocomplete=on> <div class=pm_panel-login__inner> <img src=assets/img/logo.png height=20 alt=ProtonMail class=logo /> <h4 class="text-center margin-bottom"> <i class="fa fa-user title-icon"></i> <span translate-context=Title translate>User login</span> </h4> <div class="alert alert-danger" id=error521 ng-if=error>{{ error.message }}</div> <label for=username class=sr-only translate-context=Label translate>User login</label> <input autofocus autocapitalize=off autocorrect=off type=text ng-model=username id=username name=username placeholder-translate-context="login form placeholder" placeholder-translate=Username class="margin loginForm-input-username" required=""/> <label for=password class=sr-only translate-context=Label translate>Password</label> <password class="margin loginForm-input-password" data-id=password data-name=password data-value=password data-form=loginForm placeholder-translate-context="login form placeholder" placeholder-translate=Password></password> <div class=loginForm-actions> <div class=loginForm-actions-column> <button id=login_btn type=submit ng-disabled=loading class="loginForm-actions-main pm_button primary primary-white pull-right loginForm-btn-submit disabled-if-network-activity" translate-context=Action translate>Login</button> <div class="text-left text-notransform loginForm-actions-help"> <span translate translate-context="Trouble logging in? Get help or try older version.">Trouble logging in? Get</span> <button class=loginForm-btn-help data-action=help type=button translate-comment=Action translate-context="Trouble logging in? Get help or try older version." translate>help</button> <span translate translate-context="Trouble logging in? Get help or try older version.">or try</span> <a class="link loginForm-btn-oldversion" href=https://old.protonmail.com/login target=_self translate-comment=Action translate-context="Trouble logging in? Get help or try older version." translate>older version</a>. </div> <div class=loginForm-actions-new-container> <div class="loginForm-actions-new-title text-notransform h4 margin-top" translate-context=title translate>New to ProtonMail?</div> <div class="loginForm-actions-create-container margin-top"> <link-website class="loginForm-link-signup-button loginForm-actions-right margin-bottom" data-link=signup></link-website> </div> </div> </div> </div> </div> <div class="pm_panel-bottom text-notransform"><span translate translate-context="Want to test the latest features? Log in on BETA">Want to test the latest features? Log in on</span> <a href=https://beta.protonmail.com/ translate translate-context="Want to test the latest features? Log in on BETA">BETA</a>.</div> </form> ')}])}t.exports=n},sUT6:function(t,e){var a=window.angular,n="templates/directives/composer/composerInputMeta.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=composerInputMeta-container ng-class="{\'composerInputMeta-recipients\': containsRecipient(), \'composerInputMeta-overlay-hidden\': message.ccbcc  || message.autocompletesFocussed || containsInvalid(message) }"> <div class=composerInputMeta-overlay> <label class=composerInputMeta-overlay-label translate-context=Title translate>Recipients</label> <div class=composerInputMeta-overlay-list> <span class=svg-ellipsis-clipper></span> <span ng-if=message.ToList.length translate-context=Title translate-comment="To: addresses" translate>To:</span> <composer-input-recipient ng-repeat="email in message.ToList track by email.Address" data-email=email data-message=message></composer-input-recipient> <span ng-if=message.CCList.length translate-context=Title translate-comment="CC: addresses" translate>CC:</span> <composer-input-recipient ng-repeat="email in message.CCList track by email.Address" data-email=email data-message=message></composer-input-recipient> <span ng-if=message.BCCList.length translate-context=Title translate-comment="BCC: addresses" translate>BCC:</span> <composer-input-recipient ng-repeat="email in message.BCCList track by email.Address" data-email=email data-message=message></composer-input-recipient> </div> </div> <label to=composerAutocompleteTo class=composerInputMeta-label data-action=openModal pt-tooltip-translate="Add contacts" pt-tooltip-translate-context=Action translate translate-context=Title>To</label> <autocomplete-emails class=composerInputMeta-autocomplete data-name=composerAutocompleteTo data-message=message data-emails=message.ToList data-key=ToList></autocomplete-emails> <button class="pm_button link composerInputMeta-overlay-button" ng-class="{\'fa-rotate-180\': message.ccbcc}" tabindex=-1 pt-tooltip-translate="CC BCC" pt-placement=left pt-tooltip-translate-context=Action> <i class="fa fa-angle-down"></i> <span class=sr-only translate-context=Action translate>CC BCC</span> </button> </div> ')}])}t.exports=n},sX7S:function(t,e){var a=window.angular,n="templates/contact/importContactModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h3 class=modal-title translate translate-context=Title>Import</h3> </div> <div class=modal-body> <p translate translate-context=Info>We support importing CSV files from Outlook, Outlook Express, Yahoo! Mail, Hotmail, Eudora and some other apps. We also support importing vCard. (UTF-8 encoding). <a href=https://protonmail.com/support/knowledge-base/adding-contacts/ target=_blank>Need help?</a></p> <import-card-dropzone></import-card-dropzone> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=button class="pm_button primary modal-footer-button" ng-disabled=!ctrl.fileDropped ng-click=ctrl.import() translate translate-context=Action>Import</button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},sfyz:function(t,e){var a=window.angular,n="templates/invoices/invoiceList.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="invoiceList-container pm_table"> <table id=invoicesTable> <thead> <tr> <th scope=col class=invoice>ID</th> <th scope=col class=price translate-context=Title translate>Amount</th> <th scope=col class=actions translate-context=Title translate>Actions</th> <th scope=col class=type translate-context=Title translate>Type</th> <th scope=col class=status translate-context=Title translate>Status</th> <th scope=col class=time translate-context=Title translate>Date</th> </tr> </thead> <tbody> <tr class=invoiceList-row ng-repeat="invoice in model.list track by invoice.ID"> <td> <span class=bold>#{{ ::invoice.ID }}</span> </td> <td>{{::invoice | invoicePrice }}</td> <td> <button type=button data-action=download data-action-arg={{::invoice.ID}} class="pm_button link" translate-context=Action translate>Download</button> <pay-invoice-btn data-model=invoice ng-if="invoice.State === 0"></pay-invoice-btn> </td> <td> <span class=pm_badge>{{ ::invoice | invoiceInfo:\'type\' }}</span> </td> <td> <span ng-class="{\n                            error: invoice.State === 0,\n                            success: invoice.State === 1\n                        }" class=pm_badge>{{ invoice | invoiceInfo:\'state\' }}</span> </td> <td>{{ invoice.CreateTime | readableTime }}</td> </tr> </tbody> </table> </div> ')}])}t.exports=n},shW4:function(t,e){var a=window.angular,n="templates/notifications/badVersion.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=\"proton-notification-template cg-notify-message\" ng-class=\"[$classes,\n        $position === 'center' ? 'cg-notify-message-center' : '',\n        $position === 'left' ? 'cg-notify-message-left' : '',\n        $position === 'right' ? 'cg-notify-message-right' : '']\" ng-style=\"{'margin-left': $centerMargin}\" role=alert> <div ng-class=\"{ 'animated bounceIn' : $classes==='notification-success' }\"> <span>{{ ::$message }}</span> </div> </div> ")}])}t.exports=n},t0K9:function(t,e){var a=window.angular,n="templates/composer/composerEncrypt.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class="options composerEncrypt-container pm_form pm_grid" name=encryptForm> <header class=composerEncrypt-header> <h3 translate translate-context=Title>Encrypt for non-ProtonMail users</h3> <a href=https://protonmail.com/support/knowledge-base/encrypt-for-outside-users/ target=_blank> <i class="fa fa-info-circle"></i> </a> </header> <div class=alert> <div ng-class="{\'has-error\': encryptForm.outsidePw.$touched && encryptForm.outsidePw.$error.required}" class=clearfix> <label for=outsidePw class="text-muted col-1-3" translate translate-context=Title>Message Password</label> <div class=col-2-3> <input style=display:none type=password name=foilautofill /> <input type=password autocomplete=off name=outsidePw id=outsidePw ng-model=model.password placeholder-translate-context=Placeholder placeholder-translate=Password class=composer-options-input required> </div> </div> <div ng-class="{\'has-error\': encryptForm.outsidePwConfirm.$touched && encryptForm.outsidePwConfirm.$error.required}" class=clearfix> <label for=outsidePwConfirm class="text-muted col-1-3" translate translate-context=Title>Confirm Password</label> <div class=col-2-3> <input style=display:none type=password name=foilautofill> <input type=password autocomplete=off name=outsidePwConfirm id=outsidePwConfirm ng-model=model.confirm placeholder-translate-context=Placeholder placeholder-translate="Confirm password" class=composer-options-input required> </div> </div> <div class=clearfix> <label for=outsidePwHint class="text-muted col-1-3"> <span translate translate-context=Title>Password Hint</span> (<em translate translate-context=Info>Optional</em>) </label> <div class=col-2-3> <input type=text class=composer-options-input autocomplete=off name=outsidePwHint id=outsidePwHint ng-model=model.hint placeholder-translate-context=Placeholder placeholder-translate=Hint> </div> </div> </div> <p class="clear alert alert-warning" translate translate-context=Info>Encrypted messages to non-ProtonMail recipients will expire in 28 days unless a shorter expiration time is set.</p> <footer class=text-right> <button type=button class="pm_button pull-left mobileFull composer-options-btn-cancel composerEncrypt-btn-cancel" translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary mobileFull composer-options-btn-submit composerEncrypt-btn-submit" ng-disabled=encryptForm.$invalid translate translate-context=Action>Set</button> </footer> </form> ')}])}t.exports=n},tAXa:function(t,e){var a=window.angular,n="templates/directives/core/bugModalView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="bugModalView-container pm_form"> <p class="alert alert-info" translate translate-context=Info> <i class="fa fa-info-circle"></i> Refreshing the page or <a href=https://protonmail.com/support/knowledge-base/how-to-clean-cache-and-cookies/ target=_blank>clearing your browser cache</a> will automatically resolve most issues. </p> <div class=pm_grid> <div class=col-1-4> <label for=bug_os translate translate-context=Title>Operating system</label> </div> <div class=col-1-4> <input type=text placeholder-translate-context=Placeholder placeholder-translate="OS Name" name=bug_os id=bug_os ng-model=model.OS> </div> <div class=col-1-4> <label for=bug_os_version translate translate-context=Title>OS version</label> </div> <div class=col-1-4> <input placeholder-translate-context=Placeholder placeholder-translate="OS version" type=text id=bug_os_version ng-model=model.OSVersion /> </div> </div> <div class=pm_grid> <div class=col-1-4> <label for=bug_browser translate translate-context="bug report modal label">Browser</label> </div> <div class=col-1-4> <input type=text name=bug_browser id=bug_browser placeholder-translate-context=Placeholder placeholder-translate=Browser ng-model=model.Browser /> </div> <div class=col-1-4> <label for=bug_browser_version translate translate-context="bug report modal label">Browser version</label> </div> <div class=col-1-4> <input type=text name=bug_browser_version id=bug_browser_version placeholder-translate="Browser version" placeholder-translate-context="bug report modal" ng-model=model.BrowserVersion /> </div> </div> <div class=pm_grid> <div class=col-1-4> <label for=bugEmail translate translate-context="bug report modal label">Email address</label> </div> <div class="col-3-4 ng-message-wrapper"> <input type=email required name=bugEmail id=bugEmail data-validator-typo-email placeholder-translate-context="bug report modal" placeholder-translate="Please make sure to give us a way to contact you" ng-model=model.Email> <div ng-messages=form.bugEmail.$error role=alert> <div class=ng-messages-errors> <p ng-message=required translate-context=Error translate>You must set an email</p> <p ng-message=email translate-context=Error translate>Invalid email</p> </div> <div class=ng-messages-warning> <p ng-message-warning=typo-email translate-context=Error translate>Are you sure your email address is correct ?</p> </div> </div> </div> </div> <div class=pm_grid> <div class=col-1-4> <label for=bug_description translate translate-context="bug report modal label">What happened?</label> </div> <div class="col-3-4 ng-message-wrapper"> <textarea ng-model=model.Description required name=bug_description rows=6 id=bug_description placeholder-translate-context="bug report modal description" placeholder-translate="Please describe the problem and include any error messages"></textarea> <div ng-messages=form.bug_description.$error role=alert> <div class=ng-messages-errors> <p ng-message=required translate-context=Error translate>Add a description to help us improve ProtonMail</p> </div> </div> </div> </div> <div class="pm_grid bugModalView-upload-row"> <div class=col-1-4> <label translate translate-context=Title translate-comment="but report form heading label">Attach screenshot</label> </div> <div class=col-3-4> <label class=bugModalView-input-label for=bugModalView-upload translate-context=Action translate>Add screenshots</label> <input type=file multiple=multiple accept=image/* class=bugModalView-input-file id=bugModalView-upload> <a class="pm_button link bugModalView-upload-info" href=https://protonmail.com/support/knowledge-base/screenshot-reporting-bugs/ target=_blank translate-context=Link translate>Learn more</a> <div class=bugModalView-upload-success> <i class="fa fa-image"></i> <span class=bugModalView-upload-success-message translate-context="Success message" translate>Screenshot(s) attached</span> <button class="pm_button bugModalView-clear-upload" type=button translate-context=Action translate>Clear</button> </div> </div> </div> <p class="alert alert-warning" translate translate-context=Info>Bug reports are not end-to-end encrypted, please do not send any sensitive information.</p> <p class="alert alert-info" translate translate-context=Info>Contact us at <a href=mailto:security@protonmail.com>security@protonmail.com</a> for critical security issues.</p> </div> ')}])}t.exports=n},tBM4:function(t,e){var a=window.angular,n="templates/modals/deleteAccount.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <form class=modal-dialog name=deleteForm ng-submit=ctrl.submit() autocomplete=off novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class="modal-content pm_form"> <div class=modal-header> <h4 class=modal-title translate translate-context=Title>Delete account</h4> </div> <div class=modal-body> <p class="alert alert-warning"> <strong translate translate-context=Info translate-comment="account deletion warning">WARNING: DELETION IS PERMANENT</strong><br/> <span translate translate-context=Info>If you wish to delete this account in order to combine it with another one, do NOT delete it. You need to follow</span> <a href=https://protonmail.com/support/knowledge-base/combine-accounts/ target=_blank translate translate-context=Link>this procedure</a> <span translate translate-context=Info translate-comment="If you wish to delete this account in order to combine it with another one, do NOT delete it. You need to follow [link] instead">instead</span>. </p> <p class="alert alert-warning"> <strong translate translate-context=Info translate-comment="account deletion warning">WARNING: THIS ALSO DELETES ALL CONNECTED SERVICES (ex: <i>ProtonVPN</i>)</strong> </p> <div class=margin> <label translate translate-context=Label>What is the main reason you are deleting your account?</label> <span class=pm_select> <select ng-model=ctrl.reason ng-options="reason as reason.label disable when reason.disabled for reason in ctrl.reasons track by reason.value" required></select> <i class="fa fa-angle-down"></i> </span> </div> <div class=margin> <label translate translate-context=Label>We are sorry to see you go. Please explain why you are leaving to help us improve:</label> <textarea ng-model=ctrl.feedback placeholder-translate-context=Placeholder placeholder-translate=Feedback></textarea> </div> <div class=margin> <label translate translate-context=Label>Please provide an email address in case we need to contact you:</label> <input type=email placeholder-translate-context=Placeholder ng-model=ctrl.email placeholder-translate=Email /> </div> <div class=margin> <label translate translate-context=Label>Enter your login password to confirm your identity:</label> <input type=password placeholder-translate-context=Placeholder ng-model=ctrl.password placeholder-translate="Login password" required/> </div> <div class=margin ng-if=ctrl.hasTwoFactor> <label translate translate-context=Label>Enter two-factor passcode:</label> <two-fa-field ng-model=ctrl.twoFactorCode placeholder-translate-context=Placeholder placeholder-translate="Two-factor passcode"></two-fa-field> </div> <div class=margin> <label> <custom-checkbox data-custom-ng-model=ctrl.check></custom-checkbox> <span translate-context="Label for checkbox in delete account modal" translate>Yes, I want to permanently delete this account and all its data</span> </label> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button" ng-click=ctrl.cancel() translate-context=Action translate>Cancel</button> <button type=submit ng-disabled=ctrl.isSubmitDisabled() class="pm_button error modal-footer-button disabled-if-network-activity" translate-context=Action translate>Delete</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},tWfZ:function(t,e){var a=window.angular,n="templates/security/logManager.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form class=logManager-container ng-class="{\n        \'noLog\': model.doLogging === 0,\n        \'activeLog\': model.doLogging === 1,\n        \'activeLogAdvanced\': model.doLogging === 2\n    }" novalidate method=post> <header-block class=settingsSecurity-header-logs> <h2 class=settingsSecurity-title-logs translate translate-comment="logs page heading" translate-context=Title>Authentication Logs</h2> </header-block> <nav class=logManager-nav> <div class=logManager-navLeft> <div class="pm_buttons logManager-groupBtn"> <button class="pm_button noLogBtn logManager-btn-noLogBtn" type=button data-action=disable> <span ng-if=!doLogging translate translate-context=Action>Disable</span> <span ng-if=doLogging translate translate-context=Action>Disabled</span> </button> <button class="pm_button activeLogBtn logManager-btn-activeLogBtn" type=button data-action=basic translate translate-context=Action>Basic</button> <button class="pm_button activeLogAdvancedBtn logManager-btn-activeLogAdvancedBtn" type=button data-action=advanced translate translate-context=Action>Advanced</button> </div> <button class="securityLogRefresh pm_button onlyActive" data-action=reload type=button> <i class="fa fa-rotate-right"></i> </button> </div> <div class="logManager-navRigtht securtiyLogActions onlyActive"> <button class=pm_button data-action=clear type=button translate-context=Action translate>Wipe</button> <button class=pm_button data-action=download type=button translate-context=Action translate>Download</button> <paginator-scope ng-if=model.total class=logManager-pagination data-type=logs data-page=model.currentPage data-total-items=model.total data-items-per-page=model.perPage data-change=changePage></paginator-scope> </div> </nav> <div class=clear> <p class="noLog alert alert-info" translate translate-context=Info>You can enable authentication logging to see when your account is accessed, and from which IP. We will record the IP address that accesses the account and the time, as well as failed attempts.</p> <p class="onlyActive alert alert-info" translate translate-context=Info>Logs include authentication attempts for all Proton services that use your ProtonMail credentials.</p> </div> <div class="clear onlyActive"> <p class="alert alert-info onlyActive" ng-if="model.loaded && !model.total" translate-context=Info translate>No logs yet</p> <p class="alert alert-info onlyActive" ng-if=!model.loaded><i class="fa fa-spin fa-spinner"></i> <span translate-context=Info translate>Fetching logs...</span> </p> <session-logs-table ng-if=model.total data-model=model></session-logs-table> </div> </form> ')}])}t.exports=n},tjaA:function(t,e){var a=window.angular,n="templates/views/members.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class=settings> <p class="alert alert-info" ng-if=mobileMode translate-context=Info translate-comment="responsiveness info" translate>This page is only available on larger resolution devices. If you are on a phone, try landscape mode, or visit on a computer instead.</p> <restore-administrator-panel ng-if="keyStatus === 2"></restore-administrator-panel> <div class=row ng-show="organization.HasKeys === 0"> <section class="setting pm_form full"> <header-block class=settingsUsers-header-signatures> <h2 class=settingsUsers-title-signatures translate translate-context=Title>Multi-User Support</h2> </header-block> <p class="alert alert-info" translate-context=Info translate>Create and manage sub-accounts and assign them email addresses on your custom domain.</p> <p> <member-edit-btn data-action=enableSupport class="pm_button primary" data-model=member></member-edit-btn> <a href=https://protonmail.com/support/knowledge-base/business/ target=_blank class="pm_button link" translate-context=Link translate>Learn more</a> </p> </section> </div> <div class=row id=settingsOrganization ng-show="organization.HasKeys === 1"> <section class="setting pm_form full"> <header-block class=settingsUsers-header-organization> <h2 class=settingsUsers-title-organization translate translate-context=Title>Organization</h2> </header-block> <div class="pm_grid no-margin"> <div class=col-1-2> <div class=clearfix> <organization-form-name></organization-form-name> </div> </div> <div class=col-1-2> <div class=clearfix> <table class=usersTable id=usersTable> <tbody> <tr> <th scope=row> <span translate-context=Info translate>Number of users</span> </th> <td> <span class=nowrap> {{ organization.UsedMembers }} <span translate-context=Info translate>of</span> {{ organization.MaxMembers }} </span> <span translate-context=Info translate>used</span> </td> <td class=text-right> <span hide-upgrade=member> <a ui-sref="secured.dashboard({ scroll: true })" class="pm_button link" translate-context=Action translate-comment="link to dashboard" translate>Upgrade</a> </span> </td> </tr> <tr> <th scope=row> <span translate translate-context=Info>Organization storage</span> </th> <td> <span class=nowrap>{{ organization.MaxSpace | humanSize }}</span> </td> <td class=text-right> <span hide-upgrade=space> <a ui-sref="secured.dashboard({ scroll: true })" class="pm_button link" translate-context=Action translate-comment="link to dashboard" translate>Upgrade</a> </span> </td> </tr> <tr> <th scope=row> <span translate-context=Info translate>Available VPN connections</span> </th> <td> <span translate-context=Info translate>{{ organization.MaxVPN - organization.UsedVPN }} </span> </td> <td class=text-right> <span hide-upgrade=member> <a ui-sref="secured.dashboard({ scroll: true })" class="pm_button link" translate-context=Action translate-comment="link to dashboard" translate>Upgrade</a> </span> </td> </tr> <tr> <th scope=row colspan=2> <span class=margin-right translate-context=Info translate>Available domains</span> <div class=margin-left> <span class="ellipsis usersTable-domainList" ng-repeat="domain in domains" title="{{ domain.DomainName }}"> {{ domain.DomainName }}{{ $last ? \'\' : \', \' }} </span> </div> </th> <td class=text-right> <a ui-sref=secured.domains class="pm_button link" translate-context=Action translate-comment="link to domains" translate>Manage</a> </td> </tr> </tbody> </table> </div> </div> </div> </section> </div> <div class=row id=settingsMembers> <section class="setting pm_form full"> <header-block class=settingsUsers-header-signatures> <h2 class=settingsUsers-title-signatures translate translate-context=Title>Addresses / Users</h2> <small class=settingsUsers-details-signatures ng-if=isAdmin> {{ organization.UsedAddresses }} / {{ organization.MaxAddresses }} <span translate-comment="how many addresses are in use" translate-context=Info translate>addresses used.</span> <a class=settingsUsers-link-signatures ui-sref="secured.dashboard({scroll: true})" data-hide-upgrade=address translate-context=Action translate-comment="link to dashboard page" translate>Upgrade your plan</a> </small> </header-block> <p> <member-edit-btn data-action=add class="pm_button primary"></member-edit-btn> </p> <div class="pm_table visibleOverflow"> <table class="members-table bordered absorbing withDropDown"> <thead> <tr> <th scope=col translate-context=Title translate-comment="table heading" translate>Name</th> <th scope=col class=absorbing-column translate-context=Title translate-comment="table heading" translate>Addresses</th> <th scope=col ng-if="organization.HasKeys === 1"> <span translate-context=Title translate-comment="table heading" translate>Role</span> <a href=https://protonmail.com/support/knowledge-base/member-roles/ target=_blank> <i class="fa fa-info-circle"></i> </a> </th> <th scope=col ng-if="organization.HasKeys === 1"> <span translate-context=Title translate-comment="table heading" translate>Private</span> <a href=https://protonmail.com/support/knowledge-base/private-members/ target=_blank> <i class="fa fa-info-circle"></i> </a> </th> <th scope=col></th> <th scope=col translate-context=Title translate-comment="table heading" translate>Actions</th> </tr> </thead> <tbody class=members-table-tbody> <tr ng-repeat-start="member in members track by member.ID"> <td> <span ng-bind=member.Name></span> </td> <td> <span>{{ member.Addresses[0].Email }}</span> <toggle-expand ng-if="member.Addresses.length > 1" class=autoHeight data-model=member data-text="+ {{ member.Addresses.length - 1 }}"></toggle-expand> <toggle-expand ng-if="member.Addresses.length === 1" class=autoHeight data-model=member></toggle-expand> </td> <td ng-if="organization.HasKeys === 1"> <span ng-show=member.Subscriber translate-context=Info translate>Primary Admin</span> <span ng-hide=member.Subscriber ng-bind=roles[member.Role]></span> </td> <td ng-if="organization.HasKeys === 1"> <span ng-show="member.Private === 1" translate-context=Option translate>Yes</span> <span ng-hide="member.Private === 1" translate-context=Option translate>No</span> </td> <td> <div class=members-table-usage> <i class="fa fa-hdd-o"></i> {{ member.UsedSpace | humanSize:true:\'GB\' }} / {{ member.MaxSpace | humanSize:false:\'GB\' }} <span translate-context="space used out of total space allowed for a member" translate>Used</span> </div> <div class=members-table-usage> <i class="fa fa-shield"></i> {{ member.MaxVPN }} <span translate-comment="vpn connection used" translate-context="How many connections" translate>VPN Connections</span> </div> </td> <td> <div class=pm_buttons> <address-btn-actions data-model2=member data-action=add class="pm_buttons pm_button primary"></address-btn-actions> <a class="pm_buttons pm_button primary pm_trigger fa fa-angle-down" ng-if="organization.HasKeys === 1" dropdown></a> <div class="pm_dropdown right"> <member-edit-btn ng-if="!member.Self && member.Type === 1" data-action=destroy class="pm_button link text-red" data-model=member></member-edit-btn> <member-edit-btn ng-if="!member.Self && member.Type === 0" data-action=remove class="pm_button link" data-model=member></member-edit-btn> <member-edit-btn ng-if="organization.HasKeys === 1" class="pm_button link" data-model=member></member-edit-btn> <member-edit-btn ng-if="member.Role === 1" data-action=makeAdmin class="pm_button link" data-model=member></member-edit-btn> <member-edit-btn ng-if="!member.Self && member.Role === 2" data-action=revokeAdmin class="pm_button link" data-model=member></member-edit-btn> <member-edit-btn ng-if="!member.Self && member.Private === 0 && member.Keys.length  && member.Addresses.length" data-action=login class="pm_button link" data-model=member></member-edit-btn> <member-edit-btn ng-if="member.Private === 0" data-action=makePrivate class="pm_button link" data-model=member></member-edit-btn> <member-edit-btn ng-if=!member.Self data-action=revokeSessions class="pm_button link" data-model=member></member-edit-btn> </div> </div> </td> </tr> <tr class="hasTable member-table-addresses-wrapper" ng-repeat-end ng-if="member.toggle === true && member.Addresses.length > 0"> <td colspan=6> <div class="pm_table member-table-addresses-pmTable"> <table class="member-table-addresses absorbing"> <tbody> <tr ng-repeat="address in member.Addresses | orderBy: [\'!Status\',\'Order\'] track by address.ID"> <td ng-bind=address.Email></td> <td class=absorbing-column> <span class="pm_badge success" ng-show="address.Status === 1 && address.Receive === 1" translate translate-comment="address state badge" translate-context="Address state badge">Enabled</span> <span class="pm_badge error" ng-show="address.Status === 0" translate translate-comment="address state badge" translate-context="Address state badge">Disabled</span> <span class="pm_badge warning" ng-show="address.HasKeys === 0" translate translate-comment="address state badge" translate-context="Address state badge">Missing keys</span> <span class="pm_badge warning" ng-show="address.DomainID === null" translate translate-comment="address s tate badge" translate-context="Address state badge">Orphan</span> <span class="pm_badge primary" ng-show=address.isDefault translate translate translate-comment="address state badge" translate-context="Address state badge">Default</span> </td> <td class=text-right> <address-btn-actions data-model=address data-model2=member data-action=generate ng-if="((isAdmin && member.Private !== 1) || (member.Private === 1 && member.Self === 1)) && address.HasKeys === 0" class="pm_button link"></address-btn-actions> <address-btn-actions data-model=address data-action=enable ng-if="isAdmin && address.Status === 0 && address.Type !== 1 && address.Type !== 4" class="pm_button link"></address-btn-actions> <address-btn-actions data-model=address data-action=disable ng-if="isAdmin && address.Status === 1 && address.Type !== 1 && address.Type !== 4" class="pm_button link"></address-btn-actions> <address-btn-actions data-model=address data-action=remove ng-if="address.Type === 3" class="pm_button link"></address-btn-actions> </td> </tr> </tbody> </table> </div> </td> </tr> </tbody> </table> </div> <p class=help translate-context=Help translate>To edit the signature(s) and reorder your addresses, <a ui-sref=secured.account>go to account</a></p> </section> </div> <div class=row id=securityOrganization ng-if="organization.HasKeys === 1"> <section class="setting pm_form full"> <header-block class=settingsUsers-header-security> <h2 class=settingsUsers-title-security translate translate-context=Title>Security</h2> </header-block> <div class=pm_grid> <div class=col-2-3> <p ng-if="keyStatus === 0"> <organization-btn-actions data-action=changePassword class="pm_button primary disabled-if-network-activity"></organization-btn-actions> <organization-btn-actions data-action=changeKeys class="pm_button primary disabled-if-network-activity"></organization-btn-actions> <a class="pm_button link" href=https://protonmail.com/support/knowledge-base/organization-key/ target=_blank translate translate-context=Link>Learn more</a> </p> <div ng-if="keyStatus === 1"> <p class="alert alert-warning" translate translate-context=Info>You must activate your organization keys. Without activation you will not be able to create new users, add addresses to existing users, or access non-private user accounts.</p> <p> <organization-btn-actions data-action=activateKeys class="pm_button primary disabled-if-network-activity"></organization-btn-actions> </p> </div> <div ng-if="keyStatus === 2"> <p class="alert alert-danger" translate translate-context=Info>You have lost access to your organization keys. Without restoration you will not be able to create new users, add addresses to existing users, or access non-private user accounts.</p> <p> <organization-btn-actions data-action=resetKeys class="pm_button disabled-if-network-activity"></organization-btn-actions> <organization-btn-actions data-action=restoreKeys class="pm_button primary disabled-if-network-activity"></organization-btn-actions> </p> </div> <div class=pm_table ng-if="keyStatus === 0"> <table class="bordered absorbing"> <thead> <tr> <th scope=col> <span translate-context=Title translate-comment="table heading" translate>Organization Key Fingerprint</span> <a href=https://protonmail.com/support/knowledge-base/organization-key/ target=_blank> <i class="fa fa-info-circle"></i> </a> </th> <th scope=col translate-context=Title translate-comment="table heading" translate>Key type</th> </tr> </thead> <tbody> <tr> <td> <code>{{ organizationKeyInfo.fingerprint }}</code> </td> <td>{{ organizationKeyType }}</td> </tr> </tbody> </table> </div> </div> </div> </section></div> </div> </div> ')}])}t.exports=n},tutT:function(t,e,a){"use strict";a.d(e,"j",(function(){return v})),a.d(e,"e",(function(){return b})),a.d(e,"f",(function(){return h})),a.d(e,"a",(function(){return y})),a.d(e,"g",(function(){return w})),a.d(e,"i",(function(){return x})),a.d(e,"h",(function(){return k})),a.d(e,"d",(function(){return A})),a.d(e,"k",(function(){return S})),a.d(e,"b",(function(){return P})),a.d(e,"c",(function(){return C}));a("J4zp");var n,o=a("lSNA"),r=a.n(o),s=a("/w9J"),l=a.n(s),i=a("F4Gm"),c=a.n(i),d=a("cnVF"),u=d.P.OPEN_TAG_AUTOCOMPLETE,p=d.P.CLOSE_TAG_AUTOCOMPLETE,m=d.P.OPEN_TAG_AUTOCOMPLETE_RAW,f=d.P.CLOSE_TAG_AUTOCOMPLETE_RAW,g=(n={},r()(n,m,u),r()(n,f,p),r()(n,u,m),r()(n,p,f),n);function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("reverse"===e){var a=function(){return new RegExp("".concat(u,"|").concat(p),"ig")};return t.replace(a(),(function(t){return g[t]||""}))}var n=function(){return new RegExp("".concat(m,"|").concat(f),"ig")};return t.replace(n(),(function(t){return g[t]||""}))}var b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.toLowerCase()},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return b(t).replace(/(\+[^@]*)@/,"@").replace(/[._-](?=[^@]*@)/g,"")},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t.indexOf("@"),n=t.indexOf("+");if(-1===a||n>-1)return t;var o=t.substring(0,a),r=t.substring(a,t.length);return"".concat(o,"+").concat(e).concat(r)},w=function(t,e){var a=1<<e,n=Math.ceil(32/e),o=(n-1)*e,r=t&(1<<o)-1,s=t>>>o;if(0===s)return r.toString(a);var l=s.toString(a),i=r.toString(a),c=n-l.length-i.length;return l+"0".repeat(c)+i},x=function(t){var e=function(t){return function(e,a){return String.fromCodePoint(Number.parseInt(a,t))}};return l()(t).replace(/&#(\d+)(;|(?=[^\d;]))/g,e(10)).replace(/&#x([0-9A-Fa-f]+)(;|(?=[^\d;]))/g,e(16)).replace(/\\([0-9A-Fa-f]{1,6}) ?/g,e(16)).replace(/\\(.)/g,(function(t,e){return e}))},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.charAt(0).toUpperCase()+t.slice(1)},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},S=function(){return"pt".concat(Math.random().toString(32).slice(2,12),"-").concat(Date.now())};function P(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"proton-web-".concat(t()).concat(t(),"-").concat(t(),"-").concat(t(),"-").concat(t(),"-").concat(t()).concat(t()).concat(t())}var C=function(t){var e,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",o=c()(new Uint32Array(t));for(e=0;e<t;e++)n+=a[o[e]%a.length];return n}},tvbs:function(t,e){var a=window.angular,n="templates/directives/core/placeholderProgress.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=storageArea> <span class=current>{{ ::usedSpace }}</span> <div class=storageBar> <div class=storageBar-progress ng-style=::storageStyle()></div> </div> <span class=total>{{ ::maxSpace }}</span> </div> ")}])}t.exports=n},"uA+/":function(t,e){var a=window.angular,n="templates/contact/contactList.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=contactList-container data-pt-select-multiple-elements=contact> <request-timeout></request-timeout> <contact-no-result ng-if=!contacts.length></contact-no-result> <div class=pm_table ng-if=contacts.length> <table class="contactList-table fixedLayout"> <thead class=contactList-thead> <tr> <th scope=col class=checkbox></th> <th scope=col data-sort=Name data-action=toggleSort> <span translate-context=Title translate-comment="table heading" translate>Name</span> <contact-arrows-sort data-sort=Name></contact-arrows-sort> </th> <th scope=col data-sort=emails data-action=toggleSort> <span translate-context=Title translate-comment="table heading" translate>Email</span> <contact-arrows-sort data-sort=emails></contact-arrows-sort> </th> </tr> </thead> <tbody class=contactList-tbody data-vs-repeat="{scrollParent: \'.contactList-container\'}"> <tr class=contactList-item data-contact-id="{{ ::contact.ID }}" ng-class="{ \'contactList-item-activeCursorContact\': isSelected(contact), \'contactList-item-activeContact\': isActive(contact) }" ng-repeat="contact in contacts track by contact.ID"> <td class="text-center contactList-checkbox"> <custom-checkbox data-custom-contact-id="{{ ::contact.ID }}" data-custom-ng-model=contact.selected></custom-checkbox> </td> <td data-contact-id="{{ ::contact.ID }}" class=contactList-item-name data-action=showContact> <span>{{ contact.Name }}</span> </td> <td data-contact-id="{{ ::contact.ID }}" class="text-muted contactList-item-email-wrapper" data-action=showContact> <span class=contactList-item-email> <ul class=inlineList> <li>{{ contact.emails }}</li> </ul> <contact-groups-overview data-contact=contact class=contactList-item-group></contact-groups-overview> </span> </td> </tr> </tbody> </table> </div> </div> ')}])}t.exports=n},uBoJ:function(t,e){var a=window.angular,n="templates/bridge/bridgeView.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class=settings> <div class=row> <div class="setting pm_form full"> <header-block class=settingsLabels-header-bridge> <h2 class=settingsLabels-title-bridge translate-context=Title translate>IMAP/SMTP</h2> </header-block> <bridge-free-panel ng-if=isFree></bridge-free-panel> <bridge-paid-panel ng-if=!isFree></bridge-paid-panel> </div> </div> </div> </div> ')}])}t.exports=n},uL0n:function(t,e){var a=window.angular,n="templates/modals/domain/dkim.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} domains" role=dialog style=display:block> <div class=modal-dialog> <button type=button ng-click=ctrl.close() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <domains-menu-step></domains-menu-step> <span ng-show="ctrl.domain.DKIM.State=== 0" class="pull-right pm_badge error" translate-context="DKIM configuration status badge" translate>Not set</span> <span ng-show="ctrl.domain.DKIM.State=== 6" class="pull-right pm_badge warning" translate translate-context="DKIM configuration status badge">Warning</span> <span ng-show="ctrl.domain.DKIM.State=== 3" class="pull-right pm_badge error" translate translate-context="DKIM configuration status badge">Not set properly</span> <span ng-show="ctrl.domain.DKIM.State=== 4" class="pull-right pm_badge success" translate translate-context="DKIM configuration status badge">On</span> <h4 class=modal-title> 6. <span translate translate-context=Title>DKIM</span> <em translate translate-context=Info>Recommended</em> </h4> </div> <div class="modal-body pm_form"> <p translate-context=Info translate> ProtonMail supports DKIM signing for custom domains. To use DKIM authentication, please add the following CNAME record into your DNS settings for this domain. This can typically be done in the control panel of your domain name registrar. </p> <p translate-context=Info translate> Please add all 3 of the following CNAME records. Note, DNS records can take several hours to update. </p> <p> <a target=_blank href=https://protonmail.com/support/knowledge-base/anti-spoofing/ translate translate-context=Action>Learn more</a> </p> <div class=pm_table> <table class=record> <tr> <th scope=col style=width:3rem translate translate-context=Title>Type</th> <th scope=col style=width:12.5rem translate translate-context=Title>Host name</th> <th scope=col style=width:12rem translate translate-context=Title> Value / Data / Points to </th> </tr> <tr ng-repeat="config in ctrl.domain.DKIM.Config"> <td><code>CNAME</code></td> <td><code>{{ config.Hostname }}</code></td> <td><code>{{ config.CNAME }}</code></td> </tr> </table> </div> <p class="alert alert-info" translate translate-context=Info> IMPORTANT: Some registrars do not accept CNAME values with a period at the end (while others require it). If your registrar does not accept your CNAME records, please delete the period at the end of each CNAME value and try again. </p> <p class="alert alert-info" translate translate-context=Info> Keep those records in your DNS for as long as you want to use DKIM. You can change its Value to <code>off</code> to disable DKIM </p> </div> </div> <div class="modal-footer clearfix"> <button class="pm_button modal-footer-button" ng-click=ctrl.close() translate translate-context=Action> Close </button> <button class="pm_button primary modal-footer-button" ng-click=ctrl.next() translate translate-context=Action> Next </button> </div> </div> <div class=modal-overlay></div> </div> ')}])}t.exports=n},uj15:function(t,e){var a=window.angular,n="templates/layout/pre.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<header-login></header-login> <div class="pm_panel text-center" id=content> <p translate-context=Info translate>Verifying invite link...</p> </div> ')}])}t.exports=n},uwQ0:function(t,e){var a=window.angular,n="templates/directives/dropdownLabels.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form novalidate class=dropdown-label-container ng-class="{\'dropdown-label-hasLabels\': labels.length}" autocomplete=off> <div class=dropdown-label-title> <p class=dropdown-label-title-hasLabels translate translate-context=title>Label as</p> <p class="alert alert-info" translate translate-context=Info>No labels</p> </div> <label class=dropdown-label-search> <i class="fa fa-search dropdown-label-search-icon"></i> <input class=dropdown-label-search-input type=search placeholder-translate="Filter labels" placeholder-translate-context="Action dropdowb labels" ng-model=searchLabels ng-minlength=1> </label> <div class="dropdown-label-scrollbox scrollbox-container" ng-if="labels.length > 0"> <ul class=scrollbox-container-group> <li class=scrollbox-container-group-item ng-repeat="label in (filteredLabels = (labels | filter: {Name: searchLabels} | orderBy: \'Order\')) track by label.ID" data-label-id={{::label.ID}}> <label class=dropdown-label-scrollbox-label data-label-id={{::label.ID}}> <span class=dropdown-label-scrollbox-label-text ng-style=::color(label)> <i class="dropdown-label-scrollbox-label-icon fa fa-tag" data-label-id={{::label.ID}}></i> <span class="dropdown-label-scrollbox-label-text-ellipsis ellipsis">{{ ::label.Name }}</span> </span> <div class=dropdown-label-scrollbox-label-checkbox> <custom-checkbox data-custom-ng-model=label.Selected data-custom-class=scrollbox-container-group-item-empty data-custom-ui-indeterminate="label.Selected === null"></custom-checkbox> </div> </label> </li> <li class=scrollbox-container-group-item-empty ng-show="filteredLabels.length === 0" translate translate-context=Info>no label found</li> </ul> </div> <create-label data-class=dropdown-label-create data-message=message data-label-name=searchLabels></create-label> <label class=dropdown-label-alsoArchive> <span class="dropdown-label-alsoArchive-txt label-fillWidth" translate translate-context=Action translate-comment="Form checkbox option">Also Archive</span> <div class=dropdown-label-alsoArchive-checkbox> <custom-checkbox data-custom-ng-model=alsoArchive data-custom-class=dropdownLabels-input-archive></custom-checkbox> </div> </label> <button class="pm_button primary dropdown-label-apply disabled-if-network-activity" tabindex=1 translate-context=Action translate>Apply</button> </form> ')}])}t.exports=n},v29M:function(t,e){var a=window.angular,n="templates/blackFriday/blackFriday.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=blackFriday-container> <header class=blackFriday-header ng-if=::!state.isProductPayer> <h1 translate-context="blackfriday Title" translate ng-if=state.isCyberMonday>Cyber Monday Sale</h1> <h1 translate-context="blackfriday Title" translate ng-if=!state.isCyberMonday>Black Friday Sale</h1> <black-friday-countdown></black-friday-countdown> </header> <header class="blackFriday-header blackFriday-header--productPayer" ng-if=::state.isProductPayer> <h1 translate-context="blackfriday Title" translate>ProtonDrive early access offer</h1> <p translate-context="blackfriday Info for product payer modal" translate>Get early access to our new encrypted drive for FREE by upgrading to a Plus bundle now.</p> </header> <div class=blackFriday-content> <div class=blackFridayOffers-container data-offer-n={{offers.length}}> <div class=blackFridayOffer-container ng-repeat="offer in offers track by $id(offer)" ng-class="{ \'blackFridayOffer-container--most-popular\' : offer.mostPopular }"> <div class=blackFridayOffer-header-mostpopular ng-if=::offer.mostPopular> <span translate-context="blackfriday Badge on Black Friday plan" translate>Most popular</span> <div class=bf-bubble-percent> <div class=bf-bubble-percentTxt> <span translate-context="blackfriday Save X%" translate>Save</span> {{ ::offer.percentage }}% </div> </div> </div> <div class=blackFridayOffer-header> <div class=bf-bubble-percent ng-class="{ \'hidden\': offer.mostPopular }"> <div class=bf-bubble-percentTxt> <span translate-context="blackfriday Save X%" translate>Save</span> {{ ::offer.percentage }}% </div> </div> <div class=be-headerOffer-titles> <h5>{{ ::offer.header.title }}</h5> <span>{{ ::offer.header.type }}</span> </div> </div> <div class=blackFridayOffer-content> <div class=blackFridayOffer-content-main> <div class=blackFridayOffer-price-container> <div class=blackFridayOffer-price-info ng-bind-html=getPrice(offer)></div> <div class=blackFridayOffer-price-billing> {{ ::offer.billing }} </div> </div> <div class=blackFridayOffer-services ng-if=::offer.driveIncluded> <label for=services-list class=blackFridayOffer-services-label translate-context="blackfriday Label" translate>Includes</label> <ul id=services-list class=blackFridayOffer-services> <li class=blackFridayOffer-services-protonDrive ng-class="{ \'blackFridayOffer-services-protonDrive--productPayer\' : state.isProductPayer }"> <span translate-context="blackfriday Info" translate> early access to <span class=blackFridayOffer-services-protonDrive-productName>ProtonDrive</span> </span> <a class=blackFridayOffer-services-info href="https://protonmail.com/support/knowledge-base/protondrive-early-access/?utm_campaign=ww-en-2c-mail-coms_inapp-protondrive_learn_more&utm_source=web&utm_medium=app_ad&utm_content=tooltip_v3" target=_blank> <i class="fa fa-info-circle text-purple"></i> </a> <span class=blackFridayOffer-services-protonDrive-free translate-context="blackfriday Info" translate>FREE</span> </li> </ul> <ul id=services-list class=blackFridayOffer-services ng-if=::!offer.driveIncluded> <li>ProtonMail Plus</li> </ul> </div> </div> <button type=button ng-disabled=state.loading class="pm_button blackFridayOffer-buy" ng-class="{ \'primary\' : offer.mostPopular || state.isProductPayer, \'secondary\' : !offer.mostPopular && !state.isProductPayer }" data-buy-offer="{{ $index }}"> {{ ::state.buy }} </button> <div class=bf-billedas>{{::offer.billingTxt}} <sup>{{$index+1}}</sup></div> <div class=blackFridayOffer-price-regular> <span translate-context="blackfriday Price offer" translate>Standard price</span>: <strike>{{ ::offer.price.totalRegular }}</strike> </div> </div> </div> </div> <span class=blackFridayCurrent>{{ ::currentPrice }}</span> </div> <footer class=blackFriday-footer> <currency-selector data-currency={{::state.currency}} data-name=blackFridayCurrency></currency-selector> <div class=blackFridayAfter-container ng-if=::!state.isProductPayer> <p ng-repeat="offer in offers track by $id(offer)"> ({{$index+1}}) {{ ::offer.afterBilling }} </p> <p translate-context="blackfriday Footer in Black Friday modal" translate> Discounts are based on monthly pricing. </p> <p translate-context="blackfriday Footer in Black Friday modal" translate> Offer valid only for first-time paid subscriptions. </p> </div> <div class=blackFridayAfter-container ng-if=::state.isProductPayer> <p> (1) <span translate-context="blackfriday Footer in Black Friday modal" translate>This subscription will automatically renew every 2 years at the same rate until it is cancelled.</span> </p> </div> </footer> </div> ')}])}t.exports=n},vCH9:function(t,e){var a=window.angular,n="templates/message/messageSignatureStatus.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<a class=signature-status href=https://protonmail.com/support/knowledge-base/digital-signature><i ng-class=\"{\n    'fa fa-check': message.verified === 1,\n    'fa fa-warning invalid-sig': message.verified === 2,\n    'fa fa-warning no-keys': message.verified === 3\n}\"></i></a> ")}])}t.exports=n},vFUD:function(t,e,a){var n={"./address/addressKeysView.tpl.html":"muNk","./address/selectAddressModal.tpl.html":"JDTy","./address/setupAddressModal.tpl.html":"qKoh","./attachments/attachmentElement.tpl.html":"TEKn","./attachments/attendeeItem.tpl.html":"JTJO","./attachments/btnDownloadAttachments.tpl.html":"Pbhj","./attachments/eventsAttachments.tpl.html":"OtD5","./attachments/iconAttachment.tpl.html":"ZyxI","./attachments/listAttachments.tpl.html":"S9Fb","./authentication/loginForm.tpl.html":"sTW5","./authentication/loginPasswordInput.tpl.html":"F4Ji","./authentication/loginSpinner.tpl.html":"mlzr","./authentication/loginTwoFactorForm.tpl.html":"GY+i","./authentication/loginUnlock.tpl.html":"9PIj","./authentication/modals/helpLoginModal.tpl.html":"KD17","./authentication/modals/loginPassword.tpl.html":"AswG","./authentication/modals/oldPasswordModal.tpl.html":"/kRT","./authentication/twoFaField.tpl.html":"dLVY","./autoresponder/autoresponder.tpl.html":"RtZx","./autoresponder/autoresponderMessage.tpl.html":"1yF2","./autoresponder/autoresponderTimePicker.tpl.html":"3B0g","./autoresponder/autoresponderTimeSection.tpl.html":"/AKp","./autoresponder/autoresponderView.tpl.html":"CC6w","./autoresponder/durationselect.tpl.html":"ETDH","./autoresponder/subjectPrefix.tpl.html":"G/Hd","./blackFriday/blackFriday.tpl.html":"v29M","./blackFriday/blackFridayCountdown.tpl.html":"rc0/","./blackFriday/blackFridayModal.tpl.html":"j5nk","./bridge/bridgeFreePanel.tpl.html":"pLkr","./bridge/bridgePaidPanel.tpl.html":"Mtym","./bridge/bridgeView.tpl.html":"uBoJ","./browserSupport/dropIE11ModalModal.tpl.html":"r1vd","./bugReport/newBugReport.tpl.html":"YVQz","./command/autocompleteCommand.tpl.html":"He9t","./command/commandPalette.tpl.html":"QxbR","./composer/composerEncrypt.tpl.html":"t0K9","./composer/composerExpiration.tpl.html":"9uzX","./composer/editComposerContactGroupModal.tpl.html":"CCtG","./contact/actionContactGroup.tpl.html":"T0rJ","./contact/advancedSettingsBtn.tpl.html":"58Y6","./contact/attachGroupContactEmailsModal.tpl.html":"rlSM","./contact/autocompleteContactGroup.tpl.html":"eFEk","./contact/autocompleteContacts.tpl.html":"jOGx","./contact/contactActionHeader.tpl.html":"vGmo","./contact/contactAddressInput.tpl.html":"3c8R","./contact/contactArrowsSort.tpl.html":"H0Og","./contact/contactAskEncryptionModal.tpl.html":"BPKk","./contact/contactClear.tpl.html":"vntB","./contact/contactDetails.tpl.html":"E7tl","./contact/contactDisplay.tpl.html":"izcq","./contact/contactDisplayModal.tpl.html":"reAa","./contact/contactEncryptToggle.tpl.html":"6vr+","./contact/contactEncrypted.tpl.html":"N24w","./contact/contactEncryptionModal.tpl.html":"QNQp","./contact/contactError.tpl.html":"VRFI","./contact/contactGroupModal.tpl.html":"30ln","./contact/contactGroupsDropdown.tpl.html":"XFRG","./contact/contactGroupsOverview.tpl.html":"/6fV","./contact/contactList.tpl.html":"uA+/","./contact/contactLoaderModal.tpl.html":"MO4r","./contact/contactMerger.tpl.html":"/xA7","./contact/contactMergerModal.tpl.html":"29vb","./contact/contactMimetypeSelector.tpl.html":"oo4M","./contact/contactModal.tpl.html":"kOnj","./contact/contactNoResult.tpl.html":"Ri7z","./contact/contactPhotoForm.tpl.html":"YIcE","./contact/contactPhotoModal.tpl.html":"m/v6","./contact/contactPhotoRow.tpl.html":"GI6n","./contact/contactPlaceholder.tpl.html":"cFQX","./contact/contactRightPanel.tpl.html":"lxNF","./contact/contactSchemeSelector.tpl.html":"PSo2","./contact/contactSelectorForm.tpl.html":"Bjqm","./contact/contactSelectorModal.tpl.html":"Mfc5","./contact/contactSignToggle.tpl.html":"XwBX","./contact/contactToolbar.tpl.html":"DLcX","./contact/contactViewDetail.tpl.html":"CcJv","./contact/contactViewItem.tpl.html":"wlJm","./contact/dropdownGroups.tpl.html":"SzbS","./contact/importCardDropzone.tpl.html":"fZBE","./contact/importContactModal.tpl.html":"sX7S","./contact/manageContactGroupLink.tpl.html":"zIo8","./contact/manageContactGroupModal.tpl.html":"eIcW","./contact/removeContactListModal.tpl.html":"hb0j","./core/signupIframe.tpl.html":"b+cR","./dashboard/addonRow.tpl.html":"eBTs","./dashboard/customProPlanModal.tpl.html":"XYMp","./dashboard/customVpnModal.tpl.html":"6OED","./dashboard/freeColumn.tpl.html":"znre","./dashboard/overviewSection.tpl.html":"dBVP","./dashboard/plusColumn.tpl.html":"+Y4x","./dashboard/professionalColumn.tpl.html":"Aat8","./dashboard/subscriptionSection.tpl.html":"KYAH","./dashboard/totalRows.tpl.html":"llV/","./dashboard/visionaryColumn.tpl.html":"lYWG","./dashboard/vpnColumns.tpl.html":"0muV","./dashboard/vpnDiscountPanel.tpl.html":"LsJ6","./dashboard/vpnRow.tpl.html":"pZaB","./dashboard/vpnSlider.tpl.html":"mqTZ","./dashboard/vpnTotal.tpl.html":"KURL","./directives/composer/composer-header.tpl.html":"fFX0","./directives/composer/composer.tpl.html":"NeGb","./directives/composer/composerAskEmbedded.tpl.html":"Np7I","./directives/composer/composerAttachments.tpl.html":"jt1s","./directives/composer/composerAttachmentsSize.tpl.html":"ifJH","./directives/composer/composerInputMeta.tpl.html":"sUT6","./directives/composer/composerInputRecipient.tpl.html":"5B4X","./directives/composer/composerSelectFrom.tpl.html":"0GlB","./directives/composer/composerSubject.tpl.html":"17cw","./directives/contact/contactEmailDropdown.tpl.html":"A2Ez","./directives/contact/contactItem.tpl.html":"OUDj","./directives/contact/contactKeyPinning.tpl.html":"hMtj","./directives/contact/contactPgp.tpl.html":"chTo","./directives/contact/contactPublicKeyLabel.tpl.html":"Y/rn","./directives/contact/contactPublicKeyTable.tpl.html":"qAl9","./directives/contact/contactPublicKeys.tpl.html":"7OQC","./directives/core/accountLoadError.tpl.html":"50w3","./directives/core/bugModalView.tpl.html":"tAXa","./directives/core/placeholderProgress.tpl.html":"tvbs","./directives/core/sidebarProgress.tpl.html":"63Hn","./directives/dropdownLabels.tpl.html":"uwQ0","./directives/outside/composer.tpl.html":"41+J","./directives/paginator.tpl.html":"BLP6","./directives/paginatorScope.tpl.html":"w/A0","./directives/squire.tpl.html":"4tPE","./directives/toggle.tpl.html":"zWgH","./directives/ui/noResults.tpl.html":"g/W2","./directives/ui/progressUpload.tpl.html":"yH2K","./directives/ui/protonLoader.tpl.html":"+HTY","./directives/ui/protonmailLogo.tpl.html":"i8y8","./directives/ui/readUnread.tpl.html":"+AtJ","./directives/ui/requestTimeout.tpl.html":"FOXv","./directives/ui/settingsMenu.tpl.html":"h2qI","./domains/domainsMenuStep.tpl.html":"jEJy","./elements/advancedFilterElement.tpl.html":"1ect","./elements/countElementsSelected.tpl.html":"TRod","./elements/elementsSelector.tpl.html":"eKlv","./elements/foldersElement.tpl.html":"McTc","./elements/labelsElement.tpl.html":"KZ5K","./elements/moveElement.tpl.html":"GXeG","./elements/navElements.tpl.html":"oil3","./elements/ptSelectElement.tpl.html":"xJxz","./elements/ptStar.tpl.html":"GZVi","./elements/statesElements.tpl.html":"oYf/","./filter/customFilterList.tpl.html":"N0YN","./filter/emailBlockButton.tpl.html":"s7Pn","./filter/emailBlockList.tpl.html":"JJx9","./filter/filterAddressModal.tpl.html":"MV75","./filter/filterView.tpl.html":"I+z7","./filter/modal.tpl.html":"OLJ3","./filter/sieveLabelInput.tpl.html":"9r/h","./filter/spamListSearch.tpl.html":"0L42","./filter/spamLists.tpl.html":"+hKR","./formUtils/captcha.tpl.html":"8Kzt","./formUtils/captchaView.tpl.html":"8L/1","./formUtils/cardView.tpl.html":"Be5g","./formUtils/codeVerificator.tpl.html":"yRUs","./formUtils/password.tpl.html":"Gxd/","./invoices/invoiceList.tpl.html":"sfyz","./invoices/invoiceSection.tpl.html":"lp3o","./labels/actionLabelBtn.tpl.html":"39ph","./labels/createLabel.tpl.html":"wr/6","./labels/dropdownFolders.tpl.html":"8Fsi","./labels/labelColorSelector.tpl.html":"XvzN","./labels/labelNameInput.tpl.html":"ZJBe","./layout/auth.tpl.html":"VSUr","./layout/login.tpl.html":"WgLI","./layout/outside.tpl.html":"xXFa","./layout/pre.tpl.html":"uj15","./layout/secured.tpl.html":"2Igw","./layout/sidebar.tpl.html":"IBfZ","./members/restoreAdministratorPanel.tpl.html":"k21V","./message/allMessageLabels.tpl.html":"6LyF","./message/displayContentBtn.tpl.html":"8orU","./message/encryptionStatus.tpl.html":"+2F5","./message/filterButton.tpl.html":"D+O1","./message/foldersMessage.tpl.html":"nm6W","./message/message.tpl.html":"Jhbc","./message/messageAddressActionMenu.tpl.html":"bWJJ","./message/messageAddressActions.tpl.html":"LPM9","./message/messageAutoGenerated.tpl.html":"FPTb","./message/messageContacts.tpl.html":"kdWj","./message/messageContactsIcon.tpl.html":"YdBq","./message/messageDisplayError.tpl.html":"53yO","./message/messageExpiration.tpl.html":"csM4","./message/messageExtra.tpl.html":"rAeD","./message/messageMimeParsing.tpl.html":"rtqA","./message/messagePublicKeyFound.tpl.html":"Acgf","./message/messagePublicKeyPinning.tpl.html":"V/dF","./message/messageResign.tpl.html":"SaIr","./message/messageSignatureStatus.tpl.html":"vCH9","./message/messageView.tpl.html":"Lud0","./message/pgpModal.tpl.html":"4JMp","./message/phishingBtn.tpl.html":"6gV8","./message/readReceiptPanel.tpl.html":"3HTr","./message/trustPublicKeyInfo.tpl.html":"cxSZ","./message/trustPublicKeyTable.tpl.html":"hvI2","./modals/abuseFraudModal.tpl.html":"Z5do","./modals/activateOrganization.tpl.html":"PNCj","./modals/addAddress.tpl.html":"/WHQ","./modals/alert.tpl.html":"lg+c","./modals/bug.tpl.html":"7bOk","./modals/card.tpl.html":"bY8i","./modals/changeOrganizationPassword.tpl.html":"Ekxg","./modals/changePassword.tpl.html":"5mZJ","./modals/confirm.tpl.html":"Sdia","./modals/customizeInvoice.tpl.html":"CcfW","./modals/decryptImportKey.tpl.html":"Obzp","./modals/deleteAccount.tpl.html":"tBM4","./modals/domain/address.tpl.html":"XSdg","./modals/domain/dkim.tpl.html":"uL0n","./modals/domain/dmarc.tpl.html":"UShx","./modals/domain/domain.tpl.html":"ywhq","./modals/domain/mx.tpl.html":"o4/q","./modals/domain/spf.tpl.html":"Jsx3","./modals/domain/verification.tpl.html":"chdq","./modals/donate.tpl.html":"IRs2","./modals/expirationModal.tpl.html":"ondU","./modals/exportKeyModal.tpl.html":"PLun","./modals/exportPrivateKeyModal.tpl.html":"1ogP","./modals/feedback.tpl.html":"TbP7","./modals/generate.tpl.html":"085u","./modals/generateOrganization.tpl.html":"2wqA","./modals/hotkey.tpl.html":"k6gy","./modals/humanVerification.tpl.html":"5ACN","./modals/label.tpl.html":"Sms+","./modals/member.tpl.html":"lIYi","./modals/organizationRecovery.tpl.html":"ZgED","./modals/pay.tpl.html":"jg9G","./modals/payment/modal.tpl.html":"apxP","./modals/payment/paymentVerificationModal.tpl.html":"91jv","./modals/reactivate.tpl.html":"hiv9","./modals/reactivateKeyModal.tpl.html":"PDpG","./modals/releaseNotes.tpl.html":"NB5d","./modals/setupOrganization.tpl.html":"yGwC","./modals/squire/addFile.tpl.html":"AUsZ","./modals/squire/addLink.tpl.html":"Sbr+","./modals/support.tpl.html":"0kgz","./modals/switchPasswordMode.tpl.html":"/TQ7","./modals/trustPublicKey.tpl.html":"1haq","./modals/twofactor/recoveryCode.tpl.html":"S6tf","./modals/twofactor/sharedSecret.tpl.html":"9W3/","./modals/twofactor/twoFAIntroModal.tpl.html":"3GxN","./modals/welcome.tpl.html":"PS/N","./notifications/badVersion.tpl.html":"shW4","./notifications/base.tpl.html":"bFFJ","./notifications/cross.tpl.html":"jcfH","./notifications/retry.tpl.html":"nd+K","./notifications/welcome.tpl.html":"s99J","./organization/organizationFormName.tpl.html":"r/nK","./partials/composer.tpl.html":"GU1j","./partials/conversation-list-columns.tpl.html":"LcNq","./partials/conversation-list-mobile.tpl.html":"cd3K","./partials/conversation-list-rows.tpl.html":"MLA5","./partials/conversation-placeholder.tpl.html":"P7f5","./partials/conversation.tpl.html":"x8od","./partials/conversations.tpl.html":"VKAp","./partials/safari.attachment.warning.tpl.html":"U+PO","./partials/safari.warning.tpl.html":"1YYv","./partials/sidebar-responsive.tpl.html":"GbEV","./partials/sidebar.tpl.html":"J0VT","./partials/stickyMessages.tpl.html":"LxFK","./partials/wizard.tpl.html":"5W4V","./payment/bitcoinView.tpl.html":"CQ/i","./payment/cardPanel.tpl.html":"1iN5","./payment/donation.tpl.html":"T45i","./payment/featuresList.tpl.html":"2Vr+","./payment/giftCodeBtn.tpl.html":"l+j8","./payment/giftCodeInput.tpl.html":"Q2ql","./payment/giftCodeModal.tpl.html":"A3uK","./payment/paymentForm.tpl.html":"sNrA","./payment/paymentPlanOverview.tpl.html":"6yQw","./payment/paypalView.tpl.html":"Zak3","./pmMe/pmMeView.tpl.html":"JsPb","./search/btnAdvancedSearch.tpl.html":"xdW8","./search/searchContact.tpl.html":"PnKe","./search/searchForm.tpl.html":"O25S","./security/logManager.tpl.html":"tWfZ","./security/sessionLogsTable.tpl.html":"1aFG","./settings/chooseComposerMode.tpl.html":"s6q/","./settings/chooseRightToLeft.tpl.html":"Qkon","./settings/encryptionView.tpl.html":"D0hN","./sidebar/sidebarContact.tpl.html":"9kt2","./sidebar/sidebarLabels.tpl.html":"WfVW","./sidebar/sidebarMobileHeader.tpl.html":"ykBR","./squire/addFile.tpl.html":"nhBJ","./squire/addLink.tpl.html":"pcmo","./squire/colorPopover.tpl.html":"GFSM","./squire/moreToggle.tpl.html":"4GI9","./squire/plainTextArea.tpl.html":"4OmW","./squire/squireModalListener.tpl.html":"+O85","./squire/squireSelectColor.tpl.html":"UvyT","./squire/squireSelectFontFamily.tpl.html":"inGH","./squire/squireSelectFontSize.tpl.html":"c0RO","./squire/squireToolbar.tpl.html":"rvPS","./ui/atomLoader.tpl.html":"UI/w","./ui/autoCompleteEmailsItem.tpl.html":"mZt9","./ui/autocompleteEmail.tpl.html":"w44d","./ui/autocompleteEmails.tpl.html":"I8SS","./ui/chooseLayoutBtns.tpl.html":"kWmj","./ui/currencySelector.tpl.html":"C7OI","./ui/customCheckbox.tpl.html":"GnPB","./ui/customRadio.tpl.html":"Qo52","./ui/dateTimePicker.tpl.html":"Yquj","./ui/emailEncryptionIcon.tpl.html":"1urt","./ui/header/headerNoAuth.tpl.html":"2VAr","./ui/header/headerSecured.tpl.html":"ItiI","./ui/header/headerSecuredDesktop.tpl.html":"HcFT","./ui/header/headerSecuredMobile.tpl.html":"eZQm","./ui/legends.tpl.html":"HuKI","./ui/monthdayTimePicker.tpl.html":"FBB8","./ui/mozInfo.tpl.html":"ri1t","./ui/multiselect.tpl.html":"qMZ4","./ui/navigation/navigation.tpl.html":"JfhC","./ui/navigation/navigationBlackFriday.tpl.html":"Wssu","./ui/navigation/navigationReport.tpl.html":"+iZh","./ui/navigation/navigationUser.tpl.html":"g+rB","./ui/progressionBtn.tpl.html":"p7bp","./ui/slider.tpl.html":"dUrn","./ui/timePicker.tpl.html":"OX+9","./ui/toolbarDesktop.tpl.html":"fZzD","./ui/toolbarMobile.tpl.html":"G7xT","./ui/weekdayTimePicker.tpl.html":"0DtK","./user/addressesSection.tpl.html":"Dx2r","./user/addressesSelector.tpl.html":"/0db","./user/displayNameSignature.tpl.html":"m20B","./user/humanVerification.tpl.html":"OqGN","./user/identitySection.tpl.html":"4WLl","./user/pmSignatureToggle.tpl.html":"B6hA","./user/signupCreationProcess.tpl.html":"zAEO","./user/signupHumanForm.tpl.html":"k6kZ","./user/signupPayForm.tpl.html":"V03A","./user/signupUserForm.tpl.html":"ac53","./user/storageWarningView.tpl.html":"2U6m","./user/usernameDomain.tpl.html":"JrvE","./user/usernamePassword.tpl.html":"5r2/","./utils/discardModal.tpl.html":"ox0V","./utils/linkWarningModal.tpl.html":"vQt6","./utils/printMessage.tpl.html":"ECQK","./utils/printModal.tpl.html":"6Ue4","./views/account.tpl.html":"j3j4","./views/appearance.tpl.html":"Ve96","./views/contacts.tpl.html":"C4ZC","./views/dashboard.tpl.html":"sRtC","./views/domains.tpl.html":"0JHt","./views/invoices.tpl.html":"MaDz","./views/keysView.tpl.html":"nc5Q","./views/labels.tpl.html":"xAXd","./views/login.tpl.html":"6JZs","./views/loginSub.tpl.html":"DVBb","./views/members.tpl.html":"tjaA","./views/outside.message.tpl.html":"7xla","./views/outside.reply.tpl.html":"iZQZ","./views/outside.unlock.tpl.html":"28mQ","./views/payments.tpl.html":"zWl+","./views/pgp.tpl.html":"ZroT","./views/reset-login-password.tpl.html":"qfUQ","./views/security.tpl.html":"Mrbv","./views/setup.tpl.html":"APHl","./views/signup.tpl.html":"WEo0","./vpn/openVpnSection.tpl.html":"E0jj","./vpn/vpnRessources.tpl.html":"FkcE","./vpn/vpnView.tpl.html":"25VP"};function o(t){var e=r(t);return a(e)}function r(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="vFUD"},vGmo:function(t,e){var a=window.angular,n="templates/contact/contactActionHeader.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<header class=contactActionHeader-container data-mode-type={{mode}}> <h1 class=contactActionHeader-title translate translate-context=Title>Contact Details</h1> <nav class=contactActionHeader-item-left> <button type=button data-action=downloadContact class="contactDetails-download pm_button fa fa-download" ng-hide=contactForm.$dirty pt-tooltip-translate="Export contact in vCard format" pt-tooltip-translate-context=Info></button> <button class="save pm_button primary main" type=button data-action=toggleMode data-display-if=view translate-context=Action translate-comment="contact details" translate>Edit</button> <button data-display-if=edition class="save pm_button main" type=button data-action=toggleMode translate-context=Action translate-comment="contact details" translate>Cancel</button> <button class="save pm_button primary main" data-display-if=edition ng-disabled=contactForm.$pristine translate-context=Action translate-comment="contact details" translate>Save</button> </nav> <nav class="contactActionHeader-item-right lowResolution"> <button type=button class="contactDetails-back pm_button fa fa-arrow-left" pt-tooltip-translate="Back to the contact list" pt-tooltip-translate-context=Info data-action=back></button> <button type=button class="contactDetails-download notMobile pm_button fa fa-download" data-action=downloadContact pt-tooltip-translate="Export contact in vCard format" pt-tooltip-translate-context=Info></button> <button type=button class="contactDetails-delete pm_button fa fa-trash" pt-tooltip-translate="Delete contact" pt-tooltip-translate-context=Info data-action=deleteContact></button> <button data-display-if=edition ng-disabled=contactForm.$pristine pt-tooltip-translate="Save contact" pt-tooltip-translate-context=Info class="save pm_button primary main fa fa-save"></button> <button class="save pm_button primary main fa fa-pencil" data-display-if=view data-action=toggleMode pt-tooltip-translate="Edit contact" pt-tooltip-translate-context=Tooltip></button> </nav> </header> ')}])}t.exports=n},vQt6:function(t,e){var a=window.angular,n="templates/utils/linkWarningModal.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}} discardModal-container" role=dialog> <form name=linkWarningForm class=modal-dialog novalidate> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <header class=modal-header> <h4 class=modal-title translate-context=Title translate>Link confirmation</h4> </header> <div class="modal-body pm_form"> <div class="alert alert-warning margin-bottom break-word"> <div class=margin-bottom translate-context=Info translate>You are about to open another browser tab and visit:</div> <span class=bold>{{ ::ctrl.link }}</span> </div> <div ng-if="ctrl.punyCodeLink && !ctrl.punyCodeLinkIE" class="alert alert-warning margin-bottom break-word"> <div class=margin-bottom translate-context=Info translate>This link may be a homograph attack. Please verify this is the link you wish to visit, or don\'t open it.</div> <a href=https://protonmail.com/support/knowledge-base/homograph-attacks/ title="What are homograph attacks?" target=_blank>Learn more.</a> </div> <div ng-if=ctrl.punyCodeLinkIE class="alert alert-warning margin-bottom break-word"> <div class=margin-bottom translate-context=Info translate>This link may be a homograph attack and cannot be opened by Internet Explorer and Edge browsers. If you are certain the link is legitimate, please use a different browser to open it.</div> <a href=https://protonmail.com/support/knowledge-base/homograph-attacks/ title="What are homograph attacks?" target=_blank>Learn more.</a> </div> <label> <custom-checkbox data-custom-ng-model=ctrl.preference /> <span translate-context=Label translate>Do not ask again</span> </label> </div> </div> <footer class=modal-footer> <button type=button ng-click=ctrl.cancel() class="pm_button modal-footer-button" translate-context=Action translate>Cancel</button> <a target=_blank ng-href={{ctrl.link}} ng-click=ctrl.continue() autofocus rel="noreferrer nofollow noopener" class="pm_button primary modal-footer-button" translate-context=Action translate>Continue</a> </footer> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},vntB:function(t,e){var a=window.angular,n="templates/contact/contactClear.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class=contactClear-container> <section class=contactDetails-fields-container> <legend class=contactDetails-fields-ico> <i class="fa fa-check contactEncrypted-signed-icon" pt-tooltip-translate-context=Title pt-tooltip-translate="Digital signature verified"></i> </legend> <contact-error></contact-error> <contact-item data-contact=contact data-form=contactForm data-model=model data-type=Name></contact-item> <contact-item data-contact=contact data-form=contactForm data-model=model data-type=Emails></contact-item> </section> </section> ')}])}t.exports=n},"w/A0":function(t,e){var a=window.angular,n="templates/directives/paginatorScope.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<span class="pm_buttons paginator"> <a pt-tooltip-translate=Previous pt-tooltip-translate-context=Action ng-click=previous() ng-class="{\'disabled\': disableP}"> <i class="fa fa-chevron-left"></i> </a> <div class="pull-left paginator-dropdown-list"> <a class=pm_trigger dropdown ng-class="{\'disabled\': disableMain}" pt-tooltip-translate="Page number" pt-tooltip-translate-context=Action> <small>{{ page }}</small> <i class="fa fa-angle-down"></i> </a> <span class="pm_dropdown right"> <a class=paginator-dropdown-item ng-repeat="p in pages" ng-click=select(p)> <em translate translate-context=Title translate-comment="current page dropdown in paginator">Page</em> {{ p }} </a> </span> </div> <a pt-tooltip-translate=Next pt-tooltip-translate-context=Action ng-click=next() ng-class="{\'disabled\': disableN}"> <i class="fa fa-chevron-right"></i> </a> </span> ')}])}t.exports=n},w44d:function(t,e){var a=window.angular,n="templates/ui/autocompleteEmail.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="autocompleteEmail-container autocomplete-container"> <input id=autocomplete name=autocomplete type=text autofocus ng-model=email autocomplete=off spellcheck=false autocapitalize=off class=autocompleteEmail-input> </div> ')}])}t.exports=n},wlJm:function(t,e){var a=window.angular,n="templates/contact/contactViewItem.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<li class=contactViewItem-container data-field={{::info.key}}> <i class="fa fa-phone contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-envelope contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-user contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-home contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-address-card contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-sticky-note contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-photo contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-birthday-cake contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-anchor contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-genderless contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-user-o contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-user-circle-o contactViewDetail-icon" aria-hidden=true></i> <i class="fa fa-tag contactViewDetail-icon" aria-hidden=true></i> <span class=contactViewDetail-type>{{ ::info.key | contactViewType:info.type }}</span> <div ng-if="info.key === \'email\'" class=contactViewItem-value-email> <a href=mailto:{{info.value}} pt-tooltip-translate="Compose a new message to this email" pt-tooltip-translate-context=Tooltip class=contactViewItem-label-email>{{::info.value}}</a> <contact-groups-overview data-contact=contact data-email=info class=contactViewItem-label-group></contact-groups-overview> </div> <a ng-if="info.key === \'tel\'" href=tel:{{info.value}} class=contactViewItem-value-tel>{{::info.value}}</a> <a ng-if="info.key === \'url\'" rel="noreferrer nofollow noopener" href="{{::info.value | formatURL}}" target=_blank class=contactViewItem-value-url>{{::info.value | formatURL}}</a> <span ng-if="info.key === \'bday\'" class=contactViewItem-value-bday>{{ ::info.value | formatBDay }}</span> <span ng-if="info.key !== \'adr\' && info.key !== \'email\' && info.key !== \'tel\' && info.key !== \'photo\' && info.key !== \'url\' && info.key !== \'bday\'" class=contactViewItem-value-txt>{{::info.value}}</span> <div ng-if="info.key === \'photo\'" class=contactViewItem-value-figure> <div class=contactViewItem-value-figureMask> <button class="pm_button contactViewItem-value-figureBtn" data-action=loadRemoteImage type=button translate-context=Action translate>Load image</button> </div> <img class=contactViewItem-value-img ng-if=loadImage ng-src={{::info.value}} referrerpolicy=no-referrer alt=avatar> </div> <address ng-if="info.key === \'adr\'" class=contactViewItem-value-adr> <ul class=contactViewItem-list> <li class=contactViewItem-item ng-repeat="detail in ::formatAddress(info.value) track by $index">{{::detail}}</li> </ul> </address> <div class=contactViewItem-actions> <contact-groups-dropdown data-position=left data-type=email data-contact=contact data-model=info class=contactViewItem-actions-dropdownGroup ng-if="type === \'email\'"></contact-groups-dropdown> <advanced-settings-btn class=contactItem-btn-settings ng-if="info.key === \'email\' && !isOwnAddress(info.value)" data-contact=contact data-mode=mode data-model=info></advanced-settings-btn> </div> </li> ')}])}t.exports=n},"wr/6":function(t,e){var a=window.angular,n="templates/labels/createLabel.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=pm-flex-content> <button type=button class=createLabel-button ng-class="{\'createLabel-withName\': name.length}"> <span class=createLabel-new-name> <span translate translate-context=Action> Create label </span> <i>"{{ name }}"</i> ? </span> <span class=createLabel-new-label translate translate-context=Action>Create a new label</span> </button> </div> ')}])}t.exports=n},x8od:function(t,e){var a=window.angular,n="templates/partials/conversation.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<section class=conversation-container> <header id=conversationHeader> <h1> <span ng-if="conversation.NumMessages > 1">({{ conversation.NumMessages }})</span> <span>{{ conversation.Subject | unescape }}</span> <pt-star data-model=conversation data-pt-star-type=conversation class=pm_buttons></pt-star> </h1> <div ng-hide="\'secured.search.**\' | includedByState" class=containsMessage> <p ng-if="showNotifier(\'trash\')" class=alert> <span ng-show="inTrash === false" translate translate-context=Info>This conversation contains trashed messages.</span> <span ng-show="inTrash === true" translate translate-context=Info>This conversation contains non-trashed messages.</span> <a href=# ng-click="toggleOption(\'showTrashed\')" ng-show="showTrashed === false && inTrash === false" translate translate-context=Action>Show trashed messages</a> <a href=# ng-click="toggleOption(\'showNonTrashed\')" ng-show="showNonTrashed === false && inTrash === true" translate translate-context=Action>Show non-trashed messages</a> <a href=# ng-click="toggleOption(\'showTrashed\')" ng-show="showTrashed === true && inTrash === false" translate translate-context=Action>Hide trashed messages</a> <a href=# ng-click="toggleOption(\'showNonTrashed\')" ng-show="showNonTrashed === true && inTrash === true" translate translate-context=Action>Hide non-trashed messages</a> </p> </div> </header> <div id=pm_thread tabindex=0> <message id="message{{ $index }}" data-model=message data-marked=markedMessage data-last=$last data-index=$index ng-repeat="message in messages | filter: filterMessages:showTrashed:showNonTrashed track by message.ID"></message> </div> </section> ')}])}t.exports=n},xAXd:function(t,e){var a=window.angular,n="templates/views/labels.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class="settings settingsLabels-container" id=labelContainer> <div class=row> <div class="setting pm_form full"> <header-block class=settingsLabels-header-label> <h2 class=settingsLabels-title-label translate translate-context=Title>Folders / Labels</h2> </header-block> <p> <button type=button class="pm_button primary labelsState-btn-add-folder" ng-click=createFolder() translate-context=Action translate>Add folder</button> <button type=button class="pm_button primary labelsState-btn-add" ng-click=createLabel() translate-context=Action translate>Add label</button> <button type=button class="pm_button labelsState-btn-sort" ng-click=sortLabels() pt-tooltip-translate-context=Action pt-tooltip-translate="Sort alphabetically" pt-placement=top translate-context=Action translate>Sort</button> </p> <p class="alert alert-info" translate-context="Label information" translate>Multiple Labels can be applied to a single message, but a message can only be in a single Folder.</p> <p class=help-dnd ng-if=labels.length translate-context="Label information" translate>You can drag and drop to rearrange the order of Labels/Folders.</p> <p class="alert alert-info labelsState-msg-info" ng-show=!labels.length translate-context=Info translate>You have no labels.</p> <ul ng-if=labels.length class="labelsState-list pm_sort-container" data-as-sortable=labelsDragControlListeners is-disabled="labels.length === 1" ng-class="{ \'as-sortable-disabled\': labels.length === 1 }" data-ng-model=labels> <li class="labelsState-item pm_sort-item" ng-repeat="label in labels track by label.ID" data-color={{label.Color}} data-as-sortable-item> <div class=pm_sort-item-content as-sortable-item-handle> <div> <i class="labelsState-item-icon fa" ng-class="{ \'fa-folder\': label.Exclusive, \'fa-tag\': !label.Exclusive }" ng-style="{ color: label.Color }"></i> <span class="label-pm labelsState-item-name ellipsis">{{ label.Name }}</span> </div> <div ng-if=label.Exclusive pt-tooltip-translate-context=Label pt-tooltip-translate="Enable/disable desktop and mobile notifications"> <label for="{{ label.ID }}" class=labelsState-toggle-label translate-context=Label translate>Notification</label> <toggle data-status=label.notify class=small data-name=changeNotifyLabel data-id="{{ label.ID }}"></toggle> </div> <div> <button class="pm_button link labelsState-btn-edit" ng-click=editLabel(label) translate-context=Action translate>Edit</button> <button class="pm_button link text-red labelsState-btn-delete" ng-click=deleteLabel(label) translate-context=Action translate>Delete</button> </div> </div> </li> </ul> </div> </div> </div> </div> ')}])}t.exports=n},xJxz:function(t,e){var a=window.angular,n="templates/elements/ptSelectElement.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="selection ptSelectConversation-container"> <label class=ptSelectConversation-label> <custom-checkbox data-custom-class=ptSelectConversation-input data-custom-ng-checked=conversations[$index].Selected data-custom-index="{{ $index }}" data-custom-aria-label="{{ conversation.Subject | unescape }}"></custom-checkbox> </label> </div> ')}])}t.exports=n},xXFa:function(t,e){var a=window.angular,n="templates/layout/outside.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<header-no-auth></header-no-auth> <div class=outside> <div ui-view=content></div> </div> <div id=pm_footer> <p><app-copyright></app-copyright> <app-version></app-version></p> </div> ")}])}t.exports=n},xdW8:function(t,e){var a=window.angular,n="templates/search/btnAdvancedSearch.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button type=button class=btnAdvancedSearch-container> <i class="fa fa-angle-down btnAdvancedSearch-icon-desktop"></i> <i class="fa fa-search btnAdvancedSearch-icon-mobile"></i> </button> ')}])}t.exports=n},yDfg:function(t,e,a){"use strict";a.d(e,"k",(function(){return D})),a.d(e,"l",(function(){return _})),a.d(e,"g",(function(){return L})),a.d(e,"n",(function(){return N})),a.d(e,"q",(function(){return $})),a.d(e,"o",(function(){return R})),a.d(e,"p",(function(){return j})),a.d(e,"j",(function(){return F})),a.d(e,"r",(function(){return U})),a.d(e,"h",(function(){return V})),a.d(e,"s",(function(){return K})),a.d(e,"m",(function(){return B})),a.d(e,"i",(function(){return H})),a.d(e,"f",(function(){return W})),a.d(e,"e",(function(){return Z})),a.d(e,"t",(function(){return Q})),a.d(e,"b",(function(){return tt})),a.d(e,"d",(function(){return at})),a.d(e,"c",(function(){return nt})),a.d(e,"u",(function(){return ot})),a.d(e,"a",(function(){return rt}));var n,o=a("o0o1"),r=a.n(o),s=a("J4zp"),l=a.n(s),i=a("yXPU"),c=a.n(i),d=a("ID4j"),u=a("FaOd"),p=a("cnVF"),m=a("tutT"),f=a("X/lc"),g=p.Eb.FLAG_RECEIVED,v=p.Eb.FLAG_SENT,b=p.Eb.FLAG_RECEIPT,h=p.Eb.FLAG_RECEIPT_REQUEST,y=p.Eb.FLAG_IMPORTED,w=p.Eb.FLAG_REPLIED,x=p.Eb.FLAG_REPLIEDALL,k=p.Eb.FLAG_FORWARDED,A=p.Eb.FLAG_INTERNAL,S=p.Eb.FLAG_AUTO,P=p.Eb.FLAG_E2E,C=p.Eb.FLAG_SIGN,E=p.Eb.FLAG_PUBLIC_KEY,M=p.Hb.MIME,T=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.Flags,n=void 0===a?0:a;return Object(f.b)(n,t)}},I=(T(b),T(h)),D=T(y),_=T(A),O=function(t){return!_(t)},L=T(S),N=T(g),$=T(v),R=T(w),j=T(x),F=T(k),U=T(v|g),V=function(t){return!$(t)&&!N(t)},z=T(P),K=T(P|v),B=T(P|A),G=T(C),q=T(E),H=function(t){return z(t)&&!_(t)},Y=function(t){return O(t)&&N(t)&&z(t)},W=function(t){return t.Time>=p.jc},X=(n=M,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.MIMEType;return e===n}),J=function(t){return Y(t)&&!X(t)},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ToList,a=void 0===e?[]:e,n=t.CCList,o=void 0===n?[]:n,r=t.BCCList,s=void 0===r?[]:r;return a.concat(o,s)},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Z(t).map((function(t){var e=t.Address;return Object(m.e)(e)}))};function tt(){return et.apply(this,arguments)}function et(){return(et=c()(r.a.mark((function t(){var e,a,n,o,s,l,i,c=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},a=e.Body,n=void 0===a?"":a,o=c.length>1?c[1]:void 0,t.next=4,Object(d.e)(n);case 4:return s=t.sent,t.next=7,Object(u.b)({message:s,passwords:[o]});case 7:return l=t.sent,i=l.data,t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var at=function(t,e){if(e===p.sb.inbox){if(t.isDraft())return[p.sb.allDrafts,p.sb.drafts];if(t.isSentAndReceived())return[p.sb.inbox,p.sb.allSent,p.sb.sent];if(t.isSent())return[p.sb.allSent,p.sb.sent]}return[e]},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Time,a=void 0===e?0:e;return new Date(1e3*a)},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return!1;var e=l()(t,1),a=e[0],n=(a=void 0===a?{}:a).Sender,o=Object(m.e)(n.Address);return t.length===t.filter((function(t){var e=t.Sender,a=void 0===e?{}:e;return Object(m.e)(a.Address)===o})).length},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};[{name:"isMIME",callback:X},{name:"isInternal",callback:_},{name:"isExternal",callback:O},{name:"isDraft",callback:V},{name:"isReplied",callback:R},{name:"isRepliedAll",callback:j},{name:"isForwarded",callback:F},{name:"isSent",callback:$},{name:"isSentEncrypted",callback:K},{name:"isSentAndReceived",callback:U},{name:"isPGPInline",callback:J},{name:"isPGPEncrypted",callback:Y},{name:"isRequestReadReceipt",callback:I},{name:"isAttachPublicKey",callback:q},{name:"isSign",callback:G},{name:"inSigningPeriod",callback:W},{name:"isImported",callback:D},{name:"getDate",callback:nt}].forEach((function(e){var a=e.name,n=e.callback;t[a]=function(){return n(this)}}))}},yGwC:function(t,e){var a=window.angular,n="templates/modals/setupOrganization.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal small {{ctrl.class}}" role=dialog style=display:block> <form class=modal-dialog ng-submit=ctrl.next() novalidate name=setupOrganizationForm> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <h4 ng-if="ctrl.step === \'name\'" class=modal-title translate translate-context=Title>Setting up your Organization</h4> <h4 ng-if="ctrl.step === \'keys\'" class=modal-title translate translate-context=Title>Setting up your Keys</h4> <h4 ng-if="ctrl.step === \'password\'" class=modal-title translate translate-context=Title>Set Organization Password</h4> <h4 ng-if="ctrl.step === \'storage\'" class=modal-title translate translate-context=Title>Allocate Storage</h4> <h4 ng-if="ctrl.step === \'vpn\'" class=modal-title translate translate-context=Title>Allocate VPN Connections</h4> </div> <div class="modal-body pm_form"> <div ng-if="ctrl.step === \'name\'"> <p class="alert alert-info" translate-context=Info translate>Pick a name for your Organization.</p> <input ng-model=ctrl.name type=text name=name placeholder-translate-context=Placeholder placeholder-translate="Organization name" ng-maxlength=100 required/> <div ng-messages=setupOrganizationForm.name.$error> <p ng-message=required class=text-red translate-context=Error translate>Field required</p> <p ng-message=maxlength class=text-red translate-context=Error translate>Name exceeds maximum length</p> </div> </div> <div ng-if="ctrl.step === \'keys\'"> <p class="alert alert-info" translate-context=Info translate>This will create a new encryption key for your organization. 4096-bit keys only work on high performance computers, for most users, we recommend using 2048-bit keys.</p> <div class=pm_grid> <div class=col-1-2> <label class=checkbox> <custom-radio data-custom-ng-model=ctrl.size data-custom-value=RSA2048></custom-radio> <strong translate translate-context=Title translate-comment="form option heading">High security</strong> <small>(2048-bit)</small> </label> </div> <div class=col-1-2> <label class=checkbox> <custom-radio data-custom-ng-model=ctrl.size data-custom-value=RSA4096 data-custom-ng-disabled="ctrl.process === true"></custom-radio> <strong translate translate-context=Title translate-comment="form option heading">Highest security</strong> <small>(4096-bit)</small> </label> </div> </div> </div> <div ng-if="ctrl.step === \'password\'"> <p class="alert alert-info" translate-context=Info translate>Your organization password can be shared with other users you wish to give administrative privileges. It is also an emergency recovery code to gain access to your organization in case you lose access to your account. Please save this password and keep it safe.</p> <div class=margin> <password data-id=organizationPassword data-name=organizationPassword data-value=ctrl.organizationPassword data-form=setupOrganizationForm placeholder-translate-context=Placeholder placeholder-translate="Organization password"></password> </div> <div class=margin> <password data-id=confirmOrganizationPassword data-name=confirmOrganizationPassword data-value=ctrl.confirmOrganizationPassword data-form=setupOrganizationForm data-compare=ctrl.organizationPassword placeholder-translate-context=Placeholder placeholder-translate="Confirm organization password"></password> </div> <p class="alert alert-warning"> <span translate-context=Info translate>* Do NOT forget this password. If you forget it, you will not be able to manage your organization.</span><br/> <span translate-context=Info translate>* Save your password somewhere safe. Click on <i class="fa fa-eye"></i> icon to confirm you that have typed your password correctly.</span> </p> </div> <div ng-if="ctrl.step === \'storage\'"> <p class="alert alert-info" translate-context=Info translate>Currently all available storage is allocated to the administrator account. Please reduce the admin account allocation to free up space for additional users. You can increase the total storage at any time by upgrading your account.</p> <label> <strong translate-context=Label translate>Admin Account Storage:</strong> {{ ctrl.sliderValue * ctrl.unit | humanSize }} ({{ ctrl.userUsedSpace | humanSize }} Used) </label> <label class=margin> <strong translate-context=Label translate>Storage for members:</strong> {{ ( ctrl.max - ctrl.sliderValue * ctrl.unit) | humanSize }} </label> <slider value=ctrl.sliderValue options=ctrl.sliderOptions class=margin></slider> <legends list=ctrl.legends></legends> </div> <div ng-if="ctrl.step === \'vpn\'"> <p class="alert alert-info" translate-context=Info translate>Currently all available VPN connections are allocated to the administrator account. Please select the number of connections you want to reserve for additional users.</p> <label> <strong translate-context=Label translate>Admin VPN Connections:</strong> {{ ctrl.sliderVPNValue }} </label> <label class=margin> <strong translate-context=Label translate>VPN Connections for members:</strong> {{ ctrl.maxVPN - ctrl.sliderVPNValue }} </label> <slider value=ctrl.sliderVPNValue options=ctrl.sliderVPNOptions class=margin></slider> <legends list=ctrl.legendsVPN></legends> </div> </div> </div> <div class=modal-footer> <button type=button class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate translate-context=Action>Cancel</button> <button type=submit class="pm_button primary modal-footer-button disabled-if-network-activity"> <span ng-hide=ctrl.isLastStep() translate translate-context=Action>Next</span> <span ng-show=ctrl.isLastStep() translate translate-context=Action>Finish</span> </button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},yH2K:function(t,e){var a=window.angular,n="templates/directives/ui/progressUpload.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=\"progressLoader-container pm_button progressUpload-uploading\"> <div class=progressLoader-attachment> <i class=progressLoader-icon ng-class=\"(model.packet.Inline === 1) ? 'fa fa-image embedded' : 'fa fa-paperclip'\"></i> <span class=progressLoader-name>{{ ::model.packet.filename }}</span> </div> <progression-btn data-action=close data-file-name={{::model.packet.filename}} class=progressLoader-btn-close></progression-btn> <progression-btn data-action=remove data-file-name={{::model.packet.filename}} class=progressLoader-btn-remove></progression-btn> </div> ")}])}t.exports=n},yRUs:function(t,e){var a=window.angular,n="templates/formUtils/codeVerificator.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<form name=codeVerificatorForm class="codeVerificator-container pm_form" novalidate> <div class="pm_grid codeVerificator-contact-section"> <div class="col-2-3 ng-message-wrapper"> <input class=codeVerificator-email-input type=email name=emailVerification id=emailVerification required ng-model=model.value ng-if="method === \'email\'" data-valid-email placeholder-translate-context=Placeholder placeholder-translate="Email verification"> <input class=codeVerificator-sms-input type=tel name=smsVerification ng-if="method === \'sms\'" required id=smsVerification data-ng-intl-tel-input ng-model=model.value> <div ng-messages=codeVerificatorForm.emailVerification.$error ng-if="codeVerificatorForm.emailVerification.$dirty || codeVerificatorForm.$submitted" class=text-red> <p ng-message=required translate translate-context=Error>Email required</p> <p ng-message=email translate-context=Error translate>Invalid email</p> </div> <div ng-messages=codeVerificatorForm.smsVerification.$error ng-if="codeVerificatorForm.smsVerification.$dirty || codeVerificatorForm.$submitted" class=text-red> <p ng-message=required translate translate-context=Error>SMS number required</p> <p ng-message=ngIntlTelInput translate translate-context=Error>Invalid format (country and/or number)</p> </div> </div> <div class=col-1-3> <button class="pm_button primary codeVerificator-btn-send" translate-context=Action translate>Send</button> </div> </div> <div class="pm_grid codeVerificator-code-section"> <p class="alert alert-success"> <strong translate-context=Info translate>Verification code sent</strong><br/> <span class=codeVerificator-email-instruction translate-context=Info translate>Please check your email and enter the code below:</span> <span class=codeVerificator-sms-instruction translate-context=Info translate>Please check your mobile and enter the code below:</span> </p> <input type=text name=codeValue id=codeValue ng-model=code placeholder-translate-context="Input for the code sent" placeholder-translate="Verification code"> </div> <button data-action=sendNewCode type=button class="pm_button link codeVerificator-new-code-button" translate-context=Action translate>Send new code</button> <button data-action=resetCode type=button class="pm_button link codeVerificator-reset-code-button"> <span class=codeVerificator-reset-button-email translate-context=Action translate>Change verification email</span> <span class=codeVerificator-reset-button-sms translate-context=Action translate>Change verification number</span> </button> </form> ')}])}t.exports=n},ykBR:function(t,e){var a=window.angular,n="templates/sidebar/sidebarMobileHeader.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<header class=sidebarMobileHeader-container> <btn-display-mobile-sidebar class="pull-right round sidebarMobileHeader-btn-sidebar" data-type=hide></btn-display-mobile-sidebar> <a class="sidebarMobileHeader-logo logo" ui-sref=secured.inbox title="ProtonMail ~ back to inbox"> <img src=assets/img/logo.png height=20 alt=ProtonMail> </a> <div class=sidebarMobileHeader-userDisplay> <span class=sidebarMobileHeader-userDisplay-name>{{ displayName }}</span> <strong class=sidebarMobileHeader-userDisplay-email>{{ email }}</strong> </div> </header> ')}])}t.exports=n},ywhq:function(t,e){var a=window.angular,n="templates/modals/domain/domain.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class="pm_modal {{ctrl.class}} domains" role=dialog style=display:block> <form method=post class=modal-dialog ng-submit=ctrl.submit()> <button type=button ng-click=ctrl.cancel() aria-hidden=true title-translate=Close title-translate-context=Action class="fa fa-times close"></button> <div class=modal-content> <div class=modal-header> <domains-menu-step></domains-menu-step> <span ng-show=ctrl.domain.DomainName class="pull-right pm_badge success" translate-context="Add a new domain label" translate>Set</span> <h4 class=modal-title>1. <span translate translate-context=Title>Domain</span></h4> </div> <div class="modal-body pm_form"> <p><span translate-comment="label for adding a new custom domain" translate translate-context=Info>Add a domain that you own to your ProtonMail account.</span> <a target=_blank href=https://protonmail.com/support/knowledge-base/custom-domains/ translate translate-context=Action>Learn more</a></p> <input ng-hide=ctrl.domain type=text autofocus ng-model=ctrl.name placeholder-translate-context="Add a domain" placeholder-translate="Domain name"> <p class="alert alert-warning" ng-show="ctrl.beginsWith(\'www.\')" translate-context=domains translate>\'www\' subdomains are typically not used for email. Are you sure you want to use this domain value?</p> <textarea rows=1 ng-show=ctrl.domain readonly=readonly ng-bind=::ctrl.domain.DomainName></textarea> </div> </div> <div class="modal-footer clearfix"> <button type=button class="pm_button modal-footer-button disabled-if-network-activity" ng-click=ctrl.cancel() translate translate-context=Action>Close</button> <button type=submit class="pm_button primary modal-footer-button disabled-if-network-activity" ng-hide=ctrl.domain.DomainName translate translate-context=Action>Next</button> <button type=button class="pm_button primary modal-footer-button" ng-show=ctrl.domain.DomainName ng-click=ctrl.next() translate translate-context=Action>Next</button> </div> </form> <div class=modal-overlay></div> </div> ')}])}t.exports=n},zAEO:function(t,e){var a=window.angular,n="templates/user/signupCreationProcess.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=signupCreationProcess-container ng-class="{\n        \'signupCreationProcess-error\': signupError\n    }"> <header class="text-center header"> <div class=creating-loader-container> <atom-loader data-loader-theme=primary></atom-loader> </div> <h2 class="text-center signupCreationProcess-title" translate-context=Title translate>Creating account</h2> <h2 class="text-center signupCreationProcess-error-title" translate-context=Error translate>Sign up failed</h2> </header> <p class="alert alert-danger signupCreationProcess-error-msg"><span translate-context=Error translate>An error occured while trying to create your account. To see common problems and solutions</span> <a target=_blank href=https://protonmail.com/support/knowledge-base/common-sign-up-problems-and-solutions/ translate-context=Action translate>click here</a>.</p> <div class="wrapper text-left"> <ol id=creationList> <li class=done> <i class="show fa fa-check"></i> <span translate-context="Signup step label" translate>Generating keys</span> </li> <li ng-class="{ \'done\': flow.creation }"> <i ng-class="{ \'show\': flow.creation  }" class="show fa fa-check"></i> <span translate-context="Signup step label" translate>Creating new account</span> </li> <li ng-class="{ \'done\': flow.loggedin }"> <i ng-class="{ \'show\': flow.loggedin }" class="fa fa-check"></i> <span translate-context="Signup step label" translate>Logging in to new account</span> </li> <li ng-class="{ \'done\': flow.setupaccount }"> <i ng-class="{ \'show\': flow.setupaccount }" class="fa fa-check"></i> <span translate-context="Signup step label" translate>Setting up new account</span> </li> <li ng-class="{ \'done\': flow.userready }"> <i ng-class="{ \'show\': flow.userready }" class="fa fa-check"></i> <span translate-context="Signup step label" translate>Done</span> </li> <li ng-class="{ \'done\': flow.done }"> <i ng-class="{ \'show\': flow.done }" class="fa fa-check"></i> <span translate-context="Signup step label" translate>Redirecting</span> </li> </ol> </div> </div> ')}])}t.exports=n},zIo8:function(t,e){var a=window.angular,n="templates/contact/manageContactGroupLink.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<button class=manageContactGroupLink-container> <div> <i class="fa fa-cog manageContactGroupLink-icon"></i> <i data-if=create class="fa fa-plus manageContactGroupLink-icon"></i> <span class=manageContactGroupLink-label translate-context=Action translate>Contact Groups</span> <span data-if=create class=manageContactGroupLink-label translate-context=Action translate>Add contact group</span> </div> </button> ')}])}t.exports=n},zWgH:function(t,e){var a=window.angular,n="templates/directives/toggle.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,"<div class=pm_toggle> <input id={{getID()}} type=checkbox ng-model=status class=pm_toggle-checkbox> <label for={{getID()}} class=pm_toggle-label></label> </div> ")}])}t.exports=n},"zWl+":function(t,e){var a=window.angular,n="templates/views/payments.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div id=pm_settings> <div class=settings> <div class=row> <section class="setting full pm_form settingsPayment-section"> <moz-info></moz-info> <header-block class=settingsPayment-header-method> <h2 class=settingsPayment-title-method translate translate-context=Title>Payment methods</h2> </header-block> <div class=settingsPayment-content> <div class=margin> <button type=button class="pm_button primary" ng-click=add() translate-context=Action translate>Add Payment Method</button> </div> <p class="alert alert-info" ng-show="methods.length === 0" translate-context=Info translate>You have no saved payment methods.</p> <div class=pm_table> <table ng-show="methods.length > 0" id=paymentMethodsTable> <thead> <tr> <th scope=col class=number translate-context=Title translate>Method</th> <th scope=col class=type translate-context=Title translate>Status</th> <th scope=col class=actions translate-context=Title translate>Actions</th> </tr> </thead> <tbody> <tr ng-repeat="method in methods"> <td> <span ng-if="method.Type === \'card\'"> <span class=uppercase>{{ method.Details.Brand}}</span>  {{ method.Details.Last4 }} </span> <span ng-if="method.Type === \'paypal\'">PayPal {{ method.Details.Payer }}</span> </td> <td> <span class=pm_badge ng-show=$first translate-context=Info translate>Default</span> <span class="pm_badge error" ng-if="method.Type === \'card\' && isExpired(method)" translate-context=Info translate>Expired</span> </td> <td class=text-right> <button type=button class="pm_button link" ng-hide="$first === true" ng-click=default(method) translate-context=Action translate>Make default</button> <button ng-if="method.Type === \'card\'" type=button class="pm_button link" ng-click=edit(method) translate-context=Action translate>Update</button> <button type=button class="pm_button link" ng-click=delete(method) translate-context=Action translate>Delete</button> </td> </tr> </tbody> </table> </div> </div> </section> <invoice-section></invoice-section> </div> </div> </div> ')}])}t.exports=n},znre:function(t,e){var a=window.angular,n="templates/dashboard/freeColumn.tpl.html";try{a.module("templates-app")}catch(o){a.module("templates-app",[])}finally{a.module("templates-app").run(["$templateCache",function(t){t.put(n,'<div class=freeColumn-container> <header class=freeColumn-header> <div class=isCurrent translate-context="Dashboard plan title" translate>Current Plan</div> <h1>Free</h1> </header> <div class=freeColumn-user translate-context="Dashboard plan information" translate>1 User</div> <div class=freeColumn-space translate-context="Dashboard plan information" translate>500 MB Storage</div> <div class=freeColumn-address> <span translate-context="Dashboard plan information" translate>1 Address</span> <i class="fa fa-info-circle" pt-tooltip-translate="Add additional addresses to your account like <u>username2@protonmail.com</u>" pt-tooltip-translate-context="Dashboard plan detail" pt-html=true></i> </div> <div class="freeColumn-domain disabled"> <s translate-context="Dashboard plan information" translate>Custom Domains</s> <i class="fa fa-info-circle" pt-tooltip-translate="Allows you to host emails for your own domain(s) at ProtonMail, e.g. <u>john.smith@example.com</u>" pt-tooltip-translate-context="Dashboard plan detail" pt-html=true></i> </div> <div class=freeColumn-sending translate-context="Dashboard plan information" translate>150 Messages per day</div> <div class=freeColumn-labels translate-context="Dashboard plan information" translate>3 Folders / 3 Labels</div> <div class=freeColumn-support translate-context="Dashboard plan information" translate>Limited Support</div> <div class="freeColumn-filters disabled"><s translate-context="Dashboard plan information" translate>Custom Filters</s></div> <div class="freeColumn-autoresponder disabled"><s translate-context="Dashboard plan information" translate>Autoresponder</s></div> <div class="freeColumn-catch-all disabled"><s translate-context="Dashboard plan information" translate>Catch-all email</s></div> <div class="freeColumn-members disabled"><s translate-context="Dashboard plan information" translate>Multi-User Support</s></div> <vpn-row data-plan=free class=freeColumn-vpn></vpn-row> <total-rows data-plan=free></total-rows> <div class=freeColumn-free translate-context="Dashboard plan type" translate>FREE</div> <footer class=freeColumn-footer> <select-plan data-plan=free></select-plan> </footer> </div> ')}])}t.exports=n}}]);
//# sourceMappingURL=10.4252e32f3e.chunk.js.map