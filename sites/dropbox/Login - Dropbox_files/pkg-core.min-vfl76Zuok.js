define("modules/clean/ajax",["require","exports","tslib","jquery","modules/clean/devtools/panels/performance/perf_hub_action_types","modules/clean/devtools/panels/performance/perf_hub_actions","modules/clean/job_progress","modules/clean/storage","modules/constants/ajax_strings","modules/constants/debug","modules/constants/page_load","modules/constants/request","modules/core/browser","modules/core/exception","modules/core/html","modules/core/notify","modules/core/uri","modules/clean/csrf","modules/clean/viewer"],(function(e,t,n,r,o,i,s,a,u,c,l,d,p,h,_,f,m,v,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentBackgroundBeaconRequest=t.ValidationSchemaRequest=t.SilentBackgroundRequest=t.BackgroundRequest=t.WebProgressRequest=t.FormWebRequest=t.WebRequestOref=t.WebRequest=t.Request=void 0,r=n.__importDefault(r),s=n.__importStar(s),a=n.__importStar(a),u=n.__importStar(u),c=n.__importStar(c),l=n.__importStar(l),d=n.__importStar(d),p=n.__importStar(p),h=n.__importStar(h);function w(e,t){var n;null==e&&(e={}),null==t&&(t=[]),null==e.type&&(null!=e.method?(h.reportStack("Use of method property within modules/clean/ajax's Request",{tags:["module:ajax"]}),n=e.method):n="POST",e.type=n);var o=new b(e),i=y(o,t),s=r.default.ajax({url:i.url(),type:e.type,data:i.data(),dataType:e.dataType||"text",headers:i.headers(),traditional:!0,xhrFields:i.xhrFields(),success:function(e,t,n){return i.success(e,t,n)},error:function(e,t,n){return i.error(e,t,n)},complete:function(e,t){return i.complete(e,t)},async:null==e.async||e.async,timeout:e.timeout});return i.request(s)}t.Request=w;var y=function(e,t){for(var n=[e],r=0,o=Array.from(t.slice(0).reverse());r<o.length;r++){var i=o[r];n.push(new i)}for(var s=null,a=0,u=Array.from(n);a<u.length;a++){i=u[a];s&&(i.next=s),s=i}return s},b=(function(){function e(e){null==e&&(e={}),this.options=function(){return e},this.url=function(){return String(e.url||"")},this.data=function(){return e.data||{}},this.headers=function(){return e.headers||{}},this.xhrFields=function(){return e.xhrFields||{}},this.success=e.success||this.identity,this.error=e.error||this.identity,this.complete=e.complete||this.identity,this.request=this.identity}return e.prototype.identity=function(e){return e},e})(),S=(function(){function e(){}return e.prototype.options=function(){return this.next.options()},e.prototype.url=function(){return this.next.url()},e.prototype.data=function(){return this.next.data()},e.prototype.headers=function(){return this.next.headers()},e.prototype.xhrFields=function(){return this.next.xhrFields()},e.prototype.success=function(e,t,n){return this.next.success(e,t,n)},e.prototype.error=function(e,t,n){return this.next.error(e,t,n)},e.prototype.complete=function(e,t){return this.next.complete(e,t)},e.prototype.request=function(e){return this.next.request(e)},e})(),x=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.initClass=function(){this.prototype.SUPPORTED_TLDS=["dropbox.com"]},t.prototype.data=function(){if(this.options().skipInjectCsrf)return this.next.data();h.assert(this._is_db_domain(),"injecting CSRF token into request to non-dropbox domain");var e={is_xhr:!0};return"get"!==(this.options().type||"post").toLowerCase()&&(e.t=v.readCsrfToken()),r.default.extend(e,this.next.data())},t.prototype._is_db_domain=function(){var e=m.URI.parse(String(this.url())).getAuthority();if(!e)return!0;var t=e.split(".");return this.SUPPORTED_TLDS.reduce((function(e,n){var r=n.split("."),o=t.slice(-1*r.length).join(".");return e||n===o}),!1)},t})(S);x.initClass();var T=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.data=function(){var e=this.next.data(),t=this.options();return t.subject_user&&!e._subject_uid&&(e._subject_uid=String(t.subject_user)),e},t.prototype.headers=function(){var e=this.next.headers(),t=this.options();return t.subject_user&&(e["X-DROPBOX-UID"]=String(t.subject_user)),e},t})(S),E=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.headers=function(){var e=this.next.headers(),t=this.options().teamAuthParams||{},n=t.team_id||g.Viewer.get_viewer().team_id;n&&(e["X-Dropbox-Teamid"]=String(n));var r=t.auth_role||g.Viewer.get_viewer().auth_role,o=t.auth_action_type||g.Viewer.get_viewer().auth_action_type;return(r||o)&&(e["X-Dropbox-Team-Authorization"]=JSON.stringify({auth_role:String(r),auth_action_type:String(o)})),e},t})(S),C=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.error=function(e,t,n){if(403===e.status){var r=a.SessionStorage.get("reload-timestamp"),o=(new Date).getTime();(!r||o-r>3e4)&&(a.SessionStorage.set("reload-timestamp",o),window.location.reload(!0))}return this.next.error(e,t,n)},t})(S),A=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.data=function(){var e=this.next.data();return null!=r.default.ajaxSettings.restrict&&(e.restrict=r.default.ajaxSettings.restrict),e},t})(S),M=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.data=function(){var e=this.next.data();if(!d.REQUEST_TRACING_ENABLED||"post"!==this.options().type.toLowerCase())return e;var t={parent_request_id:d.REQUEST_ID};return r.default.extend(t,e)},t})(S),L=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.data=function(){var e=this.next.data(),t={};return l.PUBLIC_MODE_OVERRIDE&&(t.public_mode_override=1),l.COUNTRY_OVERRIDE&&(t.country_override=l.COUNTRY_OVERRIDE),r.default.extend(t,e)},t})(S),F=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.headers=function(){var e=this.next.headers();return c.CPROFILE_ENABLED&&(e[o.PerfHubHeaderNames.FORCE_REQUEST_TRACING_HEADER]="ON"),e},t.prototype.url=function(){var e=this.next.url();if(!c.CPROFILE_ENABLED)return e;var t=c.CPROFILE_PARAMETER;return 0!==t.indexOf("deps:")?m.URI.parse(e).updateQuery({cProfile:t}).toString():e},t.prototype.success=function(e,t,n){var r=n.getResponseHeader(o.PerfHubHeaderNames.SERVER_RESPONSE_TIME)||"-1",s=n.getResponseHeader(o.PerfHubHeaderNames.REQUEST_PROFILE_ID)||"",a=n.getResponseHeader(o.PerfHubHeaderNames.REQUEST_ID);return i.PerfHubActions.add_ajax_profile(this.url(),r,s,a),this.next.success(e,t,n)},t})(S),P=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.error=function(e,t,n){return this._notify_dev(e,t,n),this.next.error(e,t,n)},t.prototype._notify_dev=function(e,t,n){},t})(S),O=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.success=function(e,t,n){var r;if(!n.responseText.length)return this.next.error(n,t,"");var o=!0,i=!1;if(0===n.responseText.indexOf("err:"))r=n.responseText.substr("err:".length),["{","["].includes(r[0])&&(o=!1);else{if(0!==n.responseText.indexOf("htmlerr:"))return this.next.success(e,t,n);r=n.responseText.substr("htmlerr:".length),i=!0}var s=this.next.error(n,t,r);return o&&!this.options().skipNotifyError&&(i&&(r=new _.HTML(r)),f.Notify.error(r)),s},t.prototype.error=function(e,t,n){return"abort"!==t&&f.Notify.error(u.PROBLEM_COMPLETING_REQUEST),this.next.error(e,t,n)},t})(S),I=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.success=function(e,t,n){if(!this.options().skipErrorHandling){if(!n.responseText.length)return this.next.error(n,t,"");if(0===n.responseText.indexOf("err:")){var r=n.responseText.substr("err:".length);return this.next.error(n,t,r)}}return this.next.success(e,t,n)},t})(S),R=(function(e){function t(){var t=e.call(this)||this;return t._clear_working_msg=t._clear_working_msg.bind(t),t}return n.__extends(t,e),t.prototype.request=function(e){var t=this;return this.xhr=e,setTimeout((function(){if(!t._request_finished())return t._should_show_working_msg()?(t._show_working_msg(),t.xhr.done(t._clear_working_msg)):void 0}),4e3),this.next.request(this.xhr)},t.prototype._request_finished=function(){return 4===this.xhr.readyState},t.prototype._should_show_working_msg=function(){return f.Notify.isShown()},t.prototype._show_working_msg=function(){return this.notification=f.Notify.success(u.STILL_WORKING)},t.prototype._clear_working_msg=function(){if(f.Notify.isShown()&&this.notification===f.Notify.current())return f.Notify.clear()},t})(S),k=(function(e){function t(){var t=e.call(this)||this;return t._watch=t._watch.bind(t),t}return n.__extends(t,e),t.prototype.data=function(){this.job_id=t.generate_job_id();var e=this.next.data();this.uid=e._subject_uid;var n=this.options().subject_user;return!this.uid&&n&&(this.uid=String(n)),r.default.extend({job_id:this.job_id},e)},t.prototype.request=function(e){return this._interval=1e3,this._failures=0,this._watch_count=0,this._watch_id=setInterval(this._watch,this._interval),this.next.request(e)},t.prototype.success=function(e,t,n){return this.next.success(e,t,n)},t.prototype.error=function(e,t,n){return this.next.error(e,t,n)},t.prototype.complete=function(e,t){return this._stop(),s.Job.handled(this.job_id),this.next.complete(e,t)},t.prototype._watch=function(){return s.Job.peek(this.job_id)?this._stop():(this._watch_count++,this._watch_count%10==0&&(clearInterval(this._watch_id),this._interval=Math.min(Math.floor(1.5*this._interval),3e4),this._watch_id=setInterval(this._watch,this._interval)),this._show_progress_modal(),this._fetch_progress())},t.prototype._stop=function(){clearInterval(this._watch_id),s.ModalProgress.hide()},t.prototype._show_progress_modal=function(){this._modal_shown||(this._modal_shown=!0,s.ModalProgress.show(this.options().progress_text))},t.prototype._fetch_progress=function(){var e=this,t={};return this.uid&&(t._subject_uid=this.uid),K({url:"/job_status/"+this.job_id,data:t,success:function(e,t,n){var r;r=0===n.responseText.indexOf("done")?"1/1":n.responseText,s.ModalProgress.update(r)},error:function(t,n,r){if(e._failures++,!(e._failures<3))return e._stop(),e.next.error(t,n,r)}})},t.generate_job_id=function(){var e=(new Date).getTime().toString(),t=Math.floor(1e6*Math.random()).toString();return e+(t=("000000"+t).substring(t.length))},t})(S),D=(function(e){function t(){var t=e.call(this)||this;return t._watch=t._watch.bind(t),t}return n.__extends(t,e),t.prototype.data=function(){var e=this.next.data();this.uid=e._subject_uid;var t=this.options().subject_user;return!this.uid&&t&&(this.uid=String(t)),e},t.prototype.success=function(e,t,n){return this._is_async_job_response(n)?(this.job_id=n.responseText.split(":")[1],this._interval=1e3,this._failures=0,this._watch_count=0,this._watch_id=setInterval(this._watch,this._interval)):this.next.success(e,t,n)},t.prototype.complete=function(e,t){if(!this._is_async_job_response(e))return this.next.complete(e,t)},t.prototype._is_async_job_response=function(e){return 0===(null!=e.responseText?e.responseText.indexOf("async_task_started:"):void 0)&&e.responseText.split(":")[1].match(/^[A-Za-z0-9_\-=]*$/)},t.prototype._watch=function(){return s.Job.peek(this.job_id)?this._stop():(this._watch_count++,this._watch_count%10==0&&(clearInterval(this._watch_id),this._interval=Math.min(Math.floor(1.5*this._interval),3e4),this._watch_id=setInterval(this._watch,this._interval)),this._show_progress_modal(),this._fetch_progress())},t.prototype._stop=function(){clearInterval(this._watch_id),s.ModalProgress.hide()},t.prototype._show_progress_modal=function(){this._modal_shown||(this._modal_shown=!0,s.ModalProgress.show(this.options().progress_text))},t.prototype._fetch_progress=function(){var e=this,t={};return this.uid&&(t._subject_uid=this.uid),z({url:"/async_task_status/"+this.job_id,data:t,success:function(t,n,r){var o=r.responseText;if(0===o.indexOf("done:"))return s.Job.handled(e.job_id),e._stop(),o=o.substr("done:".length),r.responseText=o,e.next.success(o,n,r),e.next.complete(r,n);if(0===o.indexOf("err:")){s.Job.handled(e.job_id),e._stop();var i=o.substr("err:".length);return f.Notify.error(i),e.next.error(r,n,i),e.next.complete(r,n)}if(0===o.indexOf("async_task_err:")){s.Job.handled(e.job_id),e._stop();var a=o.substr("async_task_err:".length);return f.Notify.error(new _.HTML(a)),e.next.complete(r,n)}s.ModalProgress.update(o)},error:function(t,n,r){if(e._failures++,!(e._failures<3))return e._stop(),e.next.error(t,n,r),e.next.complete(t,n)}})},t})(S),N=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.data=function(){var e,t=p.get_uri().getQuery().oref;return!(null===(e=this.next.data())||void 0===e?void 0:e.oref)&&t?r.default.extend({oref:t},this.next.data()):this.next.data()},t})(S),H=[(function(e){function t(){var t=e.call(this)||this;return t.browser_unload_handler=t.browser_unload_handler.bind(t),t.is_browser_unloading=!1,t}return n.__extends(t,e),t.prototype.browser_unload_handler=function(){this.is_browser_unloading=!0},t.prototype.request=function(e){var t;return r.default(window).on("beforeunload",this.browser_unload_handler),(t=this.next).request.apply(t,arguments)},t.prototype.error=function(e,t,n){var r,o=0===e.status&&0===e.readyState&&"error"===t&&!n,i=o&&this.is_browser_unloading;return i?this.next.error(e,"abort","unload"):(r=this.next).error.apply(r,arguments)},t.prototype.complete=function(){var e;return r.default(window).off("beforeunload",this.browser_unload_handler),(e=this.next).complete.apply(e,arguments)},t})(S)],j=[T,E,x,C,A],B=[R],V=[P,F,M,L],U=[D],q=[].concat(H,B,O,V,j,U);t.WebRequest=function(e){return null==e&&(e={}),w(e,q)},t.WebRequestOref=function(e){return null==e&&(e={}),w(e,[].concat(N,q))};var W=[].concat(H,B,I,V,j,U);t.FormWebRequest=function(e){return null==e&&(e={}),w(e,W)};var G=[].concat(H,B,O,V,j,k,U);function K(e){return null==e&&(e={}),w(e,[].concat(H,V,j))}t.WebProgressRequest=function(e){return null==e&&(e={}),w(e,G)},t.BackgroundRequest=K;var Q=[T,E,x,A],J=[].concat(H,V,Q);function z(e){return null==e&&(e={}),w(e,J)}t.SilentBackgroundRequest=z,t.ValidationSchemaRequest=function(e){null==e&&(e={});var t=new b(e),n=y(t,j),o=r.default.ajax({url:n.url(),type:"OPTIONS",data:n.data(),success:function(e,t,r){return n.success(e,t,r)},error:function(e,t,r){return n.error(e,t,r)},complete:function(e,t){return n.complete(e,t)}});return n.request(o)},t.SilentBackgroundBeaconRequest=function(e){if(null==e&&(e={}),delete e.success,delete e.error,delete e.complete,null==navigator.sendBeacon)return z(e);null==e.type&&(e.type="POST");var t=new b(e),n=y(t,[].concat(Q,M)),r=n.url(),o=new FormData,i=n.data();for(var s in i){var a=i[s];null!=a&&""!==a&&o.append(s,a)}navigator.sendBeacon(r,o)||console.warn("Beacon request failed: "+r)}})),define("modules/clean/css",["require","exports","modules/clean/static_urls","modules/core/exception","modules/core/uri","modules/clean/css_cache"],(function(e,t,n,r,o,i){"use strict";function s(e){void 0===e&&(e=document);for(var t=i.getOrCreateCache(e),n=e.querySelectorAll('link[rel="stylesheet"]'),r=0;r<n.length;r++){var s=n[r],a=o.URI.parse(s.href).getPath();0,null==t.already_loaded_css_paths[a]&&(t.loaded_css[a]=Promise.resolve(),t.already_loaded_css_paths[a]="loaded")}}function a(e,t,r,o){void 0===o&&(o=document);var s=i.getOrCreateCache(o),a=n.static_url(e);return i.loadCssWithCache(o,s,e,a).then(t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerCSSForPreload=t.is_loaded=t.require_css_multi=t.require_css=t.css_url=void 0,s(),t.css_url=function(e){return'url("'+String(e).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'")'},t.require_css=a,t.require_css_multi=function(e,t,n,r){void 0===r&&(r=document);var o=e.map((function(e){return a(e,void 0,void 0,r)}));return Promise.all(o).then(t,n)},t.is_loaded=function(e,t){void 0===t&&(t=document);var n=i.getOrCreateCache(t);return!!e.every((function(e){return r.assert(e.startsWith("/static/"),"invalid static css path: "+e),"loaded"===n.already_loaded_css_paths[e]}))||(s(t),e.every((function(e){return"loaded"===n.already_loaded_css_paths[e]})))},t.registerCSSForPreload=function(e){}})),define("modules/clean/css_cache",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCssWithCache=t.getOrCreateCache=void 0,t.getOrCreateCache=function(e){var t=e;return t._cssCache||(t._cssCache={loaded_css:Object.create(null),already_loaded_css_paths:Object.create(null)}),t._cssCache},t.loadCssWithCache=function(e,t,n,r){var o=t.loaded_css[n];return o||(o=new Promise((function(o,i){var s=e.createElement("link");return s.href=r,s.rel="stylesheet",s.type="text/css",s.crossorigin="anonymous",s.onload=function(){return t.already_loaded_css_paths[n]="loaded",o()},s.onerror=i,e.head.appendChild(s)})),t.loaded_css[n]=o,t.already_loaded_css_paths[n]="downloading"),o}})),define("modules/clean/dbmodal_stack",["require","exports"],(function(e,t){"use strict";function n(e,t){if(void 0===t&&(t={detail:null}),"function"==typeof CustomEvent)return new CustomEvent(e,t);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!0,t.detail),n}Object.defineProperty(t,"__esModule",{value:!0}),t.DBModalStack=t.createCustomEvent=void 0,t.createCustomEvent=n;var r=(function(){function e(){}return e.initClass=function(){this.__stack=[],this.CLEAR="dbmodal:clear"},e.pop=function(t){null!=t?e.remove(t):t=e.__stack.pop(),null!=t&&t._hide();var n=e.top();null!=n?n._show():this.trigger(e.CLEAR)},e.push=function(t){e.remove(t);var n=e.top();(null!=n?n.visible:void 0)&&n._hide(),e.__stack.push(t),t._show()},e.top=function(){var t=e.__stack.length;return t?e.__stack[t-1]:null},e.remove=function(t){for(var n=[],r=0,o=Array.from(e.__stack);r<o.length;r++){var i=o[r];i!==t&&n.push(i)}e.__stack=n},e.clear=function(){for(var t=e.__stack.length-1;t>=0;t--){var n=e.__stack[t];n.visible&&n._hide()}this.trigger(e.CLEAR),e.__stack=[]},e.register=function(t,n){document.addEventListener(t,n),document.addEventListener(e.CLEAR,(function(){return document.removeEventListener(t,n)}))},e.unregister=function(e,t){document.removeEventListener(e,t)},e.trigger=function(e,t){document.dispatchEvent(n(e,{detail:t}))},e})();t.DBModalStack=r,r.initClass()})),define("modules/clean/devtools/panels/performance/perf_hub_action_types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerfHubHeaderNames=t.ActionTypes=void 0,(function(e){e.PROFILED_AJAX_LOAD_FINISHED="PROFILED_AJAX_LOAD_FINISHED",e.WEB_TIMING_FETCHED="WEB_TIMING_FETCHED"})(t.ActionTypes||(t.ActionTypes={})),(function(e){e.SERVER_RESPONSE_TIME="x-server-response-time",e.REQUEST_PROFILE_ID="x-dropbox-request-profile-id",e.REQUEST_ID="x-dropbox-request-id",e.FORCE_REQUEST_TRACING_HEADER="x-dropbox-force-request-tracing"})(t.PerfHubHeaderNames||(t.PerfHubHeaderNames={}))})),define("modules/clean/devtools/panels/performance/perf_hub_actions",["require","exports","modules/clean/devtools/panels/performance/perf_hub_action_types","modules/clean/flux/dispatcher"],(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerfHubActions=void 0;var o=(function(){function e(){}return e.prototype.add_ajax_profile=function(e,t,o,i){var s=i;return r.Dispatcher.dispatch({type:n.ActionTypes.PROFILED_AJAX_LOAD_FINISHED,data:{url:e,serverResponseTime:t,profileRequestId:o,traceId:s}})},e.prototype.add_web_timing_details=function(e){return r.Dispatcher.dispatch({type:n.ActionTypes.WEB_TIMING_FETCHED,data:e})},e})();t.PerfHubActions=new o})),define("modules/clean/em_string",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emstring=void 0;var n=(function(){function e(t){if(!(this instanceof e))return new e(t);this.s=t,this.info=this.widthInfo(),this.length=t.length?this.info[this.s.length-1]:0}return e.initClass=function(){this.ACCURACY=2,this.CODEPOINT_TO_WIDTH={32:38,33:25,34:42,35:67,36:58,37:92,38:75,39:25,40:33,41:33,42:58,43:58,44:25,45:33,46:25,47:42,48:58,49:58,50:58,51:58,52:58,53:58,54:58,55:58,56:58,57:58,58:25,59:25,60:58,61:58,62:58,63:50,64:100,65:67,66:67,67:67,68:75,69:58,70:58,71:75,72:83,73:33,74:25,75:67,76:58,77:100,78:83,79:83,80:67,81:83,82:67,83:58,84:58,85:75,86:67,87:100,88:67,89:58,90:58,91:33,92:42,93:33,94:58,95:50,96:67,97:58,98:67,99:50,100:67,101:58,102:33,103:58,104:67,105:25,106:25,107:58,108:25,109:100,110:67,111:67,112:67,113:67,114:42,115:50,116:42,117:67,118:58,119:83,120:58,121:58,122:50,123:42,124:58,125:42,126:58,161:25,162:58,163:58,164:58,165:58,166:58,167:58,168:67,169:92,170:42,171:50,172:58,174:92,175:58,176:50,177:58,178:42,179:42,180:67,181:67,182:75,183:25,184:25,185:42,186:42,187:50,188:83,189:83,190:83,191:50,192:67,193:67,194:67,195:67,196:67,197:67,198:92,199:67,200:58,201:58,202:58,203:58,204:33,205:33,206:33,207:33,208:75,209:83,210:83,211:83,212:83,213:83,214:83,215:58,216:83,217:75,218:75,219:75,220:75,221:58,222:67,223:67,224:58,225:58,226:58,227:58,228:58,229:58,230:92,231:50,232:58,233:58,234:58,235:58,236:25,237:25,238:25,239:25,240:67,241:67,242:67,243:67,244:67,245:67,246:67,247:58,248:67,249:67,250:67,251:67,252:67,253:58,254:67,255:58,256:75,257:67,258:75,259:67,260:75,261:67,262:75,263:58,264:75,265:58,266:75,267:58,268:75,269:58,270:83,271:83,272:83,273:75,274:67,275:67,276:67,277:67,278:67,279:67,280:67,281:67,282:67,283:67,284:83,285:75,286:83,287:75,288:83,289:75,290:83,291:75,292:83,293:75,294:92,295:75,296:33,297:33,298:33,299:33,300:33,301:33,302:33,303:33,304:33,305:25,306:67,307:67,308:42,309:33,310:75,311:67,312:67,313:58,314:33,315:58,316:33,317:58,318:42,319:58,320:50,321:67,322:42,323:83,324:75,325:83,326:75,327:83,328:75,329:83,330:83,331:75,332:92,333:67,334:92,335:67,336:92,337:67,338:100,339:100,340:75,341:50,342:75,343:50,344:75,345:50,346:67,347:58,348:67,349:58,350:67,351:58,352:67,353:58,354:75,355:42,356:75,357:42,358:75,359:42,360:83,361:75,362:83,363:75,364:83,365:75,366:83,367:75,368:83,369:75,370:83,371:75,372:100,373:92,374:75,375:58,376:75,377:67,378:67,379:67,380:67,381:67,382:67,383:42,384:75,385:83,386:67,387:75,388:75,389:67,390:75,391:83,392:58,393:83,394:100,395:67,396:75,397:67,398:67,399:75,400:58,401:58,402:75,403:83,404:75,405:100,406:50,407:50,408:75,409:67,410:50,411:67,412:117,413:83,414:75,415:92,416:92,417:75,418:117,419:100,420:75,421:75,422:75,423:67,424:58,425:67,426:58,427:42,428:75,429:42,430:75,431:83,432:75,433:92,434:83,435:75,436:75,437:67,438:67,439:67,440:67,441:58,442:58,443:75,444:75,445:58,446:50,447:67,448:33,449:50,450:50,451:33,452:142,453:142,454:133,455:100,456:92,457:67,458:117,459:117,460:100,461:75,462:67,463:33,464:33,465:92,466:67,467:83,468:75,469:83,470:75,471:83,472:75,473:83,474:75,475:83,476:75,477:67,478:75,479:67,480:75,481:67,482:100,483:100,484:92,485:75,486:83,487:75,488:75,489:67,490:92,491:67,492:92,493:67,494:67,495:58,496:33,497:142,498:142,499:133,500:83,501:75,502:117,503:67,504:83,505:75,506:75,507:67,508:100,509:100,510:92,511:67,512:75,513:67,514:75,515:67,516:67,517:67,518:67,519:67,520:33,521:33,522:33,523:33,524:92,525:67,526:92,527:67,528:75,529:50,530:75,531:50,532:83,533:75,534:83,535:75,536:67,537:58,538:75,539:42,540:58,541:58,542:83,543:75,544:83,545:100,546:92,547:67,548:67,549:67,550:75,551:67,552:67,553:67,554:92,555:67,556:92,557:67,558:92,559:67,560:92,561:67,562:75,563:58,564:67,565:100,566:67,567:33,568:100,569:100,570:75,571:75,572:58,573:58,574:67,575:58,576:58,577:67,578:50,579:75,580:75,581:75,582:75,583:58,584:58,585:25,586:83,587:58,588:75,589:33,590:75,591:58,880:67,881:50,882:67,883:50,884:33,885:33,886:75,887:67,888:108,889:108,890:67,891:58,892:58,893:58,894:42,895:108,896:108,897:108,898:108,899:108,900:67,901:67,902:75,903:42,904:83,905:100,906:58,907:108,908:100,909:108,910:100,911:100,912:42,913:75,914:67,915:58,916:83,917:67,918:67,919:83,920:92,921:33,922:75,923:75,924:100,925:83,926:75,927:92,928:83,929:67,930:108,931:67,932:75,933:75,934:83,935:75,936:83,937:92,938:33,939:75,940:83,941:58,942:75,943:42,944:67,945:83,946:67,947:67,948:67,949:58,950:75,951:75,952:67,953:42,954:67,955:67,956:75,957:67,958:67,959:67,960:92,961:67,962:67,963:75,964:67,965:67,966:92,967:67,968:92,969:100,970:42,971:67,972:67,973:67,974:100,975:108,976:58,977:75,978:75,979:100,980:75,981:92,982:100,983:67,984:92,985:67,986:75,987:58,988:58,989:58,990:67,991:58,992:75,993:92,994:100,995:92,996:75,997:58,998:75,999:58,1e3:75,1001:75,1002:67,1003:67,1004:83,1005:58,1006:50,1007:42,1008:67,1009:67,1010:58,1011:33,1012:92,1013:58,1014:58,1015:67,1016:67,1017:75,1018:100,1019:83,1020:58,1021:75,1022:75,1023:75,1024:67,1025:67,1026:92,1027:58,1028:75,1029:67,1030:33,1031:33,1032:42,1033:108,1034:108,1035:83,1036:75,1037:83,1038:75,1039:83,1040:75,1041:67,1042:67,1043:58,1044:83,1045:67,1046:92,1047:67,1048:83,1049:83,1050:75,1051:83,1052:100,1053:83,1054:92,1055:83,1056:67,1057:75,1058:75,1059:75,1060:83,1061:75,1062:83,1063:75,1064:108,1065:108,1066:75,1067:92,1068:67,1069:75,1070:108,1071:75,1072:67,1073:67,1074:58,1075:58,1076:75,1077:67,1078:83,1079:58,1080:75,1081:75,1082:67,1083:67,1084:83,1085:75,1086:67,1087:75,1088:75,1089:58,1090:58,1091:58,1092:92,1093:67,1094:75,1095:58,1096:92,1097:100,1098:67,1099:83,1100:58,1101:58,1102:92,1103:58,1104:67,1105:67,1106:75,1107:58,1108:58,1109:58,1110:33,1111:33,1112:42,1113:92,1114:92,1115:75,1116:67,1117:75,1118:58,1119:75,1120:100,1121:75,1122:75,1123:67,1124:83,1125:83,1126:75,1127:67,1128:100,1129:92,1130:92,1131:83,1132:117,1133:108,1134:67,1135:67,1136:83,1137:83,1138:92,1139:67,1140:83,1141:67,1142:83,1143:67,1144:133,1145:125,1146:92,1147:67,1148:100,1149:75,1150:100,1151:75,1152:75,1153:58,1154:75,1155:0,1156:0,1157:0,1158:0,1159:108,1160:0,1161:0,1162:83,1163:75,1164:67,1165:58,1166:67,1167:75,1168:58,1169:58,1170:67,1171:58,1172:75,1173:67,1174:100,1175:92,1176:67,1177:58,1178:75,1179:67,1180:83,1181:75,1182:75,1183:67,1184:83,1185:75,1186:83,1187:75,1188:100,1189:83,1190:117,1191:100,1192:92,1193:75,1194:75,1195:58,1196:75,1197:58,1198:75,1199:58,1200:75,1201:58,1202:75,1203:75,1204:100,1205:83,1206:75,1207:67,1208:75,1209:67,1210:75,1211:58,1212:92,1213:75,1214:92,1215:75,1216:33,1217:92,1218:83,1219:75,1220:67,1221:83,1222:67,1223:83,1224:75,1225:83,1226:75,1227:75,1228:58,1229:100,1230:83,1231:25,1232:75,1233:67,1234:75,1235:67,1236:100,1237:100,1238:67,1239:67,1240:75,1241:67,1242:75,1243:67,1244:92,1245:83,1246:67,1247:58,1248:67,1249:58,1250:83,1251:75,1252:83,1253:75,1254:92,1255:67,1256:92,1257:67,1258:92,1259:67,1260:75,1261:58,1262:75,1263:58,1264:75,1265:58,1266:75,1267:58,1268:75,1269:58,1270:58,1271:42,1272:92,1273:83,1274:58,1275:42,1276:75,1277:58,1278:75,1279:58,2026:67,19977:108,65403:58},this._ELLIPSIS_LENGTH=new e("…").length},e.em_snippet=function(t,n,r){return null==n&&(n=50),null==r&&(r=.75),new e(t.toString()).snippet(n,r).toString()},e.prototype.widthInfo=function(){for(var e={"-1":0},t=0,n=this.s.length,r=0<=n;r?t<n:t>n;r?t++:t--)e[t]=e[t-1]+this.ems(this.s.charAt(t));return e},e.prototype.findSpot=function(e){var t;if(!e)return 0;for(var n=0,r=this.s.length;n<=r;){t=Math.floor(n/2+r/2);var o=this.info[t-1];if(o>e)r=t-1;else{if(!(o<e))return t;n=t+1}}return n>t?n:t},e.prototype.ems=function(t){var n=t.charCodeAt(0),r=e.CODEPOINT_TO_WIDTH[n];return r?r/Math.pow(10,e.ACCURACY):768<=n&&n<=879?0:65377<=n&&n<=65500?.58:11904<=n&&n<=40911||44032<=n&&n<=55215||4352<=n&&n<=4607||63744<=n&&n<=64255||65280<=n&&n<=65535||131072<=n&&n<=196607?1.08:.65},e.prototype.substr=function(t,n){var r=this.findSpot(t);if(null!=n){var o=this.findSpot(t+n);if(o-r<this.s.length){var i=this.s.charCodeAt(o-r);65024<=i&&i<=65039&&o--}return new e(this.s.substr(r,o-r))}return new e(this.s.substr(r))},e.prototype.toString=function(){return this.s},e.prototype.snippet=function(t,n){if(void 0===t&&(t=50),void 0===n&&(n=.75),this.length<=t)return this;var r=(t-=e._ELLIPSIS_LENGTH)*n,o=t-r,i=this.length-o,s=this.substr(0,r),a=this.substr(i);return new e(s.toString()+"…"+a.toString())},e})();t.Emstring=n,n.initClass()})),define("modules/clean/event_load",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window_load=void 0;t.window_load=function(e){"complete"===document.readyState&&(function(e){window.setTimeout((function(){return e.apply(e)}),0)})(e),window.addEventListener("load",e,!1)}})),define("modules/clean/filepath",["require","exports"],(function(e,t){"use strict";function n(e){return e?("/"!==e.charAt(0)&&(e="/"+e),"/"===e.charAt(e.length-1)?e.substr(0,e.length-1):e):""}function r(e){if(!e)return{name:"",ext:""};var t=e.split("."),n=e.length>0&&"."===e[0],r=e.indexOf(".")<0;n&&(r=t.length<=2);var o=t.pop();return o&&!r?{name:t.join("."),ext:o}:{name:e,ext:""}}function o(e){return r(e).ext.toLowerCase()}function i(e){return e.split("/").slice(0,-1).join("/")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),t.parentDirName=t.child_dir=t.parent_dirs=t.parent_dir=t.file_extension_for_logging=t.file_extension=t.split_filename=t.filename_without_extension=t.filename=t.inSubDirectory=t.inSameDirectory=t.paths_are_equal=t.normalize=void 0,t.normalize=n,t.paths_are_equal=function(e,t){return n(e).toLowerCase()===n(t).toLowerCase()},t.inSameDirectory=function(e){if(!e.length)return!1;var t=i(e[0]);return!e.find((function(e){return i(e)!==t}))},t.inSubDirectory=function(e,t){var r=(e=n(e)).split("/"),o=(t=n(t)).split("/");if(o.length<=r.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1;return!0},t.filename=function(e,t){var r=(e=n(e)).split("/").pop();return r||(t||"Dropbox")},t.filename_without_extension=function(e){return e?-1===e.indexOf(".")?e:e.split(".").slice(0,-1).join("."):""},t.split_filename=r,t.file_extension=o,t.file_extension_for_logging=function(e){return-1===e.indexOf(".")?"":o(e).toLowerCase()},t.parent_dir=i,t.parent_dirs=function(e){for(var t=[],n=i(e);"/"!==n;)t.push(n),n=i(n);return t},t.child_dir=function(e){return e.split("/").pop()||""},t.parentDirName=function(e){var t=e.split("/");return t.length>1?t[t.length-2]:""}})),define("modules/clean/flux/dispatcher",["require","exports","tslib","flux","modules/core/exception"],(function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DispatcherClass=t.Dispatcher=void 0,r=n.__importStar(r),o=n.__importStar(o);var i=null,s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.dispatch=function(t){o.assert(null!=t.type,"Invariant error: cannot dispatch action without 'type' property."),o.assert(null===i,"Invariant error: cannot dispatch "+t.type+" while also dispatching "+i+"."),i=t.type;try{"function"==typeof this.dispatch_begin&&this.dispatch_begin();try{return e.prototype.dispatch.call(this,{action:t})}catch(e){return o.reportException({err:e}),console.error(e)}finally{"function"==typeof this.dispatch_end&&this.dispatch_end()}}finally{i=null}},t})(r.Dispatcher);t.DispatcherClass=s;var a=new s;t.Dispatcher=a})),define("modules/clean/job_progress",["require","exports","modules/clean/dbmodal_stack"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Job=t.ModalProgress=void 0;var r={complete:{},handled:function(e){if(!e)return!1;var t=!!r.complete[e];return r.complete[e]=!0,t},peek:function(e){return!!e&&!!r.complete[e]}};t.Job=r;var o={show:function(e){var t;if(e){null===(t=n.DBModalStack.top())||void 0===t||t.hide();var r=document.createElement("div");r.id="modal-progress-overlay",r.style.position="fixed",r.style.width="100%",r.style.height="100%",r.style.display="none",r.classList.add("fade-out"),document.body.appendChild(r);var o=document.createElement("div");o.id="modal-progress-content",o.style.display="none",o.classList.add("fade-out");var i=document.createElement("div");i.id="modal-progress-bar";var s=(function(e,t){void 0===t&&(t=300);var n=t.toString()+"px",r=document.createElement("div");r.classList.add("outer-progress-bar");var o=document.createElement("div");o.style.width=n,o.id="pb_"+e,o.classList.add("inner-progress-bar");var i=document.createElement("div");i.style.width=n,i.classList.add("under-pb"),i.classList.add("progress-bar");var s=document.createElement("div");s.style.display="none",s.id="pb_"+e+"_over",s.classList.add("over-pb"),s.classList.add("progress-bar");var a=document.createElement("div");a.style.width=n,a.id="pb_"+e+"_upct",a.classList.add("pb-percentage");var u=document.createElement("div");return u.style.width=n,u.id="pb_"+e+"_opct",u.classList.add("pb-percentage"),i.appendChild(a),s.appendChild(u),o.appendChild(i),o.appendChild(s),r.appendChild(o),r})("modal-progress",150);i.appendChild(s);var a=document.createElement("div");a.id="modal-progress-text",a.textContent=e;var u=document.createElement("modal-progress-container");u.id="modal-progress-container",u.appendChild(i),u.appendChild(a),o.appendChild(u),document.body.appendChild(o),r.style.display="",r.classList.add("fade-to"),r.classList.remove("fade-out"),o.style.display="",o.classList.add("fade-in"),o.classList.remove("fade-out")}},update:function(e){e.indexOf("progress")>-1&&(e=e.substring("progress".length)),(function(e,t){var n=document.querySelector("#pb_"+e+"_over");if(n){var r=t.split("/").map(Number),o=r.length>1?r[0]/r[1]:r[0],i=isNaN(o)?0:o;n.style.width=100*Math.min(i,1)+"%",n.style.display="",n.style.backgroundColor="#348DD3",n.style.overflow="hidden"}})("modal-progress",e)},hide:function(){var e=document.querySelector("#modal-progress-overlay");e&&(e.classList.add("fade-out"),e.classList.remove("fade-to"),window.setTimeout((function(){e.remove()}),250));var t=document.querySelector("#modal-progress-content");t&&(t.classList.add("fade-out"),t.classList.remove("fade-in"),window.setTimeout((function(){t.remove()}),250))}};t.ModalProgress=o})),define("modules/clean/keycode",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCode=void 0,(function(e){e[e.A=65]="A",e[e.C=67]="C",e[e.F=70]="F",e[e.P=80]="P",e[e.V=86]="V",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CONTROL=17]="CONTROL",e[e.ALT=18]="ALT",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.TWO_KEY=50]="TWO_KEY",e[e.EQUALS=61]="EQUALS",e[e.COMMAND=91]="COMMAND",e[e.PLUS_EQUALS_FF=107]="PLUS_EQUALS_FF",e[e.MINUS_FF=109]="MINUS_FF",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.PLUS_EQUALS_FF_GERMAN=171]="PLUS_EQUALS_FF_GERMAN",e[e.MINUS_FF_MAC=173]="MINUS_FF_MAC",e[e.PLUS_CHROME=187]="PLUS_CHROME",e[e.MINUS_CHROME=189]="MINUS_CHROME",e[e.FORWARD_SLASH=191]="FORWARD_SLASH",e[e.AT_SIGN=64]="AT_SIGN",e[e.PROCESSING=229]="PROCESSING"})(t.KeyCode||(t.KeyCode={}))})),define("modules/clean/static_urls",["require","exports","modules/core/exception","modules/core/uri"],(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.static_url=void 0,t.static_url=function(e){return n.assert(0===e.indexOf("/static/"),"'"+e+"' is not a /static url"),new r.URI({scheme:"https",authority:"cfl.dropboxstatic.com",path:e}).toString()}})),define("modules/clean/storage",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserLocalStorage=t.LocalStorage=t.SessionStorage=t.BrowserStorage=t.MemoryStorage=void 0;var n=(function(){function e(){this.storage={}}return e.prototype.clear=function(){this.storage={}},e.prototype.getItem=function(e){return this.storage[e]},e.prototype.key=function(e){return Object.keys(this.storage)[e]},e.prototype.removeItem=function(e){delete this.storage[e]},e.prototype.setItem=function(e,t){this.storage[e]=t},e})();t.MemoryStorage=n;var r=(function(){function e(e){this.initFn=e}return Object.defineProperty(e.prototype,"storage",{get:function(){return this.initFn&&(this._storage=(function(e){var t;try{t=e()||new n}catch(e){t=new n}try{var r="__storage_test__";return t.setItem(r,r),t.removeItem(r),t}catch(e){return t&&i(e)?t:new n}})(this.initFn),delete this.initFn),this._storage},enumerable:!1,configurable:!0}),e.prototype.get=function(e){if(this.storage){var t=this.storage.getItem(e);return t?"undefined"===t?void 0:JSON.parse(t):t}},e.prototype.set=function(e,t){if(this.storage)try{return null===t?this.delete(e):this.storage.setItem(e,JSON.stringify(t))}catch(e){if(i(e))return;throw e}},e.prototype.delete=function(e){return this.storage?this.storage.removeItem(e):void 0},e.prototype.reset=function(){return this.storage?this.storage.clear():void 0},e})();t.BrowserStorage=r;var o=(function(){function e(e){this.idPrefix="userId:",this.browserStorage=e}return e.prototype.get=function(e,t){return this.browserStorage.get(this.formatKey(e,t))},e.prototype.set=function(e,t,n){return this.browserStorage.set(this.formatKey(e,t),n)},e.prototype.clearOtherUsers=function(e){var t=this;Object.keys(this.browserStorage.storage).map((function(n){if(n.startsWith(t.idPrefix)){var r=n.substring(t.idPrefix.length,n.indexOf("."));e.includes(Number(r))||t.browserStorage.delete(n)}}))},e.prototype.delete=function(e,t){return this.browserStorage.delete(this.formatKey(e,t))},e.prototype.formatKey=function(e,t){return""+this.idPrefix+e+"."+t},e})();function i(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)}t.SessionStorage=new r((function(){return window.sessionStorage})),t.LocalStorage=new r((function(){return window.localStorage})),t.UserLocalStorage=new o(t.LocalStorage)})),define("modules/clean/ts_utils",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwEnforceExhaustive=t.enforceExhaustive=void 0,t.enforceExhaustive=function(e){return e},t.throwEnforceExhaustive=function(e,t){throw new Error(t)}})),define("modules/clean/user",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mkUser=void 0;var n=(function(){function e(e){Object.assign(this,e)}return e.prototype.toString=function(){return String(this.id)},e})();t.mkUser=function(e){return new n(e)}})),define("modules/clean/ux_analytics/utils",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWARPInfoFromDOM=t.getModalId=t.dispatchModalClosed=t.dispatchModalOpened=void 0;var n=function(e,t){if("function"==typeof CustomEvent)document.dispatchEvent(new CustomEvent(e,{detail:t}));else{var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!0,!0,t),document.dispatchEvent(n)}};t.dispatchModalOpened=function(){n("modalOpened")},t.dispatchModalClosed=function(){n("modalClosed")},t.getModalId=function(e){if(e.id)return e.id;var t=e.className;if(t){var n=t.split(" ");return n.length>1?n.find((function(e){return e.indexOf("modal")>-1}))||t[0]+"-modal":t.indexOf("modal")>-1?t:t+"-modal"}};t.getWARPInfoFromDOM=function(){var e=document.getElementById("warp-metadata");return e?e.getAttribute("data-warp-info"):null}})),define("modules/clean/viewer",["require","exports","tslib","modules/constants/viewer","modules/core/exception","modules/clean/user"],(function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Viewer=void 0;var s=(function(){function e(e){void 0===e&&(e={}),this.replace_viewer_data(e)}return e.get_viewer=function(){return e._cached_viewer},e.get_role_title=function(e){return this.get_viewer().get_title_by_role(e.role)},e.get_root_name=function(e){return this.get_viewer().get_root_name_by_role(e.role)},e.get_is_signed_in=function(e){return e.is_signed_in},e.prototype.replace_viewer_data=function(e){void 0===e&&(e={}),this._authed_users={},this._all_users={};for(var t=e._user_data||[],n=0,r=t;n<r.length;n++){var o=r[n],s=i.mkUser(o);this._all_users[s.id]=s,o._authed&&(this._authed_users[s.id]=s)}this.display_name=e.display_name,this.team_id=e.team_id,this.auth_role=e.auth_role,this.auth_action_type=e.auth_action_type,this.team_dbtid=e.team_dbtid,this.team_name=e.team_name,this.team_type=e.team_type,this.team_is_limited=e.team_is_limited||!1,this.team_is_locked=e.team_is_locked||!1,this.is_assume_user_session=e.is_assume_user_session||!1,this.is_team_assume_user_session=e.is_team_assume_user_session||!1,this.is_signed_in=t.length>0,this.is_paired=t.length>1,e.deprecated_first_user_in_the_cookie_id&&(this.deprecated_first_user_in_the_cookie=this.get_user_by_id(e.deprecated_first_user_in_the_cookie_id)),this._load_cached_users()},e.prototype.get_user_by_role=function(e,t){var n=this.get_uid_by_role(e);return null!=n?this.get_user_by_id(n,t):void 0},e.prototype.role_exists=function(e){return null!=this.get_uid_by_role(e)},e.prototype.get_user_by_id=function(e,t){o.assert(this.is_uid_associated(e),"User "+e+" is not associated with this viewer");var n=(t?this._all_users:this._authed_users)[e];return o.assert(!!n,"User "+e+" is not signed in"),n},e.prototype.is_role_signed_in=function(e){var t=this.get_uid_by_role(e);return null!=t&&t in this._authed_users},e.prototype.is_uid_signed_in=function(e){return e in this._authed_users},e.prototype.is_user_signed_in=function(e){return null!=e&&this.is_uid_signed_in(e.id)},e.prototype.is_uid_associated=function(e){return e in this._all_users},e.prototype.get_users=function(e){var t=e?this._all_users:this._authed_users,n=Object.keys(t).map((function(e){return t[e]}));return n.sort((function(e,t){return"personal"===e.role?-1:1})),n},e.prototype.get_user_ids=function(e){return this.get_users(e).map((function(e){return e.id}))},e.prototype.get_roles=function(e){return this.get_users(e).map((function(e){return e.role}))},e.prototype.get_account_ids=function(e){return this.get_users(e).map((function(e){return e.account_id}))},e.prototype.get_email_by_role=function(e){var t=this.get_user_by_role(e,!0);return t&&t.email},e.prototype.get_uid_by_role=function(e){for(var t in"photos"===e&&(e=this.is_paired||!this.is_signed_in?"personal":this._all_users[Object.keys(this._all_users)[0]].role),this._all_users)if(this._all_users.hasOwnProperty(t)){var n=this._all_users[t];if(n.role===e)return n.id}},e.prototype.get_title_by_role=function(e){return"work"===e?this.team_name:this.is_paired?r.PERSONAL_ROLE_STRING:""},e.prototype.get_root_name_by_role=function(e){return this.get_title_by_role(e)||r.DEFAULT_ROOT_NAME},e.prototype._sign_in_all_users=function(){this._authed_users=n.__assign({},this._all_users),this._load_cached_users()},e.prototype._sign_out_user_by_id=function(e){delete this._authed_users[e],this._load_cached_users()},e.prototype.sign_in_user_by_id=function(e){o.assert(this.is_uid_associated(e),"User "+e+" is not associated with this viewer"),this._authed_users[e]=this._all_users[e],this._load_cached_users()},e.prototype._load_cached_users=function(){this.personal_user=this._authed_users[this.get_uid_by_role("personal")],this.photos_user=this._authed_users[this.get_uid_by_role("photos")],this.work_user=this._authed_users[this.get_uid_by_role("work")],this.personal_email=this.get_email_by_role("personal"),this.work_email=this.get_email_by_role("work"),this.is_personal_user_signed_in=this.is_role_signed_in("personal"),this.is_photos_user_signed_in=this.is_role_signed_in("photos"),this.is_work_user_signed_in=this.is_role_signed_in("work")},e._cached_viewer=new e(r._viewer_properties),e})();t.Viewer=s})),define("modules/core/accessible_announce",["require","exports","tslib","dompurify","modules/clean/css","modules/core/html"],(function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibleAnnounce=void 0,r=n.__importStar(r);var s=(function(){function e(){}return e.polite=function(e,t){return void 0===t&&(t=10),this.announce("polite",e,t)},e.assertive=function(e,t){return void 0===t&&(t=10),this.announce("assertive",e,t)},e.clear=function(){this.lastTimeout&&clearTimeout(this.lastTimeout),Array.from(document.querySelectorAll("#accessible-announce")).forEach((function(e){e.setAttribute("aria-live","off"),e.innerHTML=""}))},e.announce=function(e,t,n){var r=this;return void 0===n&&(n=10),o.require_css("/static/css/accessibility-vfliGZNRm.css",(function(){return document.querySelector("#accessible-announce")?(r.setMessage(t,e),r.scheduleClear(n)):(document.body.insertAdjacentHTML("afterend","<div id='accessible-announce' aria-live='assertive' class='ax-visually-hidden'></div>"),setTimeout((function(){return r.setMessage(t,e),r.scheduleClear(n)}),r.TIMEOUT_LENGTH))}))},e.setMessage=function(e,t){this.clear(),Array.from(document.querySelectorAll("#accessible-announce")).forEach((function(n){n.setAttribute("aria-live",t),e instanceof HTMLElement?n.innerHTML=r.sanitize(e.innerHTML):i.isHTML(e)?n.innerHTML=r.sanitize(e.toHTML()):n.textContent=e}))},e.scheduleClear=function(e){var t=this;return this.lastTimeout=setTimeout((function(){t.clear()}),1e3*e)},e.TIMEOUT_LENGTH=50,e})();t.AccessibleAnnounce=s})),define("modules/core/browser",["require","exports","tslib","modules/constants/env","modules/core/exception","modules/core/uri"],(function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeRedirect=t.now=t.performance=t.reload=t.replace_location=t.redirect=t.onBrowserRedirect=t.open_mail=t.unsafe_open_tab=t.open_tab=t.mockableInternalMethods=t.set_hash=t.get_href_no_hash=t.get_hash=t.get_uri=t.get_origin=t.get_hostname=t.get_pathname=t.get_href=void 0;var s=(r=n.__importStar(r)).REDIRECT_SAFE_ORIGINS;function a(e){return void 0===e&&(e=window),e.location.href}t.get_href=a,t.get_pathname=function(e){return void 0===e&&(e=window),e.location.pathname},t.get_hostname=function(e){return void 0===e&&(e=window),e.location.hostname},t.get_origin=function(e){return void 0===e&&(e=window),e.location.origin},t.get_uri=function(e){return void 0===e&&(e=window),i.URI.parse(a(e))},t.get_hash=function(){return window.location.hash.split("#")[1]},t.get_href_no_hash=function(){return a().split("#")[0]},t.set_hash=function(e){window.location.hash=e},t.mockableInternalMethods={_navigate:function(e,t){void 0===t&&(t=window),t.location.href=e},_parse_target:function(e,t){var n=void 0===t?{}:t,r=n.target_window,a=void 0===r?window:r,u=n.checkDomainWhitelist,c=void 0===u||u,l=n.httpsOnly,d=void 0===l||l,p=a.document.createElement("a");e instanceof i.URI?p.href=e.toString():p.href=e;var h=p.protocol||a.location.protocol;":"===p.protocol&&(h=a.location.protocol);var _=p.hostname||a.location.hostname,f=p.port||a.location.port;"443"===f&&"https:"===h&&(f=""),c&&o.assert(!f,"Non-default port not legal when checking the whitelist.");var m=0===p.pathname.indexOf("/")?p.pathname:"/"+p.pathname;d?o.assert("https:"===h,"Target URI must be secure"):o.assert("data:"!==h&&"javascript:"!==h&&"vbscript:"!==h,"Target URI can't use the data or javascript scheme"),c&&o.assert(s.indexOf(_)>-1,"Target URI must be in the domain whitelist");var v=_;return f&&(v=v+":"+f),e=h+"//"+v+m+p.search+p.hash}},t.open_tab=function(e,n){void 0===n&&(n=!1);var r=t.mockableInternalMethods._parse_target(e),o=window.open(r,"_blank");return n?o:null},t.unsafe_open_tab=function(e){return e=t.mockableInternalMethods._parse_target(e,{checkDomainWhitelist:!1,httpsOnly:!1}),window.open(e,"_blank")},t.open_mail=function(e,t){void 0===t&&(t="_blank"),o.assert(e.startsWith("mailto:"),"Mailto link is malformed."),window.open(e,t)};var u=[];function c(){return window.performance||null}t.onBrowserRedirect=function(e){u.push(e)},t.redirect=function(e,n){void 0===n&&(n=window);for(var r="string"==typeof e?e:e.toString(),o=0,i=u;o<i.length;o++){(0,i[o])(r)}var s=t.mockableInternalMethods._parse_target(e,{target_window:n});t.mockableInternalMethods._navigate(s,n)},t.replace_location=function(e){var n=t.mockableInternalMethods._parse_target(e);window.location.replace(n)},t.reload=function(e){void 0===e&&(e=!1),window.location.reload(e)},t.performance=c,t.now=function(){var e=c();return e&&e.now&&e.timing?Math.round(e.now()+e.timing.navigationStart):Date.now()},t.unsafeRedirect=function(e){e=t.mockableInternalMethods._parse_target(e,{checkDomainWhitelist:!1,httpsOnly:!1}),t.mockableInternalMethods._navigate(e)}})),define("modules/core/browser_detection",["require","exports"],(function(e,t){"use strict";function n(e,t){var n=/win(dows)? 9x 4\.90/.test(e)||/windows me/.test(e),r={windows3_11:/win16/.test(e),windows95:/windows 95/.test(e)||/win95/.test(e)||/windows_95/.test(e),windows98:!n&&(/windows 98/.test(e)||/win98/.test(e)),windowsCE:/windows ce/.test(e),windowsME:n,windowsNT4_0:/windows nt 4\.0/.test(e)||/winnt4.0/.test(e)||/winnt/.test(e)||/windows nt([^ ]| [^0-9])/.test(e),windows2000:/windows nt 5\.0/.test(e)||/windows 2000/.test(e),windowsXP:/windows nt 5\.1/.test(e)||/windows xp/.test(e),windowsXPx64:/windows nt 5\.2/.test(e),windowsVista:/windows nt 6\.0/.test(e)||/windows vista/.test(e),windows7:/windows nt 6\.1/.test(e),windows8:/windows nt 6\.2/.test(e),windows8_1:/windows nt 6\.3/.test(e),windows10:/windows nt 6\.4/.test(e)||/windows nt 10\.0/.test(e),win7OrLower:!1,win8OrHigher:!1};return r.win7OrLower=r.windows3_11||r.windows95||r.windows98||r.windowsCE||r.windowsME||r.windowsNT4_0||r.windows2000||r.windowsXP||r.windowsXPx64||r.windowsVista||r.windows7,r.win8OrHigher=t&&!r.win7OrLower,r}function r(e){void 0===e&&(e=navigator.userAgent);var t=(function(e){var t=e.toLowerCase(),n=/(ipad)/.exec(t)||/(edge)[ \/]([\w.]+)/.exec(t)||/(edg)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||/(trident).*? rv:([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],r=t.match(/version\/([\d.]+)/i),o=null!=r?n[1]:null;return"webkit"===o&&(o=null!=r?r[1]:null),{browser:n[1]||"",version:o||n[2]||"0",userAgent:e}})(e);return"trident"===t.browser&&(t.browser="msie"),t}function o(e){return void 0===e&&(e=navigator.plugins||[]),Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.INTERNAL_FILE_DATA_TRANSFER_TYPE=t.is_input_webkitdirectory_supported=t.is_mobile_or_tablet=t.is_tablet=t.is_android=t.is_supported_mobile_browser=t.checkBrowserVersion=t.unsubscribeConnectivityStatusChange=t.subscribeConnectivityStatusChange=t.isOnline=t.is_high_density_display=t.msie_version_at_most=t.pluginNames=t.plugins=t.userAgent=t.version=t.browser_name=t.facebookWebView=t.iOS=t.ipod=t.iphone=t.windowsInfo=t.windows=t.mac=t.webkit=t.mozilla=t.chromium=t.edgeChromium=t.edge=t.msie=t.opera=t.safari=t.chrome=t.ipad=t.get_plugins=t.get_browser_info=t.parseWindowsOsInfo=void 0,t.parseWindowsOsInfo=n,t.get_browser_info=r,t.get_plugins=o;var i=r();function s(e,n,r){return void 0===r&&(r=!0),r?Boolean(e)&&parseInt(t.version,10)>=n:Boolean(e)&&parseInt(t.version,10)<=n}function a(e){void 0===e&&(e=navigator.userAgent);var n=(e||"").toLowerCase();return t.ipod||t.iphone||-1!==n.indexOf("tizen")||-1!==n.indexOf("android")&&-1!==n.indexOf("mobile")||-1!==n.indexOf("bb10")||-1!==n.indexOf("netfront")||/windows phone|opera mini|blackberry|nokia/.test(n)||-1!==n.indexOf("firefox")&&-1!==n.indexOf("mobile")||-1!==n.indexOf("googlebot-mobile")||-1!==n.indexOf("iemobile")||-1!==n.indexOf("opera mobi")||/ucweb|ucbrowser/.test(n)||-1!==n.indexOf("microsoft office mobile")}function u(e){void 0===e&&(e=navigator.userAgent);var t=(e||"").toLowerCase();return-1!==t.indexOf("android")||-1!==t.indexOf("silk")}function c(e){return void 0===e&&(e=navigator.userAgent),t.ipad||u(e)&&!a(e)}t.ipad="ipad"===i.browser||void 0,t.chrome="chrome"===i.browser||void 0,t.safari=!("webkit"!==i.browser&&!Boolean(t.ipad))||void 0,t.opera="opera"===i.browser||void 0,t.msie="msie"===i.browser||void 0,t.edge="edge"===i.browser||"edg"===i.browser,t.edgeChromium=function(){return"edg"===r().browser},t.chromium=function(){return Boolean(t.chrome)||t.edgeChromium()},t.mozilla="mozilla"===i.browser||void 0,t.webkit=!("webkit"!==i.browser&&!Boolean(t.ipad)&&!Boolean(t.chrome))||void 0,t.mac=Boolean(/(macintosh)/.exec(navigator.userAgent.toLowerCase())),t.windows=/win(16|nt|dows)/.test(navigator.userAgent.toLowerCase()),t.windowsInfo=n(navigator.userAgent.toLowerCase(),t.windows),t.iphone=Boolean(/(iphone)/.exec(navigator.userAgent.toLowerCase())),t.ipod=Boolean(/(ipod)/.exec(navigator.userAgent.toLowerCase())),t.iOS=t.ipad||t.ipod||t.iphone,t.facebookWebView=Boolean(/(FBAN)|(FBAV)/.exec(navigator.userAgent)),t.browser_name=i.browser,t.version=i.version,t.userAgent=i.userAgent,t.plugins=o(),t.pluginNames=t.plugins.map((function(e){return e.name})),t.msie_version_at_most=function(e){return s(t.msie,e,!1)},t.is_high_density_display=function(){if(window.matchMedia){return Boolean(window.matchMedia("(-webkit-min-device-pixel-ratio: 1.1), (min-resolution: 192dpx), (min-resolution: 1.1dppx)").matches)}return!1},t.isOnline=function(){return navigator.onLine},t.subscribeConnectivityStatusChange=function(e){window.addEventListener("online",e),window.addEventListener("offline",e)},t.unsubscribeConnectivityStatusChange=function(e){window.removeEventListener("online",e),window.removeEventListener("offline",e)},t.checkBrowserVersion=s,t.is_supported_mobile_browser=a,t.is_android=u,t.is_tablet=c,t.is_mobile_or_tablet=function(e){return void 0===e&&(e=navigator.userAgent),a(e)||c(e)},t.is_input_webkitdirectory_supported=function(){return"webkitdirectory"in document.createElement("input")},t.INTERNAL_FILE_DATA_TRANSFER_TYPE=t.msie?"text":t.edge?"text/plain":"application/x-dropbox-file-list"})),define("modules/core/dom",["require","exports","tslib","ts-key-enum"],(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElementInViewport=t.keepFocusIn=t.getTabbableElementsIn=t.getFocusableElementsIn=t.clone_position=t.scroll_to=t.scroll_unlock_document=t.scroll_lock_document=t.is_page_scrollable=t.scroll_offsets=t.is_content_editable=t.is_input=t.focus_in_input=void 0;t.focus_in_input=function(){return t.is_input(document.activeElement)},t.is_input=function(e){return null!=e&&(["INPUT","TEXTAREA","SELECT"].includes(e.tagName)&&!(e.type in["submit","button"])||t.is_content_editable(e))},t.is_content_editable=function(e){return null!=e&&(e.hasAttribute&&e.hasAttribute("contenteditable")&&"false"!==e.getAttribute("contenteditable").toLowerCase())};var o=!1,i=null,s=0,a=null;t.scroll_offsets=function(){var e,n;return o||(window.addEventListener("scroll",(function(){return i=null})),o=!0),t.is_page_scrollable()?i||(n=document.documentElement.scrollTop,e=document.documentElement.scrollLeft,i={0:e,1:n,left:e,top:n}):(n=a.top,e=a.left,i={0:e,1:n,left:e,top:n}),i},t.is_page_scrollable=function(){return!document.documentElement.classList.contains("no-scroll")},t.scroll_lock_document=function(){s++;var e=document.documentElement;if(!e.classList.contains("no-scroll")){var n=-1*(a=t.scroll_offsets()).top+"px",r=-1*a.left+"px";e.style.top=n,e.style.left=r,e.classList.add("no-scroll")}},t.scroll_unlock_document=function(){s>0&&s--;var e=document.documentElement;if(0===s&&e.classList.contains("no-scroll")&&a){var n=a.top,r=a.left;e.style.top="",e.style.left="",e.classList.remove("no-scroll"),t.scroll_to(r,n+1),t.scroll_to(r,n-1),t.scroll_to(r,n)}},t.scroll_to=function(e,n){var r=Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight);if(e=Math.max(e,0),(n=Math.max(n,0))>t.scroll_offsets().top&&(n=Math.min(n,r-document.documentElement.clientHeight)),t.is_page_scrollable())window.scrollTo(e,n),i={0:e,1:n,left:e,top:n};else{a={0:e,1:n,left:e,top:n};var o=-1*n+"px",s=-1*e+"px",u=document.documentElement;u.style.top=o,u.style.left=s}},t.clone_position=function(e,t,r){var o=n.__assign(n.__assign({},{setLeft:!0,setTop:!0,setWidth:!0,setHeight:!0,offsetTop:0,offsetLeft:0}),r),i=t.getBoundingClientRect(),s={top:0,left:0},a=null;if("absolute"===getComputedStyle(e).position&&(a=e.offsetParent||e)&&(s=n.__assign({},a.getBoundingClientRect())),a===document.body&&(s.left-=document.body.offsetLeft,s.top-=document.body.offsetTop),o.setLeft){var u=i.left-s.left+o.offsetLeft+"px";e.style.left=u}if(o.setTop){var c=i.top-s.top+o.offsetTop+"px";e.style.top=c}o.setWidth&&(e.style.width=t.offsetWidth+"px"),o.setHeight&&(e.style.height=t.offsetHeight+"px")},t.getFocusableElementsIn=function(e,t){var n;if(e instanceof Element?n=e:e instanceof Node&&(n=e),!n)return[];var r=n.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),o=Array.from(r).filter((function(e){if(!(e instanceof HTMLElement))return!1;var t=e.offsetWidth&&e.offsetHeight,n=e.getClientRects().length;return!(!t&&!n)}));return t?o.filter((function(e){return!e.matches('*[tabindex="-1"]')})):o},t.getTabbableElementsIn=function(e){var n=t.getFocusableElementsIn(e,!0),r=[],o=[];if(n.forEach((function(e){e.matches('*:not([tabindex]), *[tabindex="0"]')?r.push(e):o.push(e)})),!o.length)return r;return o.sort((function(e,t){return parseInt(e.getAttribute("tabindex"),10)-parseInt(t.getAttribute("tabindex"),10)})),o.concat(r)},t.keepFocusIn=function(e,n,o,i){if(o.key===r.Key.Tab){var s=t.getTabbableElementsIn(e);if(s.length){var a=s.indexOf(n);if(-1!==a)o.shiftKey?0===a?(o.preventDefault(),s[s.length-1].focus()):i&&s[a-1]&&(o.preventDefault(),s[a-1].focus()):a===s.length-1?(o.preventDefault(),s[0].focus()):i&&s[a+1]&&(o.preventDefault(),s[a+1].focus());else{o.preventDefault();var u=t.getFocusableElementsIn(e);o.shiftKey&&u.reverse();var c=u.indexOf(n);if(-1===c)s[0].focus();else{for(var l=null,d=0,p=u.slice(c);d<p.length;d++){var h=p[d];if(s.includes(h)){l=h;break}}l?l.focus():o.shiftKey?s[s.length-1].focus():s[0].focus()}}}}},t.isElementInViewport=function(e,t){if(void 0===t&&(t=0),!e)return!1;var n=e.getBoundingClientRect().top;return n+t>=0&&n-t<=window.innerHeight}})),define("modules/core/html",["require","exports","tslib","lodash"],(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTML=t.isHTML=void 0,r=n.__importStar(r);var o=/[^\w@\.\ \-\(\)\,\$~%#\[\]\{\}\!\^]/g,i=function(e){return"&#"+e.charCodeAt(0)+";"},s=function(e){return(""+e).replace(o,i)};t.isHTML=function(e){return"object"==typeof e&&"function"==typeof e.toHTML};var a=(function(){function e(e){this._str_DONT_TOUCH=e}return e.prototype.toHTML=function(){return this._str_DONT_TOUCH},e.prototype.toString=function(){return"[object HTML]"},e.tmpl=function(t,n){if(!/[^\w:.-]/.test(t)){var o=document.getElementById(t);t=o.innerHTML,window.CSP_SCRIPT_NONCE!==(o.nonce||o.getAttribute("nonce"))&&(t="")}var i=t.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.*?)%>/g,"',__no_conflict_HTML__._raw_escape($1),'").split("<%").join("');").split("%>").join("p.push('"),s=new Function("__no_conflict_HTML__","TEMPLATE_DATA","var p=[],print=function(){p.push.apply(p,arguments);}; p.push('"+i+"'); return new __no_conflict_HTML__(p.join('').trim());"),a=r.partial(s,e);return n?a(n):a},e.escape=function(t){return t instanceof e?t:new e(s(t))},e._raw_escape=function(t){return t instanceof e?t.toHTML():"number"==typeof t?t:s(t)},e})();t.HTML=a})),define("modules/core/notify",["require","exports","tslib","dompurify","react-dom","react","modules/core/accessible_announce","modules/core/html"],(function(e,t,n,r,o,i,s,a){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),t.Notify=void 0,r=n.__importStar(r),o=n.__importStar(o),i=n.__importStar(i),(function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Success=3]="Success"})(u||(u={}));var c=function(e){if(!e.message)return null;var t="";switch(e.notificationType){case u.Error:t="server-error";break;case u.Warning:t="server-warning";break;case u.Info:t="server-info";break;case u.Success:t="server-success"}var n="notify-wrapper"+(e.hasTopNotification?" with-top-notification":"");return i.createElement("div",{id:"notify-wrapper",className:n},i.createElement("div",{id:"notify",className:t,style:{display:"inline-block"}},a.isHTML(e.message)?i.createElement("span",{id:"notify-msg",className:"notify-msg",dangerouslySetInnerHTML:{__html:r.sanitize(e.message.toHTML())}}):i.createElement("span",{id:"notify-msg",className:"notify-msg"},e.message)))},l=(function(e){function t(t){var n=e.call(this,t)||this;return n.state={message:"",hasTopNotification:!1,notificationType:u.Info,visible:!1},n}return n.__extends(t,e),t.prototype.show=function(e,t,n){var r=document.querySelectorAll(".maestro .has-top-notification").length>0;this.setState({message:e,hasTopNotification:r,notificationType:t,onHide:n,visible:!0})},t.prototype.hide=function(){this.setState({visible:!1})},t.prototype.render=function(){var e=this.state.visible?"notify-show":"notify-hide";return i.createElement("div",{className:e},i.createElement(c,{message:this.state.message,hasTopNotification:this.state.hasTopNotification,notificationType:this.state.notificationType}))},t})(i.Component),d=(function(){function e(){this._portal=i.createRef()}return e.prototype.customSuccess=function(e,t,n,r){return void 0===n&&(n=10),s.AccessibleAnnounce.polite(t,n+1),this.show(e,n,u.Success,r)},e.prototype.success=function(e,t,n){return void 0===t&&(t=10),s.AccessibleAnnounce.polite(e,t+1),this.show(e,t,u.Success,n)},e.prototype.error=function(e,t,n){return void 0===t&&(t=10),s.AccessibleAnnounce.assertive(e,t+1),this.show(e,t,u.Error,n)},e.prototype.warning=function(e,t,n){return void 0===t&&(t=10),s.AccessibleAnnounce.polite(e,t+1),this.show(e,t,u.Warning,n)},e.prototype.info=function(e,t,n){return void 0===t&&(t=10),s.AccessibleAnnounce.polite(e,t+1),this.show(e,t,u.Info,n)},e.prototype.clear=function(){this._portal.current&&(this._portal.current.hide(),this._timeout&&(clearTimeout(this._timeout),this._timeout=null))},e.prototype.isShown=function(){return null!=this._timeout},e.prototype.current=function(){return this._timeout},e.prototype.show=function(e,t,n,r){var s=this,a=1e3*t;if(this._portal.current)this._portal.current.show(e,n,r);else{var u=document.createElement("div");u.classList.add("notify-portal-component"),document.body.appendChild(u),o.render(i.createElement(l,{ref:this._portal}),u,(function(){s._portal.current&&s._portal.current.show(e,n,r)}))}return null!=this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout((function(){s._portal.current&&s._portal.current.hide(),s._timeout=null,r&&r()}),a)},e})();t.Notify=new d})),define("modules/core/uri",["require","exports","modules/core/exception"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryComponent=t.URI=void 0;var r=/^(?:([^:\/\\?#]+):)?(?:[\/\\]{2}([^\/\\?#]*))?([^?#]*)(?:\?([^#]*))?(?:[#](.*))?$/,o=/^[a-zA-Z][a-zA-Z0-9+.\-]*$/,i=(function(){function e(e){void 0===e&&(e={}),this.dict={},this.add(e)}return e.parseString=function(t){if(!t)return{};var n={};return t.split("&").forEach((function(t){if(""!==t){var r=t.split("="),o=e.decode(r[0]),i=e.decode(r.slice(1).join("="));if(n.hasOwnProperty(o)){var s=n[o],a=void 0;(a="string"==typeof s?[s]:void 0===s?[]:s).push(i),n[o]=a}else n[o]=i}})),n},e.prototype.add=function(e,t){if("string"==typeof e)t&&(Array.isArray(t)?this.dict[e]=t.map(String):this.dict[e]=String(t));else for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(Array.isArray(r)?this.dict[n]=r.map(String):this.dict[n]=String(r))}return this},e.prototype.remove=function(e){return delete this.dict[e],this},e.prototype.replace=function(e){return this.dict=e,this},e.prototype.toString=function(){for(var t=[],n=Object.keys(this.dict).sort(),r=function(n){if(o.dict.hasOwnProperty(n)){var r=o.dict[n];Array.isArray(r)?r.forEach((function(r){t.push(e.encode(n)+"="+e.encode(r))})):t.push(e.encode(n)+"="+e.encode(r))}},o=this,i=0,s=n;i<s.length;i++){r(s[i])}return t.length?t.join("&"):""},e.decode=function(e){return null==e?"":s.decode(e.replace(/\+/g,"%20"))},e.encode=function(e){return null==e?"":s.encode(e).replace(/%20/g,"+")},e})();t.QueryComponent=i;var s=(function(){function e(e){void 0===e&&(e={}),this.query=new i,this.initFromObject(e)}return e.prototype.initFromObject=function(e){this.setScheme(e.scheme),this.authority=e.authority||"",this.path=e.path||"",this.setQuery(e.query),this.fragment=e.fragment||""},e.prototype.getScheme=function(){return this.scheme},e.prototype.getAuthority=function(){return this.authority},e.prototype.getPath=function(){return this.path},e.prototype.getQuery=function(){return this.query.dict},e.prototype.getFragment=function(){return this.fragment},e.prototype.setScheme=function(e){void 0===e&&(e="");var t=!e||Boolean(e.match(o));return n.assert(t,"Invalid scheme",{exc_extra:{scheme_param:e}}),this.scheme=e,this},e.prototype.setAuthority=function(e){return void 0===e&&(e=""),this.authority=e,this},e.prototype.setPath=function(e){return void 0===e&&(e=""),this.path=e,this},e.prototype.setQuery=function(e){return void 0===e&&(e={}),this.query=new i(e),this},e.prototype.setFragment=function(e){return void 0===e&&(e=""),this.fragment=e,this},e.prototype.updateQuery=function(e,t){return this.query.add(e,t),this},e.prototype.removeQuery=function(e){return this.query.remove(e),this},e.prototype.clone=function(){return new e(this.toObject())},e.prototype.toObject=function(){return{scheme:this.getScheme(),authority:this.getAuthority(),path:this.getPath(),query:this.getQuery(),fragment:this.getFragment()}},e.prototype.toString=function(){var t="";this.scheme&&(t+=this.scheme+":"),this.authority&&(t+="//"+e.encode(this.authority,":@[]")),this.path&&(n.assert(!this.authority||!this.path.length||"/"===this.path[0],'Path must start with a "/" if URI is not relative'),t+=e.encode(this.path,"/"));var r=this.query.toString();return r&&(t+="?"+r),this.fragment&&(t+="#"+e.encode(this.fragment,":@[]/&=+?#!")),t},e.parse=function(t){var n=String(t).match(r)||[],o=n[1],s=n[2],a=n[3],u=n[4],c=n[5],l=new e;return l.setScheme(o),l.setAuthority(e.decode(s)),l.setPath(e.decode(a)),l.setQuery(i.parseString(u)),l.setFragment(e.decode(c)),l},e.decode=function(e){return e?decodeURIComponent(e):""},e.encode=function(e,t){if(void 0===t&&(t=""),!e)return"";e=encodeURIComponent(e);for(var n=0,r=t+="~";n<r.length;n++){var o=r[n],i=encodeURIComponent(o);e=e.replace(new RegExp(i,"g"),o)}return e},e.encode_parts=function(t,n){return void 0===n&&(n="/"),t.split(n).map((function(t){return e.encode(t)})).join(n)},e.Query=i,e})();t.URI=s})),define("prod_assets_web_modules/eventemitter3",["./common/_commonjsHelpers"],(function(e){"use strict";return e.createCommonjsModule((function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,i,s){var a=n?n+e:e;if(!this._events[a])return!1;var u,c,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,i),!0;case 6:return l.fn.call(l.context,t,r,o,i,s),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,o);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==t||o&&!a[u].once||r&&a[u].context!==r)&&c.push(a[u]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}))})),define("prod_assets_web_modules/ts-key-enum",["./common/_commonjsHelpers"],(function(e){"use strict";var t=e.createCommonjsModule((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.Key||(t.Key={})).Unidentified="Unidentified",n.Alt="Alt",n.AltGraph="AltGraph",n.CapsLock="CapsLock",n.Control="Control",n.Fn="Fn",n.FnLock="FnLock",n.Hyper="Hyper",n.Meta="Meta",n.NumLock="NumLock",n.ScrollLock="ScrollLock",n.Shift="Shift",n.Super="Super",n.Symbol="Symbol",n.SymbolLock="SymbolLock",n.Enter="Enter",n.Tab="Tab",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.ArrowUp="ArrowUp",n.End="End",n.Home="Home",n.PageDown="PageDown",n.PageUp="PageUp",n.Backspace="Backspace",n.Clear="Clear",n.Copy="Copy",n.CrSel="CrSel",n.Cut="Cut",n.Delete="Delete",n.EraseEof="EraseEof",n.ExSel="ExSel",n.Insert="Insert",n.Paste="Paste",n.Redo="Redo",n.Undo="Undo",n.Accept="Accept",n.Again="Again",n.Attn="Attn",n.Cancel="Cancel",n.ContextMenu="ContextMenu",n.Escape="Escape",n.Execute="Execute",n.Find="Find",n.Finish="Finish",n.Help="Help",n.Pause="Pause",n.Play="Play",n.Props="Props",n.Select="Select",n.ZoomIn="ZoomIn",n.ZoomOut="ZoomOut",n.BrightnessDown="BrightnessDown",n.BrightnessUp="BrightnessUp",n.Eject="Eject",n.LogOff="LogOff",n.Power="Power",n.PowerOff="PowerOff",n.PrintScreen="PrintScreen",n.Hibernate="Hibernate",n.Standby="Standby",n.WakeUp="WakeUp",n.AllCandidates="AllCandidates",n.Alphanumeric="Alphanumeric",n.CodeInput="CodeInput",n.Compose="Compose",n.Convert="Convert",n.Dead="Dead",n.FinalMode="FinalMode",n.GroupFirst="GroupFirst",n.GroupLast="GroupLast",n.GroupNext="GroupNext",n.GroupPrevious="GroupPrevious",n.ModeChange="ModeChange",n.NextCandidate="NextCandidate",n.NonConvert="NonConvert",n.PreviousCandidate="PreviousCandidate",n.Process="Process",n.SingleCandidate="SingleCandidate",n.HangulMode="HangulMode",n.HanjaMode="HanjaMode",n.JunjaMode="JunjaMode",n.Eisu="Eisu",n.Hankaku="Hankaku",n.Hiragana="Hiragana",n.HiraganaKatakana="HiraganaKatakana",n.KanaMode="KanaMode",n.KanjiMode="KanjiMode",n.Katakana="Katakana",n.Romaji="Romaji",n.Zenkaku="Zenkaku",n.ZenkakuHanaku="ZenkakuHanaku",n.F1="F1",n.F2="F2",n.F3="F3",n.F4="F4",n.F5="F5",n.F6="F6",n.F7="F7",n.F8="F8",n.F9="F9",n.F10="F10",n.F11="F11",n.F12="F12",n.F13="F13",n.F14="F14",n.F15="F15",n.F16="F16",n.F17="F17",n.F18="F18",n.F19="F19",n.F20="F20",n.Soft1="Soft1",n.Soft2="Soft2",n.Soft3="Soft3",n.Soft4="Soft4",n.AppSwitch="AppSwitch",n.Call="Call",n.Camera="Camera",n.CameraFocus="CameraFocus",n.EndCall="EndCall",n.GoBack="GoBack",n.GoHome="GoHome",n.HeadsetHook="HeadsetHook",n.LastNumberRedial="LastNumberRedial",n.Notification="Notification",n.MannerMode="MannerMode",n.VoiceDial="VoiceDial",n.ChannelDown="ChannelDown",n.ChannelUp="ChannelUp",n.MediaFastForward="MediaFastForward",n.MediaPause="MediaPause",n.MediaPlay="MediaPlay",n.MediaPlayPause="MediaPlayPause",n.MediaRecord="MediaRecord",n.MediaRewind="MediaRewind",n.MediaStop="MediaStop",n.MediaTrackNext="MediaTrackNext",n.MediaTrackPrevious="MediaTrackPrevious",n.AudioBalanceLeft="AudioBalanceLeft",n.AudioBalanceRight="AudioBalanceRight",n.AudioBassDown="AudioBassDown",n.AudioBassBoostDown="AudioBassBoostDown",n.AudioBassBoostToggle="AudioBassBoostToggle",n.AudioBassBoostUp="AudioBassBoostUp",n.AudioBassUp="AudioBassUp",n.AudioFaderFront="AudioFaderFront",n.AudioFaderRear="AudioFaderRear",n.AudioSurroundModeNext="AudioSurroundModeNext",n.AudioTrebleDown="AudioTrebleDown",n.AudioTrebleUp="AudioTrebleUp",n.AudioVolumeDown="AudioVolumeDown",n.AudioVolumeMute="AudioVolumeMute",n.AudioVolumeUp="AudioVolumeUp",n.MicrophoneToggle="MicrophoneToggle",n.MicrophoneVolumeDown="MicrophoneVolumeDown",n.MicrophoneVolumeMute="MicrophoneVolumeMute",n.MicrophoneVolumeUp="MicrophoneVolumeUp",n.TV="TV",n.TV3DMode="TV3DMode",n.TVAntennaCable="TVAntennaCable",n.TVAudioDescription="TVAudioDescription",n.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",n.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",n.TVContentsMenu="TVContentsMenu",n.TVDataService="TVDataService",n.TVInput="TVInput",n.TVInputComponent1="TVInputComponent1",n.TVInputComponent2="TVInputComponent2",n.TVInputComposite1="TVInputComposite1",n.TVInputComposite2="TVInputComposite2",n.TVInputHDMI1="TVInputHDMI1",n.TVInputHDMI2="TVInputHDMI2",n.TVInputHDMI3="TVInputHDMI3",n.TVInputHDMI4="TVInputHDMI4",n.TVInputVGA1="TVInputVGA1",n.TVMediaContext="TVMediaContext",n.TVNetwork="TVNetwork",n.TVNumberEntry="TVNumberEntry",n.TVPower="TVPower",n.TVRadioService="TVRadioService",n.TVSatellite="TVSatellite",n.TVSatelliteBS="TVSatelliteBS",n.TVSatelliteCS="TVSatelliteCS",n.TVSatelliteToggle="TVSatelliteToggle",n.TVTerrestrialAnalog="TVTerrestrialAnalog",n.TVTerrestrialDigital="TVTerrestrialDigital",n.TVTimer="TVTimer",n.AVRInput="AVRInput",n.AVRPower="AVRPower",n.ColorF0Red="ColorF0Red",n.ColorF1Green="ColorF1Green",n.ColorF2Yellow="ColorF2Yellow",n.ColorF3Blue="ColorF3Blue",n.ColorF4Grey="ColorF4Grey",n.ColorF5Brown="ColorF5Brown",n.ClosedCaptionToggle="ClosedCaptionToggle",n.Dimmer="Dimmer",n.DisplaySwap="DisplaySwap",n.DVR="DVR",n.Exit="Exit",n.FavoriteClear0="FavoriteClear0",n.FavoriteClear1="FavoriteClear1",n.FavoriteClear2="FavoriteClear2",n.FavoriteClear3="FavoriteClear3",n.FavoriteRecall0="FavoriteRecall0",n.FavoriteRecall1="FavoriteRecall1",n.FavoriteRecall2="FavoriteRecall2",n.FavoriteRecall3="FavoriteRecall3",n.FavoriteStore0="FavoriteStore0",n.FavoriteStore1="FavoriteStore1",n.FavoriteStore2="FavoriteStore2",n.FavoriteStore3="FavoriteStore3",n.Guide="Guide",n.GuideNextDay="GuideNextDay",n.GuidePreviousDay="GuidePreviousDay",n.Info="Info",n.InstantReplay="InstantReplay",n.Link="Link",n.ListProgram="ListProgram",n.LiveContent="LiveContent",n.Lock="Lock",n.MediaApps="MediaApps",n.MediaAudioTrack="MediaAudioTrack",n.MediaLast="MediaLast",n.MediaSkipBackward="MediaSkipBackward",n.MediaSkipForward="MediaSkipForward",n.MediaStepBackward="MediaStepBackward",n.MediaStepForward="MediaStepForward",n.MediaTopMenu="MediaTopMenu",n.NavigateIn="NavigateIn",n.NavigateNext="NavigateNext",n.NavigateOut="NavigateOut",n.NavigatePrevious="NavigatePrevious",n.NextFavoriteChannel="NextFavoriteChannel",n.NextUserProfile="NextUserProfile",n.OnDemand="OnDemand",n.Pairing="Pairing",n.PinPDown="PinPDown",n.PinPMove="PinPMove",n.PinPToggle="PinPToggle",n.PinPUp="PinPUp",n.PlaySpeedDown="PlaySpeedDown",n.PlaySpeedReset="PlaySpeedReset",n.PlaySpeedUp="PlaySpeedUp",n.RandomToggle="RandomToggle",n.RcLowBattery="RcLowBattery",n.RecordSpeedNext="RecordSpeedNext",n.RfBypass="RfBypass",n.ScanChannelsToggle="ScanChannelsToggle",n.ScreenModeNext="ScreenModeNext",n.Settings="Settings",n.SplitScreenToggle="SplitScreenToggle",n.STBInput="STBInput",n.STBPower="STBPower",n.Subtitle="Subtitle",n.Teletext="Teletext",n.VideoModeNext="VideoModeNext",n.Wink="Wink",n.ZoomToggle="ZoomToggle",n.SpeechCorrectionList="SpeechCorrectionList",n.SpeechInputToggle="SpeechInputToggle",n.Close="Close",n.New="New",n.Open="Open",n.Print="Print",n.Save="Save",n.SpellCheck="SpellCheck",n.MailForward="MailForward",n.MailReply="MailReply",n.MailSend="MailSend",n.LaunchCalculator="LaunchCalculator",n.LaunchCalendar="LaunchCalendar",n.LaunchContacts="LaunchContacts",n.LaunchMail="LaunchMail",n.LaunchMediaPlayer="LaunchMediaPlayer",n.LaunchMusicPlayer="LaunchMusicPlayer",n.LaunchMyComputer="LaunchMyComputer",n.LaunchPhone="LaunchPhone",n.LaunchScreenSaver="LaunchScreenSaver",n.LaunchSpreadsheet="LaunchSpreadsheet",n.LaunchWebBrowser="LaunchWebBrowser",n.LaunchWebCam="LaunchWebCam",n.LaunchWordProcessor="LaunchWordProcessor",n.LaunchApplication1="LaunchApplication1",n.LaunchApplication2="LaunchApplication2",n.LaunchApplication3="LaunchApplication3",n.LaunchApplication4="LaunchApplication4",n.LaunchApplication5="LaunchApplication5",n.LaunchApplication6="LaunchApplication6",n.LaunchApplication7="LaunchApplication7",n.LaunchApplication8="LaunchApplication8",n.LaunchApplication9="LaunchApplication9",n.LaunchApplication10="LaunchApplication10",n.LaunchApplication11="LaunchApplication11",n.LaunchApplication12="LaunchApplication12",n.LaunchApplication13="LaunchApplication13",n.LaunchApplication14="LaunchApplication14",n.LaunchApplication15="LaunchApplication15",n.LaunchApplication16="LaunchApplication16",n.BrowserBack="BrowserBack",n.BrowserFavorites="BrowserFavorites",n.BrowserForward="BrowserForward",n.BrowserHome="BrowserHome",n.BrowserRefresh="BrowserRefresh",n.BrowserSearch="BrowserSearch",n.BrowserStop="BrowserStop",n.Decimal="Decimal",n.Key11="Key11",n.Key12="Key12",n.Multiply="Multiply",n.Add="Add",n.Divide="Divide",n.Subtract="Subtract",n.Separator="Separator"}));return e.getDefaultExportFromCjs(t)}));
//# sourceMappingURL=pkg-core.min.js-vfl3lLLie.map