define("modules/clean/react/modal_dig",["require","exports","tslib","classnames","dompurify","react","dig-components/buttons","dig-components/modal","dig-components/typography","modules/clean/react/css","modules/clean/react/modal_controller","modules/clean/ux_analytics/utils","modules/core/i18n"],(function(t,e,a,n,o,s,r,i,l,d,u,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReactModal=e.SimpleModal=e.Modal=e.ModalWithCSS=e.ModalButtons=e.ModalButton=void 0,n=a.__importDefault(n),o=a.__importStar(o),s=a.__importDefault(s),u=a.__importStar(u);var m=i.Modal.Header,h=i.Modal.Footer,f=i.Modal.Body,v=(function(t){function e(e){var a=t.call(this,e)||this;return a.state={open:!0},a.modal=s.default.createRef(),a.modalBox=s.default.createRef(),a}return a.__extends(e,t),e.prototype.invokeCBThenCloseModal=function(t,e,a){void 0===a&&(a=!1),"function"==typeof t&&t.call(this,e);var n=e.defaultPrevented;"isDefaultPrevented"in e&&(n=e.isDefaultPrevented()),n||(this.props.autoClose||a)&&u.unmountModal()},e.prototype.dismissModal=function(t){var e=this.props,a=e.onDismiss,n=e.onDismissCompleted;this.invokeCBThenCloseModal(a,t,!0),n&&n.call(this,t)},e.prototype.onCancelActionClicked=function(t){this.dismissModal(t)},e.prototype.onAcceptActionClicked=function(t){var e=this.props.onAccept;this.invokeCBThenCloseModal(e,t)},e.prototype.componentDidMount=function(){p.dispatchModalOpened(),i.Modal.setAppElement(document.body)},e.prototype.componentWillUnmount=function(){p.dispatchModalClosed()},e.prototype.render=function(){var t=this.props,e={"db-modal-wrapper":!0,"uxa-modal":!0,"clean-react-modal":!0,"db-modal--default-maestro-style":"default-maestro"===t.style};t.className&&(e[t.className]=!0);var a=n.default(e),o=p.getModalId({id:t.id,className:t.className}),d=this.state.open,c=this.onCancelActionClicked.bind(this),v=this.onAcceptActionClicked.bind(this),_=t.onShow;return s.default.createElement("div",{className:a},s.default.createElement("div",{ref:this.modal,className:"db-modal db-modal__dig"},s.default.createElement("div",{ref:this.modalBox,className:"db-modal-box"},s.default.createElement(i.Modal,{open:d,className:"db-modal-"+t.style,onRequestClose:c,onAfterOpen:_,"aria-labelledby":"db-modal-title",overlayClassName:"db-modal-overlay",ariaHideApp:!1,id:u.MODAL_ROOT_ID,"data-testid":u.MODAL_ROOT_TESTID,width:t.width||"standard",withCloseButton:u.CLOSE_BUTTON_TEXT},s.default.createElement("div",{className:"db-modal__dig-container",id:o},t.title&&s.default.createElement(m,{hasBottomSpacing:"title-standard",className:"db-modal-title",id:"db-modal-title"},s.default.createElement(l.Title,null,s.default.createElement("span",{className:"db-modal-title-text"},t.title))),s.default.createElement(f,{ref:this.modalContainer,className:"db-modal-content",hasVerticalSpacing:!1},t.children),s.default.createElement(h,{className:"db-modal-buttons"},t.buttonComponent?t.buttonComponent:s.default.createElement(s.default.Fragment,null,t.helpLink&&s.default.createElement(r.Button,{hasNoUnderline:!0,variant:"transparent",className:"dbmodal-extra-link-button db-modal__unclickable-parent"},t.helpLink),t.altAction&&s.default.createElement(r.Button,{hasNoUnderline:!0,variant:"transparent",className:"db-modal__alt-action db-modal__unclickable-parent"},t.altAction),t.dismissButtonText?s.default.createElement(r.Button,{className:"dbmodal-button dbmodal-button__cancel",key:"tertiary-dismiss",variant:"opacity",onClick:c},t.dismissButtonText):s.default.createElement("span",null),t.acceptButtonText&&s.default.createElement(r.Button,{className:"dbmodal-button dbmodal-button__accept",key:"primary",variant:"primary",disabled:t.acceptButtonDisabled,onClick:v,isLoading:t.submitting},t.acceptButtonText))))))))},e.displayName="Modal",e.defaultProps={acceptButtonText:c.intl.formatMessage({id:"nOO9Qi",defaultMessage:"OK"}),dismissButtonText:null,buttonComponent:null,onAccept:function(){},onDismiss:function(){},onShow:function(){},autoClose:!0,style:"default",acceptButtonDisabled:!1},e})(s.default.Component),_={show:function(t){var e={acceptButtonText:t.confirm_text,trackingIdPrefix:t.trackingIdPrefix,onAccept:t.confirm_callback,dismissButtonText:t.cancel_text,onDismiss:t.cancel_callback,onDismissCompleted:t.cancel_completed_callback,title:t.title_text,width:t.width,className:"simple-modal",autoClose:t.autoclose,style:t.style,onShow:t.on_show},n=t.body_react?s.default.createElement("div",{className:"simple-modal-content"},t.body_react):s.default.createElement("div",{className:"simple-modal-content",dangerouslySetInnerHTML:{__html:o.sanitize(t.body_html)}}),r=s.default.createElement(v,a.__assign({},e),n);return u.mountModal(r)}};e.SimpleModal=_,e.ModalButton=function(t){var e=t.className,o=t.children,i=a.__rest(t,["className","children"]);return s.default.createElement(r.Button,a.__assign({className:n.default(e,"dbmodal-button","button-"+i.variant,"dbmodal-button__"+i.variant)},i),o)},e.ModalButton.displayName="ModalButton",e.ModalButtons=function(t){var e=t.className,o=a.__rest(t,["className"]);return s.default.createElement("div",a.__assign({className:n.default(e,"db-modal-buttons")},o))},e.ModalButtons.displayName="ModalButtons",e.ModalWithCSS=d.requireCssWithComponent(v,["/static/css/dig-components/index.web-vflGkDgJo.css"]),e.Modal=e.ModalWithCSS,e.ReactModal=e.ModalWithCSS})),define("modules/clean/react/button_dig",["require","exports","tslib","classnames","react","dig-components/buttons","modules/core/browser"],(function(t,e,a,n,o,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.link_button=e.button=e.LinkButton=e.Button=void 0,n=a.__importDefault(n),o=a.__importDefault(o),r=a.__importStar(r);var i={secondary:"outline",tertiary:"transparent",styleless:"transparent",primary:"primary"},l=function(t){var e={};e["button-"+t.variant]=!(!t.variant||"standard"===t.variant);var o,s=t.importance||"primary";o=i[s]?i[s]:"primary",t.importance&&"styleless"!==t.importance&&(e["button-"+t.importance]=!0,e[t.importance]=!0),t.className&&(e[t.className]=!0);t.importance,t.variant;var r=a.__rest(t,["importance","variant"]);return r.className=n.default(e),{digVariant:o,domAttributes:r}},d=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.render=function(){var t=this.props,e=l(t),n=e.digVariant,r=e.domAttributes;return o.default.createElement(s.Button,a.__assign({},r,{variant:n}),t.children)},e.defaultProps={importance:"primary"},e})(o.default.Component);e.Button=d;var u=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.render=function(){var t=this.props,e=l(t).domAttributes;delete e.disabled;return o.default.createElement(s.Button,a.__assign({onClick:function(){t.href&&r.open_tab(t.href)}},e,{variant:"transparent"}),t.children)},e.defaultProps={importance:"primary"},e})(o.default.Component);e.LinkButton=u,e.button=d,e.link_button=u})),define("modules/clean/react/input_dig",["require","exports","tslib","classnames","dig-components/text_fields","dig-components/typography","create-react-class","react","react-dom","modules/clean/keycode","modules/clean/react/form_error_mixin","modules/clean/react/sprite","modules/core/cancelable_promise","modules/core/i18n"],(function(t,e,a,n,o,s,r,i,l,d,u,p,c,m){"use strict";function h(t,e){void 0===e&&(e=!1);var a=function(e){if(t>=e)return"password-input-dot-selected"},n="password-input-meter";e&&(n="password-input-meter-standalone");var o=i.default.createElement("div",{className:n,ref:"meter"},i.default.createElement("div",{className:"password-input-dot "+a(4)}),i.default.createElement("div",{className:"password-input-dot "+a(3)}),i.default.createElement("div",{className:"password-input-dot "+a(2)}),i.default.createElement("div",{className:"password-input-dot "+a(1)}));return e?i.default.createElement("span",{className:"standalone-password-meter-container"},o):o}Object.defineProperty(e,"__esModule",{value:!0}),e.textarea=e.text=e.password=e.password_strength_meter=void 0,n=a.__importDefault(n),r=a.__importDefault(r),i=a.__importDefault(i),l=a.__importStar(l),u=a.__importDefault(u),e.password_strength_meter=h;var f=function(e,f){return r.default({displayName:e+"."+f,mixins:[u.default],getDefaultProps:function(){return{errorWrapperClassName:"text-input-error-wrapper",expandedWidthOffset:90,expandable:!1,animationCurve:"easeOutSine",animationDuration:300,compatiblePlaceholder:!1}},getInitialState:function(){return{inputWidth:0,expanded:!1,value:this.props.defaultValue}},zxcvbnPromise:void 0,UNSAFE_componentWillMount:function(){var e=this;this.props.measureStrength&&(this.zxcvbnPromise=c.makeCancelable(new Promise((function(e,a){t(["zxcvbn"],e,a)})).then(a.__importStar)),this.zxcvbnPromise.then((function(t){var a=t.default;e.setState({zxcvbn:a})})))},componentWillUnmount:function(){this.zxcvbnPromise&&this.zxcvbnPromise.cancel()},componentDidMount:function(){this._renderFinished();var t=this.inputComponent.current.offsetWidth;return this.setState({inputWidth:t})},componentDidUpdate:function(){return this._renderFinished()},inputComponent:i.default.createRef(),render:function(){var t={"text-input-input":!0,autofocus:this.props.autofocus,"password-input":"password"===f},r={"text-input":!0,"text-wip-migration-wip":!0,"text-input-expandable":this.props.expandable,"text-input-inline":this.props.inline,"textarea-input":"textarea"===e};(r[this.props.variant||"standard"]=!0,this.props.className)&&this.props.className.split(/\s/).forEach((function(t){return r[t]=!0}));var l=this.renderErrorIfEnabled(),d=void 0;((null!=this.props.error?this.props.error.message_text:void 0)||null!=(null!=this.props.error?this.props.error.message_html:void 0))&&(d=this.state.errorWrapperIdName);var u=o.TextInput;"textarea"===e&&(u=o.TextArea);var c={id:this.props.id,name:this.props.name,"aria-describedby":d,"aria-label":d,className:n.default(t),type:f,value:this.props.value||(null!=this.props.valueLink?this.props.valueLink.value:void 0)||this.state.value,onChange:this.onChangeInternal,onFocus:this.onFocusInternal,onBlur:this.onBlurInternal,onKeyDown:this.onKeyDownInternal,autoFocus:this.props.autofocus,ref:this.inputComponent,placeholder:this.props.placeholder||""};for(var h in this.props)void 0===c[h]&&"autofocus"!==h&&(c[h]=this.props[h]);var v=i.default.createElement(u,a.__assign({},c));return i.default.createElement("div",{style:this.props.style,className:n.default(r)},!this.props["error-after"]&&l,i.default.createElement("div",{className:"text-input-wrapper"},this._renderPasswordStrengthBar(),v,this.props.expandable&&i.default.createElement("a",{href:"#",onClick:this.onCloseClick,ref:"closeButton",className:"close-button u-mar-left-xs"},i.default.createElement(p.Sprite,{group:"web",name:"xclose",alt:m.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"})})),this.props.label&&!(this.props.value||(null!=this.props.valueLink?this.props.valueLink.value:void 0)||this.state.value)&&i.default.createElement(s.Text,{size:"standard",tagName:"label",htmlFor:this.props.id},this.props.label)),this.props["error-after"]&&l)},getValue:function(){return this.inputComponent.current.value},setValue:function(t){return this.inputComponent.current.value=t,this.setState({value:t})},resizeComponent:function(){var t=this.inputComponent.current;return t.style.height="1px",t.style.height=t.scrollHeight+"px"},_renderPasswordStrengthBar:function(){return this.props.measureStrength?h(this.state.score):null},_renderFinished:function(){return this.props.autoresize&&this.resizeComponent(),"function"==typeof this.props.afterRender?this.props.afterRender():void 0},onCloseClick:function(t){if(null!=t&&t.preventDefault(),this.props.expandable){var e=l.findDOMNode(this.refs.closeButton),a=this.inputComponent.current;return e.style.opacity="0",a.style.width=this.state.inputWidth+"px","function"==typeof this.props.onCloseClick&&this.props.onCloseClick(t),this.setState({expanded:!1})}"function"==typeof this.props.onCloseClick&&this.props.onCloseClick(t)},onChangeInternal:function(t){if("function"==typeof this.props.onChange&&this.props.onChange(t),null!=this.props.value||(this.props.valueLink?this.props.valueLink.requestChange(t.target.value):this.setState({value:t.target.value})),this.props.measureStrength){var e=void 0;return e=this.state.zxcvbn&&t.target.value?Math.max(1,this.state.zxcvbn(t.target.value).score):0,this.setState({score:e})}},onFocusInternal:function(t){if("function"==typeof this.props.onFocus&&this.props.onFocus(t),!1!==this.props.expandable){var e=t.target,a=l.findDOMNode(this.refs.closeButton),n=this.state.inputWidth;0===n&&(n=this.inputComponent.current.offsetWidth,this.setState({inputWidth:n}));var o=n+this.props.expandedWidthOffset,s=o-parseInt(e.style.paddingRight)+a.offsetWidth/2;return a.style.left=s+"px",e.style.width=o+"px",e.style.opacity="1",this.setState({expanded:!0})}},onBlurInternal:function(t){var e=t.target.value;return!0===this.props.closeOnBlur&&0===e.length&&this.onCloseClick(),"function"==typeof this.props.onBlur?this.props.onBlur(t):void 0},onKeyDownInternal:function(t){if("function"==typeof this.props.onKeyDown&&this.props.onKeyDown(t),null!=this.state.expanded!=!1)switch(t.keyCode){case d.KeyCode.ESC:return t.target.blur(),this.onCloseClick()}}})};e.password=f("input","password"),e.text=f("input","text"),e.textarea=f("textarea","text")}));
//# sourceMappingURL=pkg-legacy-dig-migration.min.js-vfl3uFknQ.map